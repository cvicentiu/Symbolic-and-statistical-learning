// JavaScript Document
function linkAlert(URL){
	var newline = '\n';
	var sMessage = "You are about to leave the Australian Department of Health and Ageing website.";
	sMessage = sMessage + newline;
	sMessage = sMessage + "If this is your intention please click: "
	sMessage = sMessage + newline;
	sMessage = sMessage + "- OK to proceed or"
	sMessage = sMessage + newline;
	sMessage = sMessage + "- CANCEL to return to the current page"; 
	
	if (confirm(sMessage)) {
		window.location = URL;	
		return false;
	}else{
		return false;
	}
	
}
function FlashlinkAlert(URL){
	var newline = '\n';
	var sMessage = "You are about to leave the Australian Department of Health and Ageing website.";
	sMessage = sMessage + newline;
	sMessage = sMessage + "If this is your intention please click: "
	sMessage = sMessage + newline;
	sMessage = sMessage + "- OK to proceed or"
	sMessage = sMessage + newline;
	sMessage = sMessage + "- CANCEL to return to the current page"; 
	
	if (confirm(sMessage)) {
		window.location = URL;	
		return false;
	}else{
		
	}
	
}


function largeWarn(URL){
var sMessage = "LARGE FILE WARNING \n";
var newline = '\n';
sMessage = sMessage + "If your browser opens files within the browser window, it is strongly recommended that the following procedure be used to access all these files:\n"
sMessage = sMessage + newline;
sMessage = sMessage + "Click the cancel button below";
sMessage = sMessage + newline;
sMessage = sMessage + "Click the link with the RIGHT mouse button, choose"
sMessage = sMessage + newline;
sMessage = sMessage + "Save Target As... (Internet Explorer)"
sMessage = sMessage + newline;
sMessage = sMessage + "OR"
sMessage = sMessage + newline;
sMessage = sMessage + "Save Link As... (Netscape),"
sMessage = sMessage + "Select an appropriate folder on a local drive to place the downloaded file.\n";
sMessage = sMessage + newline;
sMessage = sMessage + "Attempting to open large files within the browser window may lead to system problems.\n";
sMessage = sMessage + newline;
sMessage = sMessage + "- OK to proceed or"
sMessage = sMessage + newline;
sMessage = sMessage + "- CANCEL to return to the current page"; 
	
	if (confirm(sMessage)) {
		window.location = URL;	
		return false;
	}else{
		return false;
	}
	
}

function combinedWarning(URL){
var sMessage = "LARGE FILE WARNING \n";
var newline = '\n';
sMessage = sMessage + "If your browser opens files within the browser window, it is strongly recommended that the following procedure be used to access all these files:\n"
sMessage = sMessage + newline;
sMessage = sMessage + "Click the cancel button below";
sMessage = sMessage + newline;
sMessage = sMessage + "Click the link with the RIGHT mouse button, choose"
sMessage = sMessage + newline;
sMessage = sMessage + "Save Target As... (Internet Explorer)"
sMessage = sMessage + newline;
sMessage = sMessage + "OR"
sMessage = sMessage + newline;
sMessage = sMessage + "Save Link As... (Netscape),"
sMessage = sMessage + "Select an appropriate folder on a local drive to place the downloaded file.\n";
sMessage = sMessage + newline;
sMessage = sMessage + "Attempting to open large files within the browser window may lead to system problems.\n";
sMessage = sMessage + newline;
sMessage = sMessage + "- OK to proceed or"
sMessage = sMessage + newline;
sMessage = sMessage + "- CANCEL to return to the current page"; 
	
sMessage = sMessage + newline + newline;
sMessage = sMessage + "EXTERNAL FILE WARNING" + newline;
sMessage = sMessage +  "You are about to leave the Australian Department of Health and Ageing website.";
sMessage = sMessage + newline;
sMessage = sMessage + "If this is your intention please click: "
sMessage = sMessage + newline;
sMessage = sMessage + "- OK to proceed or"
sMessage = sMessage + newline;
sMessage = sMessage + "- CANCEL to return to the current page"; 
	
	if (confirm(sMessage)) {
		window.location = URL;	
		return false;
	}else{
		return false;
	}
	
}

function checkSubmit() {
	if ((document.sform.query.value == "Enter keywords") || (document.sform.query.value == "")) {
		alert("You have not entered any search terms.");
		document.sform.query.value = "";
		document.sform.query.focus();
		return false;
	}
	return true;
}

//This function resets the page width to a larger size if a table within the body is detected to be larger than the screen.
//This is to account for right-hand teasers existing on the same page as a table that is wider than the screen.
function setPageWidth() {
	var intCounter;
	var intLength;
	var intScreenWidth;
	var intTableWidth;
	var intNewWidth;
	var intNavWidth;
	var intLeftNavWidth;
	var intRightNavWidth;
	var intOldRightNavWidth;
	var intOldMainbodyWidth;
	var intTableTop;
	var intRightNavHeight;
	var intTableHeight;
	var objTables = document.getElementsByTagName("table");
	
	intLength = objTables.length;
	intScreenWidth = document.body.clientWidth;
	intOldRightNavWidth = document.getElementById('rght').clientWidth
	intOldMainBodyWidth = document.getElementById('mainbody').clientWidth
	
	//intScreenWidth holds the actual amount of pixels left over the middle content when you subtract the space
	//taken up by the left had navigation and the right hand teasers.
	intNavWidth = Math.round((intScreenWidth / 100) * 75);
	intLeftNavWidth = Math.round((intScreenWidth / 100) * 24);
	//intRightNavWidth = Math.round((intScreenWidth / 100) * 27);
	intRightNavWidth = 250;
	intScreenWidth = Math.round((intScreenWidth / 100) * 48);
	intRightNavHeight = document.getElementById('rght').clientHeight + findPosY(document.getElementById('rght'))

	for (intCounter = 0; intCounter < intLength; intCounter++) {
	intTableHeight = findPosY(objTables[intCounter]);
	
		//Only resize the page for the first two tables, any others should be below the teasers by then and can be set to roughly the mainboyd width.
		if (intCounter == 0) {
			intTableWidth = objTables[intCounter].clientWidth;
			
			if (intTableWidth > intScreenWidth) {
				//intNewWidth = intTableWidth + intNavWidth - intLeftNavWidth;
				intNewWidth = intTableWidth + intRightNavWidth + 100;
				document.getElementById('rght').style.width = intRightNavWidth + "px";
				document.getElementById('mainbody').style.width =  intNewWidth + "px";
				document.getElementById('header').style.width =  (document.getElementById('lft').clientWidth + document.getElementById('mainbody').clientWidth - 25) + "px";
				document.getElementById('headerback').style.width =  (document.getElementById('lft').clientWidth + document.getElementById('mainbody').clientWidth) + "px";



				//document.getElementById('rightbanner').style.position = 'absolute';
				//document.getElementById('rightbanner').style.left = (document.getElementById('lft').clientWidth + document.getElementById('mainbody').clientWidth - 373) + "px";




				
				intTableTop = findPosY(objTables[intCounter]);
				if (intTableTop > intRightNavHeight) {
					document.getElementById('rght').style.width = intOldRightNavWidth;
					document.getElementById('mainbody').style.width = intOldMainBodyWidth;
					document.getElementById('header').style.width =  intOldMainBodyWidth;
					document.getElementById('headerback').style.width =  intOldMainBodyWidth;
					objTables[intCounter].style.width = (intOldMainBodyWidth - 100);
				}
			}
			else if (intTableHeight > intRightNavHeight) {
				objTables[intCounter].style.width = (intOldMainBodyWidth - 100);
			}
		}
		else if (intTableHeight > intRightNavHeight) {
				objTables[intCounter].style.width = (intOldMainBodyWidth - 100);
		}
	}
}
//Find the position of the object, adding any parent element offsets to find the total offset from the tops of the page.
function findPosY(obj)
{
	var curtop = 0;
	if (obj.offsetParent)
	{
		while (obj.offsetParent)
		{
			curtop += obj.offsetTop
			obj = obj.offsetParent;
		}
	}
	else if (obj.y)
		curtop += obj.y;
	return curtop;
}