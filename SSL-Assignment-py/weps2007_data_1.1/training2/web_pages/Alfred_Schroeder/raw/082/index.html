<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> CVS daily diff
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:cvs-list%40freexp.de?Subject=CVS%20daily%20diff&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
   <LINK REL="Previous"  HREF="000122.html">
   <LINK REL="Next"  HREF="000124.html">
 </HEAD>
 <body background="/images/background.gif" bgcolor="#ffffff">
   <TABLE WIDTH="100%" BORDER="0" CELLSPACING="0" CELLPADDING="5">
      <tr><td><img src="/images/fxp_100_t.gif" alt="FreeXP"></td></tr>
   </TABLE>
   <hr noshade color="#000099">
   <H1>CVS daily diff</H1>
    <B>FreeXP CVS-Server</B>
    <A HREF="mailto:dev@freexp.de?Subject=CVS%20daily%20diff&In-Reply-To="
       TITLE="CVS daily diff">cvs-list at freexp.de</A><BR>
    <I>Die Mar 16 00:00:17 CET 2004</I>
    <P><UL>
        <LI>Vorherige Nachricht: <A HREF="000122.html">CVS update: freexp/build/DOS16
</A></li>
        <LI>Nächste Nachricht: <A HREF="000124.html">CVS update: freexp/doc
</A></li>
         <LI> <B>Nachrichten sortiert nach:</B> 
              <a href="date.html#123">[ Datum ]</a>
              <a href="thread.html#123">[ Diskussionsfaden ]</a>
              <a href="subject.html#123">[ Betreff (Subject) ]</a>
              <a href="author.html#123">[ Autor ]</a>
         </LI>
       </UL>
    <HR>
<!--beginarticle-->
<PRE>Index: freexp/Trial/maggi.pas
===================================================================
RCS file: freexp/Trial/maggi.pas
diff -N freexp/Trial/maggi.pas
--- /dev/null	1 Jan 1970 00:00:00 -0000
+++ b/freexp/Trial/maggi.pas	15 Mar 2004 07:35:38 -0000	1.1
@@ -0,0 +1,2100 @@
+{ --------------------------------------------------------------- }
+{ Dieser Quelltext ist urheberrechtlich geschuetzt.               }
+{ (c) 1992-1999 Peter Mandrella                                   }
+{ (c) 2000-2001 OpenXP-Team                                       }
+{ (c) 2002-2004 FreeXP, <A HREF="http://www.freexp.de">http://www.freexp.de</A>                      }
+{ CrossPoint ist eine eingetragene Marke von Peter Mandrella.     }
+{                                                                 }
+{ Die Nutzungsbedingungen fuer diesen Quelltext finden Sie in der }
+{ Datei SLIZENZ.TXT oder auf www.crosspoint.de/oldlicense.html.   }
+{ --------------------------------------------------------------- }
+{ $Id: maggi.pas,v 1.1 2004/03/15 07:35:38 mw Exp $ }
+
+{ ZConnect &lt;-&gt; Magic/Quick - Konvertierer }
+{ PM 04/92                                }
+
+{ ERRORLEVEL:  0 = ok                  }
+{              1 = keine Konvertierung }
+{              2 = teilweise Konvert.  }
+
+{ Namenpoints: ABS:      <A HREF="http://www.freexp.de/cgi-bin/mailman/listinfo/cvs-list">USER at POINT</A>     Alias-Points: ABS:      <A HREF="http://www.freexp.de/cgi-bin/mailman/listinfo/cvs-list">USER at BOX</A>  }
+{              X-XP-BOX: BOX            bzw. Nodes:   X-XP-PNT: POINT     }
+{              X-XP-PNT: POINT                                            }
+
+{ Direction:   1=Magic-&gt;Z, 2=Z-&gt;Magic, 3=Magic-&gt;Netcall }
+{              4=Quick-&gt;Z, 5=Z-&gt;Quick                   }
+{              6=Maus-&gt;Z, 7=Z-&gt;Maus                     }
+{              8=ProNet-Z, 9=Z-&gt;ProNet                  }
+
+{$I XPDEFINE.INC }
+
+{$IFDEF Delphi }
+  {$APPTYPE CONSOLE }
+{$ENDIF }
+
+{$IFDEF BP }
+  {$M 20000,50000,655360}
+{$ENDIF }
+
+uses dos,xms,typeform,xpovl,fileio,montage,xpdatum,xp_iti,xpglobal,
+     mimedec,lfn;
+
+const nt_ZConnect=2;
+      OrgLen    = 80;
+      hderrlen  = 40;
+      BetreffLen= 248;
+      readempflist = false;
+      readkoplist  = false;
+      readOemList  = false;
+      postadrlen= 80;
+      telelen   = 60;
+      adrlen    = 80;
+      homepagelen = 90;
+      { 01/2000 oh }
+      custheadlen = 60;
+      { /oh }
+      realnlen= 40;
+
+      direction : byte = 0;
+      infile    : pathstr = '';
+      outfile   : pathstr = '';
+      brettfile : pathstr = '';
+      netzname  : string[8] = '';
+      maxbrett  = 2000;
+      halferror : boolean = false;   { Teilkonvertierung }
+      bretth    : string[25] = '';
+      boxname   : string[20] = '';
+      msgids    : boolean = false;   { MagicNET - MsgID's }
+      mausinfos : boolean = false;   { Infofiles bestellen / BOX.INF }
+      g_und_s   : boolean = false;   { keine Brettslashs ändern }
+      maxmaus   : longint = 0;       { vorgegebene Maximalgröße }
+      mkoutfile : boolean = false;   { OUTFILE statt INFILE erzeugen }
+      mausOE    : boolean = true;
+      mausPSA   : boolean = true;
+      mausON    : boolean = true;    { öffentl. Nachrichten anfordern }
+      mausKF    : boolean = true;    { fb: Filter f?r Kommentare }
+      MausIT_files : boolean = false;   { ITI/ITG -&gt; Box.IT* }
+      OldXPComp : boolean = false; { XP 3.12 Kompatibilität: F-TO -&gt; X-XP-FTO }
+
+      { attrCrash   = $0002; }        { header.attrib: Crashmail   }
+      { attrFile    = $0010; }        { File attached              }
+      attrMPbin   = $0040;            { Multipart-Binary           }
+      attrReqEB   = $1000;            { EB anfordern               }
+      attrIsEB    = $2000;            { EB                         }
+      AttrPmReply = $0100;            { PM-Reply auf AM (Maus)     }
+      AttrQuoteTo = $0400;            { QuoteTo (Maus)             }
+      AttrQPC     = $0001;            { QPC-codiert                }
+      AttrControl = $0020;            { Cancel-Nachricht }
+
+type  charr       = array[0..65530] of char;
+      charrp      = ^charr;
+
+      empfnodep=^empfnode;
+      empfnode= record
+                  next   : empfnodep;
+                  empf   : string[AdrLen];
+                end;
+
+      header = record
+                 netztyp    : byte;
+                 archive    : boolean;       { archivierte PM }
+                 empfaenger : string[90];    { Brett / User / TO:User }
+                 empfanz    : integer;
+                 kopien     : empfnodep;
+                 betreff    : string[BetreffLen];
+                 absender   : string[80];
+                 datum      : string[11];    { Netcall-Format }
+                 ddatum     : string[14];
+                 zdatum     : string[22];    { ZConnect-Format; nur auslesen }
+                 pfad       : HugeString;    { Netcall-Format }
+                 msgid,ref  : string[120];   { ohne &lt;&gt; }
+                 ersetzt    : string[120];   { ohne &lt;&gt; }
+                 typ        : string[1];     { T / B }
+                 crypttyp   : string[1];
+                 groesse    : longint;
+                 komlen     : longint;       { Kommentar-Länge }
+                 ckomlen    : longint;
+                 realname   : string[realnlen];
+                 programm   : string[60];    { Mailer-Name }
+                 datei      : string[40];    { Dateiname }
+                 prio       : byte;          { 10=direkt, 20=Eilmail }
+                 oem,oab,wab: string[90];
+                 oemlist    : empfnodep;
+                 oar,war    : string[realnlen];
+                 real_box   : string[20];    { X-XP-BOX: Absendebox }
+                 hd_point   : string[25];    { X-XP-PNT: Pointname  }
+                 pm_bstat   : string[20];    { X-XP-BST: Bearb.-Status }
+                 org_msgid  : string[120];   { X-XP-ORGMID }
+                 org_xref   : string[120];   { X-XP-ORGREF }
+                 attrib     : word;          { X-XP-ATT    }
+                 filterattr : word;          { X-XP-F      }
+                 fido_to    : string[36];    { X-XP-FTO    }
+                 organisation  : string[OrgLen];
+                 postanschrift : string[PostAdrlen];
+                 telefon    : string[telelen];
+                 homepage   : string[homepagelen];
+                 PmReplyTo  : string[80];      { Reply-To }
+                 AmReplyTo  : string[80];
+                 amrepanz   : integer;
+                 error      : string[hderrlen];
+                 ReplyPath  : string[8];
+                 ReplyGroup : string[40];
+                 x_charset  : string[30];
+                 keywords   : string[60];
+                 summary    : string[200];
+                 priority   : byte;           { Priority by MH }
+                 distribution:string[40];
+                 pm_reply   : boolean;
+                 QuoteString: string[20];
+                 empfbestto : string[adrlen];
+                 charset    : string[30];
+                 ccharset   : string[30];
+                 vertreter  : string[80];
+                 XPointCtl  : longint;
+                 nokop      : boolean;
+                 mimever    : string[20];    { MIME }
+                 mimect     : string;
+                 boundary   : string[70];
+                 gate       : string[80];
+                 mimetyp    : string[30];
+                 xnoarchive: boolean; { MK 01/00 für UUZ Fix von Robo }
+                 { 01/2000 oh }
+                 Cust1,Cust2: string[custheadlen];
+                 { /oh }
+                 control    : string[150];
+               end;
+
+      brett  = record
+                 code  : string[4];
+                 name  : string[40];
+               end;
+
+var   f1,f2     : file;
+      bretter   : integer;
+      brettp    : array[1..maxbrett] of ^brett;
+      tstr      : string;
+
+{ 01/2000 oh : wird zum Einlesen der Customizable Headerlines benötigt }
+
+const
+      mheadercustom : array[1..2] of string[custheadlen] = ('','');
+
+procedure logo;
+begin
+  writeln;
+  writeln('MAGGI - Magic/Quick/Maus/ZConnect Converter  (c) 1992-1999 Peter Mandrella');
+  writeln(xp_display,'-Version ',verstr,betastr,'  ',x_copyright,
+            ' by ',author_name,' &lt;',author_mail,'&gt;');
+  writeln ('NextGeneration Maggi for Maustausch and FreeXP');
+  writeln;
+end;
+
+procedure helppage;
+begin
+  writeln('MagicNET:   MAGGI [-mz|zm|mn] -nNetz [-m] &lt;Eingabe&gt; &lt;Ausgabe&gt; &lt;Bretter&gt;');
+  writeln('ProNET:     MAGGI [-pz|zp] -nNetz &lt;Eingabe&gt; &lt;Ausgabe&gt; &lt;Bretter&gt;');
+  writeln('QuickMail:  MAGGI [-qz|zq] [-g] &lt;Eingabe&gt; &lt;Ausgabe&gt;');
+  writeln('MausTausch: MAGGI [-sz|zs] -bBox -hBretthierarchie [-i] &lt;Eingabe&gt; &lt;Ausgabe&gt;');
+  writeln;
+  writeln('    -mz  =  MagicNET -&gt; ZConnect       -sz  =  MausTausch -&gt; ZConnect');
+  writeln('    -zm  =  ZConnect -&gt; MagicNET       -zs  =  ZConnect -&gt; MausTausch');
+  writeln('    -mn  =  MagicNET -&gt; Netcall        -i   =  Infofiles bestellen');
+  writeln('    -m   =  Message-IDs erzeugen       -o   =  Outfile erzeugen');
+  writeln;
+  writeln('    -qz  =  QuickNET -&gt; ZConnect       -pz  =  ProNET -&gt; ZConnect');
+  writeln('    -zq  =  ZConnect -&gt; QuickNet       -zp  =  ZConnect -&gt; ProNet');
+  writeln('    -g   =  GS-Mailbox                 -312 =  Kompatibilitätsmodus zu 3.12');
+  halt(1);
+end;
+
+procedure parerr;
+begin
+  writeln('Ungültige(r) Parameter');
+  writeln;
+  helppage;
+end;
+
+procedure error(txt:atext);
+begin
+  writeln('Fehler: ',txt);
+  halt(1);
+end;
+
+
+procedure getpar;
+var i : integer;
+    s : string[127];
+
+  function _is(t:string):boolean;
+  begin
+    _is:=(s='-'+t) or (s='/'+t);
+  end;
+
+  function isl(t:string):boolean;
+  begin
+    isl:=(left(s,length(t)+1)='-'+t) or (left(s,length(t)+1)='/'+t);
+  end;
+
+begin
+  for i:=1 to paramcount do begin
+    s:=lstr(paramstr(i));
+    if _is('mz') then direction:=1
+    else if _is('zm') then direction:=2
+    else if _is('mn') then direction:=3
+    else if _is('qz') then direction:=4
+    else if _is('zq') then direction:=5
+    else if _is('sz') then direction:=6
+    else if _is('zs') then direction:=7
+    else if _is('pz') then direction:=8
+    else if _is('zp') then direction:=9
+    else if _is('h') or _is('?') then helppage
+    else if isl('n') then netzname:=forms(mid(paramstr(i),3),8)
+    else if isl('h') then bretth:=ustr(copy(s,3,25))
+    else if isl('b') then boxname:=ustr(copy(s,3,8))
+    else if _is('m')  then msgids:=true
+    else if _is('i')  then mausinfos:=true
+    else if _is('o')  then mkoutfile:=true
+    else if _is('g')  then g_und_s:=true
+    else if _is('mm') then maxmaus:=disk_free(0) div 3
+    else if _is('oe') then mausOE:=false
+    else if _is('psa')then mausPSA:=false
+    else if _is('on') then MausON:=false
+    else if _is('kf') then mausKF:=false
+    else if _is('it') then MausIT_Files:=true
+    else if _is('312') then OldXPComp := true
+    else if (left(s,1)='/') or (left(s,1)='-') then parerr
+    else if infile='' then infile:=s
+    else if outfile='' then outfile:=s
+    else if brettfile='' then brettfile:=s
+    else parerr;
+    end;
+  if ((direction in [1,2,3,8,9]) and ({(brettfile='') or} (netzname=''))) or
+     ((direction in [6,7]) and ((bretth='') or (boxname=''))) or
+     (direction=0) or (outfile='') then helppage;
+  writeln(ustr(infile),'  »»  ',ustr(outfile));
+  writeln;
+end;
+
+
+{ s. auch XP8.readbrettliste! }
+
+{$R-}
+procedure loadbretter(pronet:boolean);
+const s : string = '';
+      p : byte = 0;
+var t   : text;
+
+  procedure berror(txt:atext);
+  begin
+    writeln; writeln;
+    close(t);
+    error(txt);
+  end;
+
+  procedure qsort(l,r:integer);
+  var i,j : integer;
+      x   : string[80];
+      w   : pointer;
+  begin
+    i:=l; j:=r;
+    x:=brettp[(l+r) div 2]^.name;
+    repeat
+      while brettp[i]^.name&lt;x do inc(i);
+      while brettp[j]^.name&gt;x do dec(j);
+      if i&lt;=j then begin
+        w:=brettp[i]; brettp[i]:=brettp[j]; brettp[j]:=w;
+        inc(i); dec(j);
+        end;
+    until i&gt;j;
+    if l&lt;j then qsort(l,j);
+    if r&gt;i then qsort(i,r);
+  end;
+
+begin
+  write('lade Brettliste ...');
+  assign(t,brettfile);
+  reset(t);
+  if ioresult&lt;&gt;0 then
+    error('Bretterdatei fehlt')
+  else begin
+    bretter:=0;
+    while not eof(t) do begin
+      readln(t,s);
+      s:=trim(s);
+      if (s&lt;&gt;'') and (s[1]&lt;&gt;'#') and
+         (not pronet or ((s[1]&lt;&gt;';') and (s[1]&lt;&gt;'-') and (left(s,4)&lt;&gt;'CODE')))
+      then begin
+        if cpos(' ',s)=0 then
+          berror('Fehler in Brettdatei');
+        inc(bretter);
+        if bretter&gt;maxbrett then
+          berror('zu viele Einträge in Brettdatei!');
+        if memavail&lt;100 then
+          berror('zu wenig Speicher');
+        new(brettp[bretter]);
+        if pronet then begin
+          brettp[bretter]^.code:=left(s,4);
+          brettp[bretter]^.name:=trim(mid(s,32));
+          end
+        else begin
+          if s[41]&lt;&gt;' ' then
+            brettp[bretter]^.code:=copy(s,41,4)
+          else
+            brettp[bretter]^.code:=trim(copy(s,41,6));
+          p:=40;
+          while (p&gt;0) and (s[p]=' ') do dec(p);
+          s[0]:=chr(p);
+          { UpString(s); }
+          if left(s,1)&lt;&gt;'/' then s:=left('/'+s,40);
+          while cpos(' ',s)&gt;0 do
+            s[cpos(' ',s)]:='_';
+          brettp[bretter]^.name:=s;
+          end;
+        end;
+      end;
+    close(t);
+    end;
+  qsort(1,bretter);
+  writeln(' ok.');
+  writeln;
+end;
+{$IFDEF Debug }
+  {$R+}
+{$ENDIF }
+
+
+procedure testfiles;
+begin
+  if not exist(infile) then error('Eingabedatei nicht vorhanden');
+  if not validfilename(outfile) then error('ungültige Ausgabedatei');
+end;
+
+{ --- Konvertierung -------------------------------------------------- }
+
+
+procedure wrs(s:string);
+begin
+  s:=s+#13#10;
+  blockwrite(f2,s[1],length(s));
+end;
+
+procedure fmove(size:longint);
+const bs = 20000;
+var p  : pointer;
+    rr : word;
+begin
+  getmem(p,bs);
+  repeat
+    blockread(f1,p^,min(bs,size),rr);
+    blockwrite(f2,p^,rr);
+    dec(size,rr);
+  until (size=0) or eof(f1);
+  freemem(p,bs);
+end;
+
+function reverse(pfad:string):string;
+var s : string;
+    p : byte;
+begin
+  pfad:=trim(pfad);
+  s:='';
+  while pfad&lt;&gt;'' do begin
+    p:=1;
+    while (p&lt;=length(pfad)) and (pfad[p]&lt;&gt;'!') do inc(p);
+    if s&lt;&gt;'' then s:='!'+s;
+    s:=left(pfad,p-1)+s;
+    delete(pfad,1,p);
+    end;
+  reverse:=s;
+end;
+
+procedure ZtoZCdatum(var d1,d2:string);
+begin
+  if ival(left(d1,2))&lt;70 then d2:='20'+d1+'00W+0'
+  else d2:='19'+d1+'00W+0';
+end;
+
+
+procedure MZ(pronet:boolean);
+const maxmlines = 10;   { max. $-Zeilen, die in Z-Text übernommen werden }
+      readfirst = 2000;
+type buf = array[0..readfirst-1] of byte;
+var hd   : header;
+    s    : string;
+    p    : byte;
+    mc   : string[12];
+    adr0,
+    adr1,
+    adr2 : longint;
+    ok   : boolean;
+    i    : integer;
+    nn   : longint;
+    bp   : ^buf;
+    bpos : word;
+    bsize: word;
+    ef1  : boolean;
+    adds : longint;
+
+    mlanz : integer;
+    mline : array[1..maxmlines] of ^string;
+
+  procedure bread;
+  begin
+    blockread(f1,bp^,readfirst,bsize);
+    bpos:=0;
+    ef1:=eof(f1);
+  end;
+
+  {$R-}
+  procedure rdln;
+  var l,b : byte;
+
+    procedure getb;
+    begin
+      if bpos&lt;bsize then begin
+        b:=bp^[bpos]; inc(bpos);
+        if (bpos=bsize) and not ef1 then begin
+          inc(adr0,readfirst);
+          bread;
+          end;
+        end;
+    end;
+
+  begin
+    l:=0;
+    if bpos&lt;bsize then
+      repeat
+        getb;
+        if (b&lt;&gt;13) and (b&lt;&gt;10) then begin   { LFs werden einfach ignoriert }
+          inc(l); s[l]:=chr(b); end;
+      until (b=13) or (bpos&gt;=bsize);
+    s[0]:=chr(l);
+    { if b=13 then getb;     { LF überlesen }
+  end;
+{$IFDEF Debug }
+  {$R+}
+{$ENDIF }
+
+  function ff(msgid:string):string;
+  begin
+    msgid:=trim(msgid);
+    if left(msgid,1)='&lt;' then delfirst(msgid);
+    if right(msgid,1)='&gt;' then dellast(msgid);
+    ff:=msgid;
+  end;
+
+  procedure wrml(s:string);
+  var p : byte;
+  begin
+    s:=trim(s);
+    p:=cpos(' ',s);
+    if (p&gt;=10) and (s[p-1]=':') then
+      dec(p)
+    else
+      if p&gt;0 then
+        while (p&lt;=length(s)) and (s[p]=' ') do
+          delete(s,p,1);
+    if s[p]=':' then
+      wrs('Maggi-'+s);
+  end;
+
+begin
+  new(bp);
+  reset(f1,1); rewrite(f2,1);
+  nn:=0;
+  ok:=true;
+  while not eof(f1) and ok do with hd do begin
+    mlanz:=0;
+    adr0:=filepos(f1);
+    adr2:=adr0;
+    bread;
+    s:='';
+    while (bpos&lt;bsize) and (s&lt;&gt;^A) do rdln;
+    if s&lt;&gt;^A then
+      adr2:=filesize(f1)
+    else begin
+      fillchar(hd,sizeof(hd),0);
+      rdln;
+      if left(s,1)&lt;&gt;'-' then begin
+        fido_to:=trim(mid(s,5));
+        s:=ustr(left(s,4));
+        if s='' then
+          empfaenger:='/UNZUSTELLBAR'
+        else begin
+          i:=1;
+          while (i&lt;=bretter) and (brettp[i]^.code&lt;&gt;s) do inc(i);
+          if i&gt;bretter then empfaenger:='/'+s
+          else empfaenger:=brettp[i]^.name;
+          end;
+        end
+      else begin
+        delete(s,1,1);
+        p:=cpos(':',s);
+        if p=0 then ok:=false
+        else empfaenger:=trim(mid(s,p+1))+'@'+trim(left(s,p-1));
+        end;
+      if ok then begin
+        rdln; absender:=trim(s);
+        rdln; while cpos('@',left(s,15))&gt;0 do s[cpos('@',s)]:='#';  { @ -&gt; # }
+              absender:=trim(left(s,15))+'@'+absender;
+              realname:=trim(mid(s,16));
+              if pronet and ((length(realname)&lt;3) or
+                  ((length(realname)&lt;10) and   { TopNET-Gate-Fehler beheben }
+                 (realname[length(realname)] in ['0'..'9']))) then begin
+                insert(realname,absender,16);
+                realname:='';
+                end;
+        rdln; betreff:=trim(s);
+        rdln; ok:=(s=^B);
+        end;
+      while ok and (s&lt;&gt;'') do begin
+        rdln;
+        if s[1]&lt;&gt;'$' then
+          s:=''
+        else begin
+          mc:=ustr(left(s,11));
+          if (left(mc,2)='$ ') and (pos('NET',copy(mc,3,8))&gt;0) then begin
+            programm:=trim(mid(s,12));
+            repeat
+              p:=cpos('[',programm);
+              if p&gt;0 then programm:=trim(copy(programm,p+1,length(programm)-p-1));
+            until p=0;
+            end else
+          if mc='$ ROUTE   :' then begin
+            pfad:=trim(mid(s,12));
+            p:=cpos(' ',pfad);
+            while p&gt;0 do begin
+              pfad[p]:='!';
+              p:=cpos(' ',pfad);
+              end;
+            end else
+          if mc='$ ORIGIN  :' then begin
+            datum:=copy(s,21,2)+copy(s,16,2)+copy(s,13,2)+copy(s,24,2)+
+                   copy(s,27,2);
+            ZtoZCdatum(datum,zdatum);
+            end else
+          if mc='$ REALNAME:' then
+            realname:=trim(mid(s,12)) else
+          if (mc='$ MSG-ID  :') or (mc='$ MSGID   :') then
+            msgid:=ff(copy(s,12,120)) else
+          if (mc='$ REPLY-ID:') or (mc='$ X-REF   :') then
+            ref:=ff(copy(s,12,120)) else
+          if mc='$ ABSENDER:' then begin
+            s:=trim(copy(s,12,79));
+            p:=cpos('@',s);
+            if p&gt;0 then
+              absender:=s
+            else begin
+              p:=cpos(':',s);
+              if p&gt;0 then
+                absender:=mid(s,p+1)+'@'+left(s,p-1);
+              end;
+            end else
+          if mc='$ BETREFF :' then
+            betreff:=trim(mid(s,12)) else
+          if mc='$ FLAGS   :' then begin
+            if multipos('sl',mid(s,12)) then
+              inc(attrib,attrReqEB);
+            end
+          else if (s&lt;&gt;'') and (mlanz&lt;maxmlines) then begin   { unbekannte Zeile übernehmen }
+            inc(mlanz);
+            getmem(mline[mlanz],length(s)+1);
+            mline[mlanz]^:=mid(s,3);
+            end;
+          end;
+        end;
+      if ok then begin
+        adr1:=adr0+bpos;
+        while (bpos&lt;bsize) and (s&lt;&gt;^X) do rdln;
+        if s&lt;&gt;^X then ok:=false;
+        end;
+      if ok then begin
+        inc(nn); write(#13,'Nachrichten: ',nn);
+        adr2:=adr0+bpos;
+        groesse:=adr2-4-adr1+1;
+        adds:=0;
+     {  for i:=1 to mlanz do
+          inc(adds,length(mline[i]^)+2);
+        if mlanz&gt;0 then inc(adds,2); }
+        if (direction=1) or (direction=8) then begin    { M-&gt;Z }
+          wrs('ABS: '+absender+iifs(realname&lt;&gt;'',' ('+realname+')',''));
+          wrs('EMP: '+empfaenger);
+          wrs('BET: '+betreff);
+          wrs('ROT: '+reverse(pfad));
+          wrs('MID: '+msgid);
+          if ref&lt;&gt;'' then wrs('BEZ: '+ref);
+          if zdatum&lt;&gt;'' then
+            wrs('EDA: '+zdatum)
+          else
+            wrs('EDA: '+right(date,4)+copy(date,4,2)+left(date,2)+
+                        left(time,2)+copy(time,4,2)+copy(time,7,2)+'W+0');
+          wrs('LEN: '+strs(groesse+adds));
+          if programm&lt;&gt;'' then
+            wrs('MAILER: '+programm);
+          if attrib and attrReqEB&lt;&gt;0 then
+            wrs('EB:');
+          for i:=1 to mlanz do
+            wrml(mline[i]^);
+          wrs('X-XP-NTP: '+iifs(pronet,'4','3'));
+          if fido_to&lt;&gt;'' then
+            if OldXPComp then
+              wrs('X-XP-FTO: '+fido_to)
+            else
+              wrs('F-TO: '+fido_to);
+          wrs('');
+          end
+        else begin                   { M-&gt;N }
+          wrs(empfaenger);
+          wrs(betreff);
+          wrs(absender);
+          wrs(datum);
+          wrs(pfad);
+          wrs('!!');
+          wrs('T');
+          wrs(strs(groesse));
+          end;
+      { for i:=1 to mlanz do
+          wrs(mline[i]^);
+        if mlanz&gt;0 then wrs(''); }
+        seek(f1,adr1);
+        fmove(groesse);
+        end;
+      for i:=1 to mlanz do
+        freemem(mline[i],length(mline[i]^)+1);
+      end;
+    seek(f1,adr2);
+    end;
+  close(f1); close(f2);
+  dispose(bp);
+  if not ok then begin
+    writeln('Fehler - Konvertierung abgebrochen');
+    halt(2);
+    end;
+end;
+
+
+function zdate:string;
+begin
+  zdate:=right(date,2)+copy(date,4,2)+copy(date,1,2)+
+         left(time,2)+copy(time,4,2);
+end;
+
+procedure setzdate(var hd:header);
+begin
+  with hd do begin
+    if datum='' then datum:=zdate;
+    ZtoZCdatum(datum,zdatum);
+    end;
+end;
+
+{$IFDEF FPC }
+  {$HINTS OFF }
+{$ENDIF FPC }
+procedure addtoempflist(s:string);
+begin
+end;
+{$IFDEF FPC }
+  {$HINTS ON }
+{$ENDIF FPC }
+
+
+function compmimetyp(typ:string):string;
+begin
+  if left(typ,12)='application/' then
+    compmimetyp:=lstr(mid(typ,12))
+  else
+    compmimetyp:=lstr(typ);
+end;
+
+
+{$R-}
+{$I xpmakehd.inc}     { MakeHeader() }
+{$IFDEF Debug }
+  {$R+}
+{$ENDIF }
+
+procedure cerror;
+begin
+  writeln;
+  writeln('Fehler - Konvertierung abgebrochen');
+  halt(2);
+end;
+
+
+procedure ZM(pronet:boolean);
+var hd    : header;
+    hds   : longint;
+    i     : integer;
+    ok,pm : boolean;
+    berr  : boolean;
+    adr   : longint;
+    rr    : word;
+    node  : string[15];
+    fs    : longint;
+    nn    : longint;
+    alias : boolean;
+{    SevenNet : boolean; }
+    MagicNet : boolean;
+    reqfile  : text;
+    reqopen  : boolean;
+    s     : string;
+
+  procedure killEOF;
+  var c : char;
+  begin
+    seek(f2,filesize(f2)-1);
+    blockread(f2,c,1);
+    if c=#26 then begin
+      seek(f2,filesize(f2)-1);
+      truncate(f2);
+      end;
+  end;
+
+  procedure Leerzeile;
+  var c : char;
+  begin
+    seek(f2,filesize(f2)-1);
+    blockread(f2,c,1);
+    if c&lt;&gt;#10 then wrs('');
+  end;
+
+begin
+{  SevenNet:=(lstr(netzname)='sevennet'); }
+  MagicNet:=(lstr(netzname)='magicnet');
+  reset(f1,1);
+  rewrite(f2,1);
+  if filesize(f1)&lt;16 then begin
+    close(f1); close(f2);
+    exit; end;               { leerer ZC-Puffer }
+  adr:=0; nn:=0;
+  reqopen:=false;
+  fs:=filesize(f1);
+  repeat
+    seek(f1,adr);
+    makeheader(true,f1,0,0,hds,hd,ok,false);
+    if ok then with hd do begin
+      UpString(empfaenger);
+      UpString(absender);
+      if (empfaenger='SYSTEM@'+real_box) and (betreff='REQUEST') then begin
+        if not reqopen then begin
+          assign(reqfile,real_box+'.REQ');
+          rewrite(reqfile);
+          reqopen:=true;
+          end;
+        seek(f1,adr+hds);
+        blockread(f1,s[1],min(255,groesse),rr);
+        s[0]:=chr(rr);
+        write(reqfile,s);
+        end
+      else begin
+        pm:=cpos('@',empfaenger)&gt;0;
+        if not pm then begin
+          i:=1;
+          while (i&lt;=bretter) and (ustr(brettp[i]^.name)&lt;&gt;ustr(empfaenger)) do
+            inc(i);
+          berr:=(i&gt;bretter);
+          if berr then writeln('unbekanntes Brett:  ',empfaenger)
+          else empfaenger:=brettp[i]^.code+fido_to;
+          end
+        else begin
+          i:=cpos('@',empfaenger);
+          while cpos('#',left(empfaenger,i))&gt;0 do
+            empfaenger[cpos('#',empfaenger)]:='@';    { # -&gt; @ }
+          node:=mid(empfaenger,i+1);
+          if cpos('.',node)&gt;0 then
+            node:=left(node,cpos('.',node)-1);
+        { if (empfaenger='SYSTEM@'+node) then
+            empfaenger:='-'+left(empfaenger,i-1)+sp(16-i)
+          else }
+            empfaenger:='-'+node+':'+left(empfaenger,i-1)+sp(16-i);
+          berr:=false;
+          end;
+        if berr then halferror:=true
+        else begin
+          inc(nn);
+          write(#13,'Nachrichten: ',nn);
+          alias:=(real_box='');
+          wrs(^A);                       { ^A            }
+          wrs(empfaenger);               { Empfänger     }
+          i:=cpos('@',absender);
+          node:=mid(absender,i+1);
+          if cpos('.',node)&gt;0 then
+            node:=left(node,cpos('.',node)-1);
+          if real_box='' then real_box:=node;
+          if hd_point&lt;&gt;'' then node:=hd_point;
+          wrs(node);                     { Absender-Node }
+          wrs(forms(left(absender,i-1),15)+realname);
+          if not magicnet or (length(betreff)&lt;=25) then wrs(betreff)  { Betreff }
+          else wrs(left(betreff,24)+'&gt;');
+          wrs(^B);                       { Header-Ende   }
+          if cpos('[',programm)&gt;0 then
+            programm:=trim(left(programm,cpos('[',programm)-1));
+          if pronet then begin
+            wrs('$ '+forms(netzname,8)+': '+node+' ['+programm+']');
+            wrs('$ Route   : '+pfad);     { Boxname }
+            wrs('$ Origin  : '+copy(datum,5,2)+'-'+copy(datum,3,2)+'-'+
+                left(zdatum,2)+left(datum,2)+' '+
+                copy(datum,7,2)+':'+copy(datum,9,2)+':'+copy(zdatum,13,2));
+            wrs('$ MsgID   : '+msgid);
+            if ref&lt;&gt;'' then wrs('$ Reply-ID: '+ref);
+            end
+          else begin
+            if not alias then
+              wrs('$ '+forms(netzname,8)+': '+node+' ['+programm+']')  { Programmname }
+            else
+              wrs('$ '+forms(netzname,8)+': '+hd_point+' ['+programm+']');
+            wrs('$ Route   : '+pfad);      { Route        }
+            wrs('$ Origin  : '+copy(datum,5,2)+'-'+copy(datum,3,2)+'-'+
+                left(zdatum,2)+left(datum,2)+' '+copy(datum,7,2)+':'+copy(datum,9,2));
+            if realname&lt;&gt;'' then           { Realname      }
+              wrs('$ Realname: '+realname);
+            if msgids and (msgid&lt;&gt;'') then  { Message-ID   }
+              wrs('$ Msg-ID  : &lt;'+msgid+'&gt;');
+            if ref&lt;&gt;'' then
+              wrs('$ Reply-ID: &lt;'+ref+'&gt;');
+            if magicnet and (length(betreff)&gt;25) then
+              wrs('$ Betreff : '+betreff);
+            if attrib and attrReqEB&lt;&gt;0 then
+              wrs('$ Flags   : s');
+            end;
+          wrs('');
+          seek(f1,adr+hds);
+          fmove(groesse);                { Text          }
+          killEOF;
+          Leerzeile;
+          wrs(^X);                       { Textende      }
+          end;
+        end;
+      end;
+    inc(adr,hd.groesse+hds);
+  until (adr&gt;=fs) or not ok;
+  writeln;
+  close(f1); close(f2);
+  if reqopen then close(reqfile);
+  if not ok then cerror;
+end;
+
+
+procedure ZQZ(zq:boolean);
+var hd    : header;
+    hds   : longint;
+    i     : integer;
+    ok,pm : boolean;
+    adr   : longint;
+    fs    : longint;
+    nn    : longint;
+    p1,p2 : byte;
+begin
+  reset(f1,1);
+  rewrite(f2,1);
+  if filesize(f1)&lt;16 then begin
+    close(f1); close(f2);
+    exit; end;               { leerer ZC-Puffer }
+  adr:=0; nn:=0;
+  fs:=filesize(f1);
+  repeat
+    seek(f1,adr);
+    makeheader(zq,f1,0,0,hds,hd,ok,false);
+    if ok then with hd do begin
+      inc(nn);
+      write(#13,'Nachrichten: ',nn);
+      p1:=cpos('@',empfaenger);
+      pm:=(p1&gt;0);
+      if pm then
+        if zq then begin
+          p2:=cpos('.',mid(empfaenger,p1+1));
+          if p2&gt;0 then empfaenger:=left(empfaenger,p1+p2-1);
+          end
+        else
+      else begin
+        if zq and (left(empfaenger,1)='/') then
+          empfaenger:=mid(empfaenger,2);
+        if not g_und_s then
+          for i:=1 to length(empfaenger) do
+            if empfaenger[i]='/' then empfaenger[i]:='\'
+            else if empfaenger[i]='\' then empfaenger[i]:='/';
+        if not zq and (left(empfaenger,1)&lt;&gt;'/') then
+          empfaenger:='/'+empfaenger;
+        end;
+      if zq then begin
+        wrs(empfaenger);
+        wrs(betreff);
+        wrs(absender);
+        wrs(datum);
+        repeat
+          p1:=cpos('!',pfad);
+          if p1&gt;0 then pfad[p1]:=' ';
+        until p1=0;
+        if not g_und_s and (pfad&lt;&gt;'') and (right(pfad,1)&lt;&gt;' ') then
+          pfad:=pfad+' ';
+        wrs(pfad);
+        wrs(msgid);
+        wrs(typ);
+        wrs(strs(groesse));
+        end
+      else begin
+        wrs('EMP: '+empfaenger);
+        wrs('ABS: '+absender);
+        wrs('BET: '+betreff);
+        pfad:=trim(pfad);
+        repeat
+          p1:=cpos(' ',pfad);
+          if p1&gt;0 then
+            pfad:=left(pfad,p1-1)+'!'+trim(mid(pfad,p1+1));
+        until p1=0;
+        wrs('ROT: '+reverse(pfad));
+        wrs('MID: '+msgid);
+        setzdate(hd);
+        wrs('EDA: '+zdatum);
+        if typ='B' then wrs('BIN:');
+        wrs('LEN: '+strs(groesse));
+        wrs('X_C:');
+        wrs('X-XP-NTP: 10');
+        wrs('');
+        end;
+      seek(f1,adr+hds);
+      fmove(groesse);
+      end;
+    inc(adr,hd.groesse+hds);
+  until (adr&gt;=fs) or not ok;
+  writeln;
+  close(f1); close(f2);
+  if not ok then cerror;
+end;
+
+
+
+
+procedure ZMaus;
+type  barr  = array[0..20000] of byte;
+      barrp = ^barr;
+var hd     : header;
+    hds    : longint;
+    ok     : boolean;
+    adr    : longint;
+    rr     : word;
+    fs     : longint;
+    nn     : longint;
+    p1,p2  : byte;
+    t      : text;
+    s      : string;
+    bufpos : word;
+    buf    : barrp;
+    size   : longint;
+    pmb    : boolean;  { PM-Bestätigung }
+    tomaus : boolean;  { evtl. Steuernachricht }
+    komzu  : boolean;
+    umlaute: set of char;
+    fch    : string[1];
+
+  function getchar:char;
+  begin
+    if bufpos&gt;=rr then
+      if size=0 then rr:=0
+      else begin
+        blockread(f1,buf^,min(sizeof(buf^),size),rr);
+        dec(size,rr);
+        bufpos:=0;
+        end;
+    if bufpos&lt;rr then begin
+      getchar:=char(buf^[bufpos]);
+      inc(bufpos);
+      end;
+  end;
+
+  procedure getline;
+  var b : byte;
+      c : char;
+  begin
+    b:=0;
+    c:=#0;
+    while (c&lt;&gt;#10) and ((bufpos&lt;rr) or (size&gt;0)) and (b&lt;253) do begin
+      c:=getchar;
+      if (c&gt;=' ') or (c=#9) then begin
+        inc(b); s[b]:=c;
+        end;
+      end;
+    if b&lt;253 then begin
+      s[b+1]:=#13; s[b+2]:=#10;
+      inc(b,2);
+      end;
+    s[0]:=chr(b);
+  end;
+
+  procedure get_infofiles;
+  var t1   : text;
+      s    : string[120];
+      inf  : string[10];
+      tage : shortint;
+      today: datetimest;
+      dat  : datetimest;
+      crc  : longint;
+      _d   : fdate;
+      i    : integer;
+      _iti : boolean;
+      info : MausInfAP;
+      infos: integer;
+
+    function gets:string;
+    var p : byte;
+    begin
+      p:=cpos(' ',s);
+      if p=0 then p:=length(s)+1;
+      gets:=trim(left(s,p));
+      s:=trim(mid(s,p));
+    end;
+
+  begin
+    new(info);
+    MausReadITI(boxname,info,infos);
+    _iti:=MausIT_files and not exist(boxname+'.iti');
+    if _iti then writeln(t,':ITI -1');
+    assign(t1,boxname+'.inf');
+    reset(t1);
+    if ioresult=0 then begin
+      today:=right(date,4)+copy(date,4,2)+left(date,2);
+      while not eof(t1) do begin
+        readln(t1,s);
+        inf:=gets;
+        tage:=minmax(ival(gets),0,99);
+        if tage&gt;0 then begin
+          dat:=gets;
+          crc:=ival(gets);
+          with _d do begin
+            t:=ival(left(dat,2));
+            m:=ival(copy(dat,4,2));
+            j:=ival(right(dat,4));
+            end;
+          for i:=1 to tage do
+            incd(_d);
+          if (inf&lt;&gt;'ITI') or not _iti then
+            if formi(_d.j,4)+formi(_d.m,2)+formi(_d.t,2)&lt;=today then begin
+              write(t,':',inf);
+              i:=infos;
+              while (i&gt;0) and (info^[i].ID&lt;&gt;inf) do dec(i);
+              if (i=0) or info^[i].crcflag then
+                writeln(t,' ',crc)
+              else
+                writeln(t);
+              end;
+          end;
+        end;
+      close(t1);
+      end;
+    dispose(info);
+  end;
+
+  function UmlShort(s:string; len:byte):string;
+  var i,n : byte;
+  begin
+    n:=0;
+    for i:=1 to length(s) do
+      if s[i] in umlaute then inc(n);
+    UmlShort:=left(s,len-n);
+  end;
+
+  procedure uuencode;
+  const llen = 45;
+        map  : array[0..63] of char =
+        '`!&quot;#$%&amp;''()*+,-./0123456789:;&lt;=&gt;?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\]^_';
+  var line : array[0..llen-1] of byte;
+      s    : string[61];
+      i,j  : integer;
+      rr   : word;
+  begin
+    writeln(t,':Content-Type: UU1');
+    if hd.ddatum&lt;&gt;'' then
+      writeln(t,':File-Date: ',left(hd.ddatum,14));
+    writeln(t,':');
+    writeln(t,':Diese Nachricht beinhaltet eine uu-codierte Binärdatei. Verwenden Sie');
+    writeln(t,':das Programm uudecode zum Decodieren.');
+    writeln(t,':');
+    writeln(t,':This message contains an uu-encoded binary file. Use uudecode to obtain');
+    writeln(t,':the original file.');
+    writeln(t,':');
+    writeln(t,':table');
+    writeln(t,':',left(map,32));
+    writeln(t,':',mid(map,33));
+    writeln(t,':begin 644 ',iifs(hd.datei&lt;&gt;'',hd.datei,mid(zdate,3)+'.msg'));
+    {$R-}
+    while size&gt;0 do begin
+      blockread(f1,line,min(llen,size),rr);
+      s[0]:=chr(1+((rr+2) div 3)*4);
+      s[1]:=chr(rr+32);
+      j:=2; i:=0;
+      while i&lt;rr do begin
+        s[j]:=map[line[i] shr 2]; inc(j);
+        s[j]:=map[(line[i]) and 3 shl 4 + line[i+1] shr 4]; inc(j);
+        s[j]:=map[line[i+1] and $f shl 2 + line[i+2] shr 6]; inc(j);
+        s[j]:=map[line[i+2] and $3f]; inc(j);
+        inc(i,3);
+        end;
+      writeln(t,':',s);
+      dec(size,rr);
+      end;
+{$IFDEF Debug }
+  {$R+}
+{$ENDIF }
+    writeln(t,':`');
+    writeln(t,':end');
+    writeln(t,':size ',hd.groesse);
+  end;
+
+  function GetBinType(fn:pathstr):string;    { vgl. UUZ.PAS }
+  var mtype: string[30];
+      p    : byte;
+      ext  : string[6];
+      t    : text;
+      s    : string;
+  begin
+    mtype:='application/octet-stream';
+    p:=rightpos('.',fn);
+    if p&gt;0 then begin
+      ext:=mid(fn,p+1);
+      assign(t,'mimetyp.cfg');
+      reset(t);
+      if ioresult=0 then begin
+        while not eof(t) do begin
+          readln(t,s);
+          if (s&lt;&gt;'') and (firstchar(s)&lt;&gt;'#') and
+             stricmp(ext,GetToken(s,'=')) then
+            mtype:=s;
+          end;
+        close(t);
+        end;
+      end;
+    GetBinType:=mtype;
+  end;
+
+  function month(m:string):string;
+  begin
+    month:=copy('Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec ',
+                ival(m)*4-3,4);
+  end;
+
+  function ZtoRFCdate(date,zdate:string):string;
+  var p : byte;
+  begin
+    p:=cpos(':',zdate);
+    if p=0 then p:=length(zdate)+1;
+    ZtoRFCdate:=copy(date,5,2)+' '+month(copy(date,3,2))+left(zdate,2)+
+         left(date,2)+' '+copy(date,7,2)+':'+copy(date,9,2)+':'+
+         copy(zdate,13,2)+' '+zdate[16]+formi(ival(copy(zdate,17,p-17)),2)+
+         formi(ival(mid(zdate,p+1)),2);
+  end;
+
+  procedure mimeencode;
+  const llen = 54;
+        map  : array[0..63] of char =
+        'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/';
+  var line : array[0..llen-1] of byte;
+      s    : string[61];
+      i,j  : integer;
+      rr   : word;
+  begin
+    writeln(t,':-');
+    writeln(t,':---');
+    writeln(t,':Content-Type: text/plain');
+    writeln(t,':');
+    writeln(t,':Diese Nachricht enthaelt eine MIME-codierte Binaerdatei. Falls Ihr');
+    writeln(t,':Mailer die Datei nicht decodieren kann, verwenden Sie dafuer bitte');
+    writeln(t,':ein Tool wie ''munpack'' oder ''udec''.');
+    writeln(t,':');
+    writeln(t,':This message contains a MIME encoded binary file. If your mailer');
+    writeln(t,':cannot decode the file, please use a decoding tool like ''munpack''.');
+    writeln(t,':');
+    writeln(t,':---');
+    write  (t,':Content-Type: ',GetBinType(hd.datei));
+    if hd.datei&lt;&gt;'' then write(t,'; name=&quot;'+hd.datei+'&quot;');
+    if hd.ddatum&lt;&gt;'' then write(t,';'#13#10': x-date=&quot;'+ZtoRFCdate(hd.datum,hd.zdatum)+'&quot;');
+    writeln(t);
+    writeln(t,':Content-Transfer-Encoding: base64');
+    writeln(t,':');
+    {$R-}
+    while size&gt;0 do begin
+      blockread(f1,line,min(llen,size),rr);
+      s[0]:=chr(((rr+2) div 3)*4);
+      j:=1; i:=0;
+      while i&lt;rr do begin
+        s[j]:=map[line[i] shr 2]; inc(j);
+        s[j]:=map[(line[i]) and 3 shl 4 + line[i+1] shr 4]; inc(j);
+        if i+1&lt;rr then s[j]:=map[line[i+1] and $f shl 2 + line[i+2] shr 6]
+        else s[j]:='=';
+        inc(j);
+        if i+2&lt;rr then s[j]:=map[line[i+2] and $3f]
+        else s[j]:='=';
+        inc(j);
+        inc(i,3);
+        end;
+      writeln(t,':',s);
+      dec(size,rr);
+      end;
+{$IFDEF Debug }
+  {$R+}
+{$ENDIF }
+    writeln(t,':---');
+  end;
+
+  function INT2MAUS(a:string):string;
+  var f:text;
+      r,s,t:string;
+  begin
+    if exist('INT2MAUS.IDS') then begin
+      assign(f,'INT2MAUS.IDS');
+      reset(f);
+      readln(f,t);   {Erstmal Kopf ueberlesen}
+      readln(f,t);
+      repeat
+        readln(f,r);
+        readln(f,s);
+        readln(f,t);
+      until ((r=a) or eof(f));
+      close (f);
+      if r=a then INT2MAUS:=s else INT2MAUS:='';
+    end else INT2MAUS:='';
+  end;
+
+begin
+  new(buf);
+  reset(f1,1);
+  assign(t,outfile);
+  rewrite(t);
+  adr:=0; nn:=0;
+  fs:=filesize(f1);
+  umlaute:=['ä','ö','ü','Ä','Ö','Ü','ß'];
+  writeln(t,'#CMD');
+  if MausON then
+    writeln(t,':ON');     { öffentliche Msgs abrufen }
+  writeln(t,':PN');       { private Msgs abrufen     }
+  if MausOE then
+    writeln(t,':OE');     { eigene Nachrichten nicht zurücksenden }
+  if MausPSA then
+    writeln(t,':PSN');    { Bearbeitungsstati anfordern }
+  if maxmaus&gt;0 then
+    writeln(t,':M ',maxmaus);     { maximale Outfile-Größe vorgeben }
+{ writeln(t,':REN'); }
+  if mausinfos then
+    get_infofiles;
+  if fs&gt;=8 then
+    repeat
+      seek(f1,adr);
+      makeheader(true,f1,0,0,hds,hd,ok,false);
+      if ok then with hd do begin
+        if not mkoutfile then begin
+          p1:=cpos('@',msgid);
+          if p1=0 then p1:=length(msgid)+1;
+          msgid:=left(msgid,min(10,p1-1));
+          end;
+        p1:=cpos('@',empfaenger);
+        if (p1=0) and
+           not stricmp(left(ustr(empfaenger),length(bretth)),bretth) then
+          writeln(#13#10,'unbekannte Mausgruppe: ',empfaenger)
+        else begin
+          inc(nn);
+          write(#13,'Nachrichten: ',nn);
+          pmb:=false;
+          komzu:=(attrib and attrQuoteTo&lt;&gt;0) or
+                 (not mkoutfile and (p1&gt;0) and (replypath&lt;&gt;boxname));
+            { !!: &quot;Kommentar zu&quot; bei PM-Kommentar an andere Pollbox }
+          tomaus:=(ref='') and (ustr(left(empfaenger,5))='MAUS@');
+          if tomaus and (betreff='&lt;Maus-Command&gt;') then
+            writeln(t,'#CMD')
+          else if tomaus and (betreff='&lt;Maus-Direct-Command&gt;') then
+            pmb:=true
+          else begin
+            writeln(t,'#',msgid);           { Block-ID }
+            if org_msgid&lt;&gt;'' then
+              writeln(t,'I',org_msgid);
+            if p1&gt;0 then                  { PM }
+              if (ref='') or (attrib and attrPmReply&lt;&gt;0) or komzu or mkoutfile
+              then begin
+                writeln(t,'A',trim(left(empfaenger,p1-1)),' @ ',
+                          trim(mid(empfaenger,p1+1)));
+                komzu:=(ref&lt;&gt;'');
+                end
+              else
+            else
+              { fb: G-Zeile in AM auf jeden Fall schreiben }
+              { if komzu or (ref='') or mkoutfile then }
+              { /fb}
+                writeln(t,'G',mid(empfaenger,length(bretth)+1));
+            if mkoutfile then begin
+              p2:=cpos('@',absender);
+              if p2&lt;&gt;0 then
+                absender:=left(absender,p2-1)+' @ '+mid(absender,p2+1);
+              writeln(t,'V',absender);
+              end;
+            writeln(t,'E',left(zdatum,2)+datum);
+            writeln(t,'W',betreff {UmlShort(betreff,30)});
+            if (typ='B') and (attrib and attrMPbin&lt;&gt;0) then
+              writeln(t,'M1.0; Content-Type: multipart/mixed; boundary=&quot;-&quot;');
+            if p1=0 then    { AM }
+              if stricmp(distribution,'mausnet') then
+                writeln(t,'DM')
+              else if stricmp(distribution,'lokal') then
+                writeln(t,'DL')
+              else
+                writeln(t,'DN');
+            {ref = org_xref =&gt; INT2MAUS}
+            {MW 11/2003}
+            if ((ref&lt;&gt;'') and (ref=org_xref)) then begin
+              if (length(ref)-pos('@',ref)&lt;5) then org_xref:=INT2MAUS(ref) else
+                begin
+                  ref:='';
+                  org_xref:='';
+                end;
+            end;
+            if ref&lt;&gt;'' then begin
+              if length(org_xref)&gt;length(ref) then
+                begin
+                  {Kompatiblit&#931;tsmodus mit altem Maggi}
+                  tstr:=ref;
+                  ref:=org_xref;
+                  org_xref:=tstr;
+                  {Swap Variable}
+                end;
+              writeln(t,'R',ref);
+              if komzu then begin
+                if org_xref='' then writeln(t,'-',ref); 
+                { fb: Wildwestverkettung nur bei G?K und PM. Ist nach
+                Maus-Specs. nicht nötig, aber der Kompatiblität wegen }
+                if left(ustr(ReplyGroup),length(bretth))=bretth then
+                {/fb}                
+                  writeln(t,':Kommentar zu ',ref,' in der Gruppe ',
+                            ustr(mid(ReplyGroup,length(bretth)+1)));
+                end
+              else
+                if org_xref&lt;&gt;'' then writeln(t,'-',org_xref) else
+                if (length(ref)-pos('@',ref)&lt;5) then writeln(t,'-',ref);
+              end;
+            if AmReplyTo&lt;&gt;'' then
+              writeln(t,':Followup-To: ',mid(AmReplyTo,length(bretth)+1));
+            end;
+          size:=groesse;              { Nachrichtentext kopieren }
+          bufpos:=0; rr:=0;
+          seek(f1,adr+hds);
+          if typ='B' then
+            if attrib and attrMPbin&lt;&gt;0 then
+              mimeencode
+            else
+              uuencode
+          else begin
+            fch:=iifs(pmb,'',':');
+            if size=0 then
+              writeln(t,fch)
+            else
+              while (size&gt;0) or (bufpos&lt;rr) do begin
+                getline;
+                if (length(s)&gt;2) and (s[length(s)]=#10) and
+                   (s[length(s)-1]=#13) and (s[length(s)-2]=' ') then
+                   delete(s,length(s)-2,1);
+                if (length(s)&gt;2) and (s[length(s)]=#10) and
+                   (s[length(s)-1]=#13) and (s[length(s)-2]=' ') then
+                   delete(s,length(s)-2,1);
+                write(t,fch,s);
+                if not pmb then
+                  if s[length(s)]=#10 then fch:=':'
+                  else fch:='';
+                end;
+            if not pmb and (fch='') then writeln(t);
+            end;
+          end;
+        end;
+      inc(adr,hd.groesse+hds);
+    until (adr&gt;=fs) or not ok
+  else
+    ok:=true;
+  if mkoutfile then writeln(t,'#LOG');
+  writeln(t,'#');
+  writeln;
+  close(f1); close(t);
+  dispose(buf);
+  if not ok then cerror;
+end;
+
+
+procedure MausZ;
+const maxilines = 5000;
+      maxxlines = 10;
+      logfile   = 'MAUS.LOG';
+      pmlogfile = 'MAUSPM.LOG';
+      stlogfile = 'MAUSSTAT.LOG';
+      bufsize   = 8192;
+type  tb        = array[0..bufsize-1] of byte;
+      tbufa     = array[1..maxilines] of record
+                                           s  : ^string;
+                                           lf : boolean;
+                                         end;
+var t1,log     : text;
+    f2         : file;
+    pmlog,stlog: text;
+    hd         : header;
+    s          : string[253];
+    tbuf       : ^tbufa;
+    lines,i,nn : longint;
+    c          : char;
+    pm         : byte;
+    b1         : ^tb;
+    firstline  : boolean;
+    keinbetreff: boolean;
+    killmsg    : boolean;
+    info       : MausInfAP;
+    infos      : integer;
+    mime       : boolean;
+    parname    : string[20];
+    xline      : array[1..maxxlines] of ^string;
+    xlines     : integer;
+{$IFDEF BP }
+    fsize      : longint;
+    xms        : byte;    { 0 = nicht initialisiert, 1=initialisiert }
+    xmshandle  : word;                    { 2 = nicht verfügbar }
+    xmssize    : longint;
+    xmsoffset  : longint;
+{$ENDIF }
+
+  function mausform(s:string):string;
+  var p : byte;
+  begin
+    p:=cpos('@',s);
+    if p=0 then
+      mausform:=left(s,79)
+    else
+      mausform:=left(trim(left(s,p-1))+'@'+trim(mid(s,p+1)),79);
+  end;
+
+  procedure appline(s:string; crlf:boolean);
+{$IFDEF BP }
+  const cr_lf : array[0..1] of char = #13#10;
+{$ENDIF }
+  begin
+    if hd.mimever&lt;&gt;'' then
+      ISO2IBM(s,cs_iso8859_1);
+{$IFDEF BP }
+    if (xms=0) and (lines&lt;maxilines) and
+       (((lines mod 16)&lt;&gt;0) or (memavail&gt;10000)) then
+{$ENDIF }
+    begin
+      inc(lines);
+      getmem(tbuf^[lines].s,length(s)+1);
+      tbuf^[lines].s^:=s;
+      tbuf^[lines].lf:=crlf;
+      inc(hd.groesse,length(s)+iif(crlf,2,0));
+    end
+{$IFDEF BP }
+    else
+    begin
+      if xms=0 then
+        if XmsAvail &gt; 0 then begin
+          xmssize:=min(fsize div 1024+1,XmsAvail)*1024;
+          xmshandle:=xmsalloc(xmssize div 1024);
+          if xmsresult=0 then begin
+            xms:=1; xmsoffset:=0;
+            end
+          else
+            xms:=2;
+          end
+        else
+          xms:=2;
+      if (xms=1) and (xmsoffset+length(s)+2&lt;xmssize) then begin
+        XmsWrite(xmshandle,s[1],xmsoffset,length(s));
+        inc(xmsoffset,length(s));
+        inc(hd.groesse,length(s));
+        if crlf then begin
+          XmsWrite(xmshandle,cr_lf,xmsoffset,2);
+          inc(xmsoffset,2);
+          inc(hd.groesse,2);
+          end;
+        end;
+      end;
+{$ENDIF }
+  end;
+
+  function infofile(s:string):string;
+  var i : integer;
+  begin
+    UpString(s);
+    i:=infos;
+    while (i&gt;0) and (s&lt;&gt;info^[i].ID) do dec(i);
+    if i&gt;0 then
+      infofile:=info^[i].text
+    else
+      infofile:='Info-File: '+s;
+  end;
+
+  procedure wrs(s:string);
+  begin
+    if length(s)&gt;253 then s[0]:=#253;
+    s[length(s)+1]:=#13;
+    s[length(s)+2]:=#10;
+    inc(byte(s[0]),2);
+    blockwrite(f2,s[1],length(s));
+  end;
+
+  procedure TestUUbinary;
+  var i : integer;
+  begin
+    i:=1;
+    while (i&lt;=lines) and (pos('begin ',tbuf^[i].s^)&lt;&gt;1) do inc(i);
+    while (i&lt;=lines) and (pos('end',tbuf^[i].s^)&lt;&gt;1) do inc(i);
+    while (i&lt;=lines) and (pos('size ',tbuf^[i].s^)&lt;&gt;1) do inc(i);
+    if i&gt;lines then hd.typ:='T';
+  end;
+
+  procedure UUdecode;
+  var buf  : charrp;
+      bufs : word;
+      bufp : word;
+      i    : integer;
+      n,p  : byte;
+      s    : string[80];
+      b1,b2,
+      b3,b4: byte;
+  begin
+    {$IFDEF BP }
+      bufs:=min(maxavail-16,65500);
+    {$ELSE }
+      bufs:=65536;
+    {$ENDIF }
+    getmem(buf,bufs);
+    bufp:=0;
+    i:=1;
+    while (i&lt;=lines) and (pos('begin ',tbuf^[i].s^)&lt;&gt;1) do inc(i);
+    s:=tbuf^[i].s^;
+    delete(s,1,6);
+    s:=trim(mid(s,blankpos(s)));   { Unix-Filemode wegschneiden }
+    if blankpos(s)&gt;0 then truncstr(s,blankpos(s)-1);
+    wrs('FILE: '+s);
+    if hd.ddatum&lt;&gt;'' then wrs('DDA: '+hd.ddatum+'W+0');
+    inc(i);
+    { R-}
+    while pos('end',tbuf^[i].s^)=0 do begin
+      s:=tbuf^[i].s^;
+      n:=(((ord(s[1])-32) and $3f + 2)div 3)*4;   { anzahl Original-Bytes }
+      p:=2;
+      while p&lt;n do begin
+        b1:=(ord(s[p])-32) and $3f; b2:=(ord(s[p+1])-32) and $3f;
+        b3:=(ord(s[p+2])-32) and $3f; b4:=(ord(s[p+3])-32) and $3f;
+        inc(p,4);
+        buf^[bufp]:=chr(b1 shl 2 + b2 shr 4);
+        buf^[bufp+1]:=chr((b2 and $f)shl 4 + b3 shr 2);
+        buf^[bufp+2]:=chr((b3 and 3)shl 6 + b4);
+        inc(bufp,3);
+        end;
+      inc(i);
+      end;
+    { R+}
+    while (pos('size ',tbuf^[i].s^)&lt;&gt;1) do inc(i);
+    s:=trim(mid(tbuf^[i].s^,5));
+    bufp:=min(bufp,ival(s));   { echte Größe }
+    wrs('LEN: '+strs(bufp));
+    wrs('');
+    blockwrite(f2,buf^,bufp);
+  end;
+
+  procedure WriteInfofile(fn:pathstr);
+  var t : text;
+      i : longint;
+  begin
+    assign(t,fn);
+    rewrite(t);
+    if ioresult=0 then begin
+      for i:=1 to lines do             { Nachrichtentext schreiben }
+        if tbuf^[i].lf then
+          writeln(t,tbuf^[i].s^)
+        else
+          write(t,tbuf^[i].s^);
+      close(t);
+      end;
+  end;
+
+  procedure add_xline(s:string);
+  begin
+    if xlines&lt;maxxlines then begin
+      inc(xlines);
+      xline[xlines]^:=s;
+      end;
+  end;
+
+{$IFDEF BP }
+  procedure CopyXms;
+  var buf : pointer;
+      ofs : longint;
+      blk : word;
+  begin
+    getmem(buf,1024);
+    ofs:=0;
+    while (ofs&lt;xmsoffset) do begin
+      blk:=min(1024,xmsoffset-ofs);
+      XmsRead(xmshandle,buf^,ofs,blk);
+      blockwrite(f2,buf^,blk);
+      inc(ofs,1024);
+      end;
+    freemem(buf,1024);
+  end;
+{$ENDIF }
+
+begin
+  new(b1);
+  new(tbuf);
+  new(info);
+  for i:=1 to maxxlines do
+    new(xline[i]);
+  MausReadITI(boxname,info,infos);
+{$IFDEF BP }
+  fsize:=_filesize(infile);
+{$ENDIF }
+  assign(t1,infile); settextbuf(t1,b1^); reset(t1);
+  assign(f2,outfile); rewrite(f2,1);
+  assign(log,logfile); rewrite(log);
+  assign(pmlog,pmlogfile); rewrite(pmlog);
+  assign(stlog,stlogfile); rewrite(stlog);
+  if not eof(t1) then readln(t1,s);
+  nn:=0;
+  while not eof(t1) do with hd do begin
+{$IFDEF BP }
+    xms:=0;
+{$ENDIF }
+    fillchar(hd,sizeof(hd),0);
+    xlines:=0;
+    typ:='T';
+    lines:=0;
+    keinbetreff:=true;
+    while (left(s,1)&lt;&gt;'#') and not eof(t1) do
+      readln(t1,s);
+    if not eof(t1) then begin
+      pm:=0;
+      if ustr(s)='#LOG' then
+        msgid:=ustr(s)
+      else
+        msgid:=copy(s,2,120);
+      firstline:=true;
+      mime:=false;
+      repeat
+        read(t1,s);
+        if (s&lt;&gt;'') and (s[1]&lt;&gt;'#') then begin
+          c:=s[1];
+          delete(s,1,1);
+          case c of
+            ':' : if mime then
+                    if (s='-') or (cpos(':',s)=0) then
+                      mime:=false
+                    else
+                      add_xline(s)
+                  else begin
+                    appline(s,eoln(t1));
+                    if firstline then begin
+                      if left(lstr(s),13)='kommentar zu ' then begin
+                        ref:=trim(mid(s,14));
+                        if cpos(' ',ref)&gt;0 then
+                          ref:=left(ref,cpos(' ',ref)-1);
+                        end
+                      else if (left(s,1)='-') and (cpos('@',s)&gt;0) and (ref='')
+                      then begin
+                        ref:=trim(mid(s,2));
+                        if cpos(' ',ref)&gt;0 then
+                          ref:=left(ref,cpos(' ',ref)-1);
+                        end
+                      else if left(lstr(s),13)='followup-to: ' then
+                        AmReplyTo:=bretth+trim(mid(s,14))
+                      else if left(lstr(s),10)='reply-to: ' then
+                        PmReplyTo:=trim(mid(s,11))
+                      else if lstr(s)='content-type: uu1' then
+                        typ:='B'
+                      else if lstr(left(s,11))='file-date: ' then
+                        ddatum:=trim(mid(s,12))
+                      else
+                        firstline:=false;
+                      end;
+                    while not eoln(t1) do begin
+                      read(t1,s);
+                      appline(s,eoln(t1));
+                      end;
+                  end;
+            'A' : if empfaenger='' then empfaenger:=mausform(s);
+            'B' : begin pm_bstat:=left(s,15); inc(pm); end;
+            'E' : begin datum:=copy(s,3,10); ZtoZCdatum(datum,zdatum); end;
+            'G' : empfaenger:=bretth+s;
+            'O' : organisation:=s;
+            'V' : absender:=mausform(s);
+            'W' : begin betreff:=s; inc(pm); keinbetreff:=false; end;
+            { fb: Name des Gateway aus der daf?r vorgesehenen Header-Zeile
+              nehmen }
+            'Y' : gate:=left(s,80);
+            { /fb }
+            'I' : begin
+                    org_msgid:=msgid;                          {MW 11/2003}
+                    msgid:=left(s,120);
+                  end;
+            'R' : ref:=left(s,120);                            {MW 11/2003}
+            'N' : realname:=left(s,40);
+            'D' : if s&lt;&gt;'' then case s[1] of
+                    'M' : distribution:='MausNet';
+                    'L' : distribution:='lokal';
+                  end;
+            'M' : begin
+                    mimever:=GetToken(s,';');
+                    mime:=true;
+                    if lstr(GetToken(s,':'))='content-type' then
+                      mimect:=s;
+                  end;
+            { redundante Kommentar-Zeilen aus Outfile tilgen }
+            '&gt;' : if (left(s,9)&lt;&gt;'boundary=') and (not mausKF) then begin
+                    parname:=lstr(trim(left(s,cposx(':',s)-1)));
+                    if (parname&lt;&gt;'mid') and (parname&lt;&gt;'rid') and
+                       (parname&lt;&gt;'mime')
+                       then appline(s,true);
+                    if parname='gate' then begin
+                       if GetToken(s,':')='' then;
+                       gate:=s;
+                       end;
+                  end;
+            {/fb}
+             '-' : org_xref:=left(s,120);                      {MW 11/2003}
+          end;
+          s:=c+s;
+        end;
+        readln(t1);
+      until (left(s,1)='#') or eof(t1);
+      if pm=2 then writeln(pmlog,msgid);
+      if zdatum='' then begin
+        datum:=zdate; setzdate(hd); end;
+      if msgid='#LOG' then
+        for i:=1 to lines do
+          begin                                     {MW 11/2003}
+            if tbuf^[i].s^[1]='=' then writeln(log,'!'+tbuf^[i].s^) else
+            if tbuf^[i].s^[1]+tbuf^[i].s^[2]='!=' then begin
+                    tstr:=tbuf^[i].s^;
+                    delete(tstr,1,1);
+                    writeln(log,tstr);
+                 end
+                 else writeln(log,tbuf^[i].s^);
+          end
+      else begin
+        inc(nn);
+        write(#13,'Nachrichten: ',nn);
+        killmsg:=false;
+        if (msgid&lt;&gt;'') and (cpos('@',msgid)=0) then begin   { Info-File }
+          empfaenger:='/»Mausinfo';    { s. auch XP0.MausInfoBrett }
+          absender:='MausInfo@'+boxname;
+          if msgid='HEAD' then
+            killmsg:=true            { internes Infofile löschen }
+          else
+            if MausIT_files and (left(msgid,2)='IT') and (length(MsgID)=3)
+            then begin
+              WriteInfofile(boxname+'.'+msgid);    { ITI/ITG/ITB in Datei }
+              killmsg:=true;                       { schreiben            }
+              end
+            else
+              betreff:=infofile(msgid);
+          msgid:='';
+          end                                               { Statusinfo }
+        else if (betreff='') and keinbetreff and (pm_bstat&lt;&gt;'') then begin
+          writeln(stlog,'#',msgid);
+          writeln(stlog,'=',pm_bstat);
+          killmsg:=true;
+          end;
+        if not killmsg then begin
+          pfad:=boxname;
+          if absender='' then absender:='Absender fehlt?!@'+boxname;
+          wrs('EMP: '+empfaenger);
+          if cpos('@',absender)=0 then
+            absender:=absender+'@'+boxname;  { für lokale Quark-Nachrichten }
+          if realname='' then
+            wrs('ABS: '+absender)
+          else
+            wrs('ABS: '+absender+' ('+realname+')');
+          wrs('BET: '+betreff);
+          wrs('EDA: '+zdatum);
+          wrs('ROT: '+reverse(pfad));
+          wrs('MID: '+msgid);
+          { fb: Organisation aus O-Zeile ?bertragen }
+          if organisation&lt;&gt;'' then wrs('ORG: '+organisation);
+          { /fb }
+          if ref&lt;&gt;'' then wrs('BEZ: '+ref);
+          if AmReplyTo&lt;&gt;'' then wrs('Diskussion-in: '+AmReplyTo);
+          if PmReplyTo&lt;&gt;'' then wrs('Antwort-an: '+PmReplyTo);
+          if programm&lt;&gt;''  then wrs('Mailer: '+programm);
+          if gate&lt;&gt;''      then wrs('Gate: '+gate);
+          if distribution&lt;&gt;'' then wrs('U-Distribution: '+distribution);
+          if mimever&lt;&gt;'' then wrs('U-MIME-Version: '+mimever);
+          if mimect&lt;&gt;'' then wrs('U-Content-Type: '+mimect);
+          for i:=1 to xlines do
+            wrs('U-'+xline[i]^);
+          wrs('X_C:');
+          wrs('X-XP-NTP: 20');
+          if pm_bstat&lt;&gt;''  then wrs('X-XP-BST: '+pm_bstat);
+          if org_msgid&lt;&gt;'' then wrs('X-XP-ORGMID: '+org_msgid);
+          if org_xref&lt;&gt;''  then wrs('X-XP-ORGREF: '+org_xref);
+          if typ='B' then TestUUbinary;
+          if typ='B' then begin
+            wrs('TYP: BIN');
+            UUdecode;    { schreibt LEN, crlf + Inhalt }
+            end
+          else begin
+            wrs('LEN: '+strs(groesse));
+            wrs('');
+            for i:=1 to lines do             { Nachrichtentext schreiben }
+              if tbuf^[i].lf then
+                wrs(tbuf^[i].s^)
+              else
+                blockwrite(f2,tbuf^[i].s^[1],length(tbuf^[i].s^));
+{$IFDEF BP }
+            if xms=1 then begin
+              CopyXms;
+              XmsFree(xmshandle);
+              end;
+{$ENDIF }
+            end;
+          end;
+        end;
+      for i:=lines downto 1 do
+        freemem(tbuf^[i].s,length(tbuf^[i].s^)+1);
+      end;
+    end;
+  for i:=1 to xlines do
+    dispose(xline[i]);
+  dispose(info);
+  dispose(tbuf);
+  close(t1); dispose(b1);
+  close(f2);
+  close(log);
+  close(pmlog);
+  close(stlog);
+end;
+
+
+begin
+  test8086:=0;
+  logo;
+  getpar;
+  if direction in [1,2,3,8,9] then loadbretter(direction in [8,9]);
+  testfiles;
+  assign(f1,infile);
+  assign(f2,outfile);
+  case direction of
+    1,3 : MZ(false);       { Maggi -&gt; ZC }
+    2   : ZM(false);       { ZC -&gt; Maggi }
+    4   : ZQZ(false);      { Quick -&gt; ZC }
+    5   : ZQZ(true);       { ZC -&gt; Quick }
+    6   : MausZ;           { Maus -&gt; ZC  }
+    7   : ZMaus;           { ZC -&gt; Maus  }
+    8   : MZ(true);        { ProNet -&gt; ZC }
+    9   : ZM(true);        { ZC -&gt; ProNET }
+  end;
+  if halferror then halt(2);
+end.
+{
+  $Log: maggi.pas,v $
+  Revision 1.1  2004/03/15 07:35:38  mw
+  MW: - Weiterarbeit an Maggi
+
+  Revision 1.26  2004/01/09 16:18:57  mw
+  MW: - Wir haben jetzt 2004!!
+
+  Revision 1.25  2003/11/08 12:18:04  mw
+  MW: - Neuer Maggi mit verbesserter Bezugsverkettung (jetzt werden die
+        langen MAUS-IDs verkettet, und nicht mehr die kurzen.
+
+        Hinweise:
+        INT2MAUS sollte deaktiviert werden. Die INT2MAUS.IDS nicht löschen,
+        da diese gegebenfalls von Maggi benutzt wird, um den Schaden den
+        INT2MAUS anrichtet geradezubiegen.
+
+        Bei der vorherigen Verwendung des alten MAGGI ohne INT2MAUS wird
+        die Verkettung einmalig unterbrochen. Das ist leider nicht zu ändern.
+        (Alle alten Nachrichten sind weiterhin korrekt verkettet, aber nicht
+        mit den neuen Nachrichten. Diese aber wieder korrekt untereinander).
+
+  Revision 1.24  2003/09/28 12:59:05  my
+  MY:- Header-Variablen 'charset' (= Inhalt des ZC-Headers &quot;CHARSET:&quot;),
+       'ccharset' (beide bisher: 7 Zeichen) und 'x_charset' (bisher: 25
+       Zeichen) auf 30 Zeichen vergrößert, um zukünftig beliebige,
+       speziell von Gates produzierte und nicht ZC-konforme Charset-
+       Bezeichner unterstützen und auswerten zu können.
+
+  Revision 1.23  2003/08/23 22:58:13  my
+  MY:- Neue Funktion 'disk_free' implementiert, die abhängig vom jeweili-
+       gen OS (WinNT/2K/XP oder andere) bei der Ermittlung des freien
+       Plattenplatzes die entsprechenden Routinen 'diskfree' oder
+       'NTDiskFree' verwendet, und in allen Units, die bisher selbst auf
+       das OS getestet haben, diese neue Funktion verwendet.
+
+  Revision 1.22  2003/08/23 20:29:53  my
+  MW+MY:- Fix NTDiskFree: '1024*1024' und '$10000' (oops!) =&gt; '$100000'
+
+  Revision 1.21  2003/08/23 17:25:35  my
+  MY:- NTDiskFree-Routinen kompakter geschrieben und Redundanzen
+       eliminiert, Typos gefixt, Source formatiert
+
+  Revision 1.20  2003/08/19 15:29:48  mw
+  MW: - Umbau auf NTDiskFree
+
+  Revision 1.19  2003/08/01 23:18:21  my
+  MY:- About-, Beta-, und alle sonstigen Dialoge, Ausgaben und
+       Versionsmeldungen auf &quot;FreeXP&quot; umgestellt.
+
+  Revision 1.18  2003/07/31 22:01:07  my
+  MY:- Einige Copyright-Angaben PM korrigiert (1991 -&gt; 1992, 1993)
+
+  Revision 1.17  2003/07/30 23:09:49  my
+  MY:- Source-Header auf &quot;FreeXP&quot; aktualisiert, einige Detailkorrekturen
+       an CVS-Logs vorgenommen und hier und da CVS-Loginfos implementiert.
+
+  Revision 1.16  2003/06/25 17:26:32  tw
+  auto-de-branching
+
+  Revision 1.15.2.14  2002/07/11 12:27:11  my
+  MY:- Betrefflänge von 245 auf 248 Zeichen erhöht (255-CRLF-&quot;BET: &quot;).
+       Vorgriff auf die geänderte Betreffbehandlung im UUZ, der zukünftig
+       beliebig lange Betreffs ausgehend verarbeiten können wird, weshalb
+       die Länge des Strings &quot;Subject: &quot; nicht mehr berücksichtigt werden
+       muß (in XP bleibt es aber b.a.w. bei der 255-Zeichen-Beschränkung).
+
+  Revision 1.15.2.13  2002/06/10 13:49:42  my
+  MY:- Fix: Wenn die max. zulässige Betrefflänge von 250 Zeichen
+       ausgenutzt wurde, wurde der Betreff in XP auf 248 und im UUZ auf
+       245 Zeichen gekürzt. Max. Betrefflänge daher auf 245 Zeichen
+       reduziert (mehr passt nun mal nicht eine max. 255 Zeichen lange
+       Zeile, wenn noch die Headerbezeichnung &quot;Subject: &quot; und das
+       abschließende LF hinzukommen).
+
+  Revision 1.15.2.12  2002/03/13 23:05:41  my
+  RB[+MY]:- Gesamte Zeichensatzdecodierung und -konvertierung entrümpelt,
+            von Redundanzen befreit, korrigiert und erweitert:
+            - Alle Decodier- und Konvertierroutinen in neue Unit
+              MIMEDEC.PAS verlagert.
+            - Nach RFC 1522 codierte Dateinamen in Attachments werden
+              jetzt decodiert (XPMIME.PAS).
+            - 'MimeIsoDecode' kann jetzt auch andere Zeichensätze als
+               ISO-8859-1 konvertieren. Daher erfolgt bei nach RFC 1522
+               codierten Headerzeilen im Anschluß an die qp- oder base64-
+               Decodierung keine starre ISO-8859-1-Konvertierung mehr,
+               sondern es wird der deklarierte Zeichensatz korrekt
+               berücksichtigt.
+            - Unterstützung für Zeichensätze ISO-8859-15 und Windows-1252
+              implementiert.
+
+  Revision 1.15.2.11  2002/03/08 23:40:10  my
+  MY:- Registrierungs-, Beta-, &quot;Über OpenXP&quot;- und sonstige Dialoge auf
+       OpenXP/16 umgestellt und Copyright-Hinweise sowie Kontakte
+       aktualisiert.
+
+  Revision 1.15.2.10  2001/08/11 22:17:51  mk
+  - changed Pos() to cPos() when possible, saves 1814 Bytes ;)
+
+  Revision 1.15.2.9  2001/08/05 11:45:32  my
+  - added new unit XPOVL.PAS ('uses')
+
+  Revision 1.15.2.8  2001/06/09 07:44:08  mk
+  - Betreffzeile verlaengert
+
+  Revision 1.15.2.7  2001/04/28 15:47:29  sv
+  - Reply-To-All :-) (Reply to sender and *all* recipients of a message
+                     simultaneously, except to own and marked addresses.
+                     'Reply-To-Marked' also possible. Automatically
+                     activated with &lt;P&gt;, &lt;Ctrl-P&gt; and &lt;Shift-P&gt; if not
+                     disabled in Config and if more than one reply address
+                     available after removal of dupes and invalid
+                     addresses. ZConnect and RFC only.)
+  - Changed C/O/N rsp. C/O/E for RTA (Reply-To-All) - removed &quot;ask at
+    Reply-To&quot;, added &quot;User selection list&quot; option.
+  - Query upon first startup and after (first) creation of a ZConnect/RFC
+    server if RTA shall be activated.
+  - Bugfix: &quot;Automatic PM archiving&quot; didn't work if user had selected CC
+    recipients in the send window with &lt;F2&gt; (sometimes XP even crashed).
+  - When archiving PMs with &lt;Alt-P&gt;, headers EMP/KOP/OEM are not thrown
+    away anymore.
+  - OEM headers are read and stored in an internal list (needed for RTA
+    and message header display).
+  - All OEM headers are shown in the message header display now (rather
+    than just the last).
+  - DoSend: - When sending a mail to a CC recipient with a Stand-In/Reply-
+              To address, the server of the Reply-To user is used (rather
+              than the server of the 'original user').
+            - When sending a reply to a 'unknown user' (not yet in user
+              database) we try to catch the server from the message area
+              where the replied message is stored upon creating the user
+              (rather than using the 'default server' and unless the
+              server can be determined through the path).
+            - Fix: When sending a message to more than one user/newsgroup,
+              the first user/newsgroup was indented by one character in
+              the 'subject window'.
+            - Limited CC recipients to 125 in the send window (instead of
+              126 before).
+  - All ASCII characters can be displayed in the online help now
+    (&quot;\axxx&quot;).
+
+  Revision 1.15.2.6  2000/12/31 11:35:53  mk
+  - fileio.disksize statt lfn.disksize benutzen
+
+  Revision 1.15.2.5  2000/10/19 19:03:47  mk
+  - Maggi wieder compilierbar
+
+  Revision 1.15.2.4  2000/10/18 08:49:38  mk
+  - Switch -312 fuer XP Kompatibilitaetsmodus (F-TO -&gt; X-XP-FTO)
+
+  Revision 1.15.2.3  2000/09/12 12:41:59  fe
+  1. Kleine Anpassung an Gatebau '97: Fido-To wird nicht mehr in der
+     proprietaeren X-XP-FTO-Zeile, sondern in der Standard-Zeile F-TO
+     untergebracht.  (X-XP-FTO wird aber weiterhin verarbeitet.)
+
+  2. Kleine Anpassung an Gatebau '97: Fido-To wird auch aus und in
+     RFC-Nachrichten konvertiert.  (X-Comment-To)
+
+  3. Auch bei RFC wird bei oeffentlichen Antworten auf Nachrichten mit
+     Fido-To eine Fido-To-Zeile erzeugt.  (Kleine Verbesserung fuer Leute,
+     die mit RFC-Technik in Fido-Foren schreiben.)
+
+  Revision 1.15.2.2  2000/08/28 23:35:54  mk
+  - LFN in uses hinzugefuegt
+
+  Revision 1.15.2.1  2000/07/02 10:42:59  mk
+  - pformstr entfernt
+
+  Revision 1.15  2000/06/05 16:16:21  mk
+  - 32 Bit MaxAvail-Probleme beseitigt
+
+  Revision 1.14  2000/06/04 18:10:28  sv
+  - Maggi wieder kompilierbar
+
+  Revision 1.13  2000/06/04 16:57:23  sv
+  - Unterstuetzung von Ersetzt-/Supersedes-Nachrichten implementiert
+    (RFC/ZConnect)
+  - Cancel-Auswertung ueberarbeitet und fuer ZConnect implementiert
+  - Schalter, der das Ignorieren von Ersetzt- und Cancelmails moeglich
+    macht in C/O/N eingefuehrt
+  - Anzeige beim Puffereinlesen leicht ueberarbeitet
+
+  Revision 1.12  2000/05/07 19:25:16  mk
+  - Anpassung an Pfad als HugeString
+
+  Revision 1.11  2000/05/03 07:33:56  mk
+  - unbenutze Variablen/Units rausgeworfen
+
+  Revision 1.10  2000/04/30 21:03:35  mk
+  - kein crt noetig
+
+  Revision 1.9  2000/04/29 20:54:06  mk
+  - LFN Support in fsbox und 32 Bit, ISO2IBM-&gt;Typeform
+
+  Revision 1.8  2000/04/13 12:48:31  mk
+  - Anpassungen an Virtual Pascal
+  - Fehler bei FindFirst behoben
+  - Bugfixes bei 32 Bit Assembler-Routinen
+  - Einige unkritische Memory Leaks beseitigt
+  - Einge Write-Routinen durch Wrt/Wrt2 ersetzt
+  - fehlende CVS Keywords in einigen Units hinzugefuegt
+  - ZPR auf VP portiert
+  - Winxp.ConsoleWrite provisorisch auf DOS/Linux portiert
+  - Automatische Anpassung der Zeilenzahl an Consolengroesse in Win32
+
+  Revision 1.7  2000/03/09 23:39:32  mk
+  - Portierung: 32 Bit Version laeuft fast vollstaendig
+
+  Revision 1.6  2000/02/21 22:48:01  mk
+  MK: * Code weiter gesaeubert
+
+  Revision 1.5  2000/02/15 21:06:52  mk
+  RB: [40] in [realnlen] geändert
+
+}
Index: freexp/Trial/overxms.pas
===================================================================
RCS file: freexp/Trial/overxms.pas
diff -N freexp/Trial/overxms.pas
--- a/freexp/Trial/overxms.pas	30 Sep 2003 11:21:36 -0000	1.1
+++ /dev/null	1 Jan 1970 00:00:00 -0000
@@ -1,327 +0,0 @@
-{ OVERXMS - Loads overlays in XMS.  Written by Wilbert van Leijen }
-{ Modified by FreeXP in 2003                                      }
-{ $Id: overxms.pas,v 1.1 2003/09/30 11:21:36 mw Exp $ }
-
-Unit OverXMS;
-{$I XPDEFINE.INC }
-{$O- }
-
-Interface
-uses Overlay,xpglobal;
-
-Const
-  ovrIOError     = -4;
-  ovrNoXMSDriver = -7;                 { No XMS driver installed }
-  ovrNoXMSMemory = -8;                 { Insufficient XMS memory available }
-
-Var 
-  ovrmemsize : word;
-
-Procedure OvrInitXMS;
-
-Implementation
-
-{ XMS block move record }
-Type XmsMoveType = record
-                    BlkSize      : Dword;
-                    SrcHandle    : Word;
-                    SrcOffset    : Dword;
-                    DestHandle   : Word;
-                    DestOffset   : Dword;
-                  end;
-
-{ TP overlay manager record }
-     OvrHeader   = record
-                     ReturnAddr   : Dword; { Virtual return address }
-                     FileOfs      : Dword; { Offset into overlay file }
-                     CodeSize     : Word;  { Size of overlay }
-                     FixupSize    : Word;  { Size of fixup table }
-                     EntryPts     : Word;  { Number of procedures }
-                     CodeListNext : Word;  { Segment of next overlay }
-                     LoadSeg      : Word;  { Start segment in memory }
-                     Reprieved    : Word;  { Loaded in memory flag }
-                     LoadListNext : Word;  { Segment of next in load list }
-                     XmsOffset    : Dword; { Offset into allocated XMS block }
-                     UserData     : Word;  { DW    3 DUP(?) }
-                   end; 
-
-var    XmsDriver    : Dword;               { Entry point of XMS driver }
-       ExitSave     : Dword;               { Pointer to previous exit proc }
-       XmsMove      : XmsMoveType;
-       OvrXmsHandle : Word;                { Returned by XMS driver }
-
-Procedure OvrXmsExit; far;
-begin
- asm
-{ Release handle and XMS memory }
-    MOV    DX, [OvrXmsHandle]
-    MOV    AH, 10
-    CALL   [XmsDriver]
-
-{ Restore pointer to previous exit procedure }
-    LES    AX, [ExitSave]
-    MOV    Word Ptr [ExitProc], AX
-    MOV    Word Ptr [ExitProc+2], ES
- end;
-end;
-
-Procedure AllocateXms; assembler; 
-asm
-
-{  Determine the size of the XMS block to allocate: }
-{  Walk the CodeListNext chain                      }
-{  Store the total codesize in DX:AX                }
-     XOR    AX, AX
-     XOR    DX, DX
-     MOV    BX, [OvrCodeList]
-@@1: ADD    BX, [PrefixSeg]
-     ADD    BX, 10h
-     MOV    ES, BX
-     ADD    AX, ES:[OvrHeader.CodeSize]
-     ADC    DX, 0
-     MOV    BX, ES:[OvrHeader.CodeListNext]
-     OR     BX, BX
-     JNZ    @@1
-
-{ Obtain number of kilobytes to allocate }
-     MOV    BX, 1024
-     DIV    BX
-     XCHG   DX, AX
-     INC    DX
-
-{ Allocate the block }
-     MOV    AH, 9
-     MOV    [ovrmemsize], DX
-     CALL   [XmsDriver]
-     OR     AX, AX
-     JZ     @@2
-     MOV    [OvrXmsHandle], DX
-@@2:   
-end;
-
-Function XmsReadFunc(OvrSeg:Word):Integer; far; 
-{ Swap the code from XMS to the heap }
-begin
-  asm
-     PUSH   BP
-     MOV    BP, SP
-     MOV    ES, [BP+6]
-     MOV    AX, ES:[OvrHeader.CodeSize]
-     MOV    Word Ptr [XmsMove.BlkSize], AX
-     XOR    AX, AX
-     MOV    Word Ptr [XmsMove.BlkSize+2], AX
-     MOV    AX, [OvrXmsHandle]
-     MOV    [XmsMove.SrcHandle], AX
-     MOV    AX, Word Ptr ES:[OvrHeader.XmsOffset]
-     MOV    Word Ptr [XmsMove.SrcOffset], AX
-     MOV    AX, Word Ptr ES:[OvrHeader.XmsOffset+2]
-     MOV    Word Ptr [XmsMove.SrcOffset+2], AX
-     XOR    AX, AX
-     MOV    [XmsMove.DestHandle], AX
-     MOV    Word Ptr [XmsMove.DestOffset], AX
-     MOV    AX, ES:[OvrHeader.LoadSeg]
-     MOV    Word Ptr [XmsMove.DestOffset+2], AX
-     MOV    AH, 11
-     LEA    SI, XmsMove
-     CALL   [XmsDriver]
-     OR     AX, AX
-     JZ     @@1
-     DEC    AX
-     JMP    @@2
-@@1: MOV    AX, ovrIOError
-@@2: POP    BP
-  end;
-end;
-
-Procedure CopyUnitToXms; assembler; 
-{ Copy an overlaid unit from the heap to XMS }
-{ If successful, carry flag is cleared       }
-{ In/Out:                                    }
-{ BX:DI = offset into XMS memory block       }
-
-asm
-
-{ XMS requires that an even number of bytes is moved }
-     MOV    DX, ES:[OvrHeader.CodeSize]
-     TEST   DX, 1
-     JZ     @@1
-     INC    DX
-     INC    ES:[OvrHeader.CodeSize]
-
-
-{ Get the fields of the XMS block move structure }
-@@1: MOV    Word Ptr [XmsMove.BlkSize], DX
-     XOR    AX, AX
-     MOV    Word Ptr [XmsMove.BlkSize+2], AX
-     MOV    [XmsMove.SrcHandle], AX
-     MOV    Word Ptr [XmsMove.SrcOffset], AX
-     MOV    AX, [OvrHeapOrg]
-     MOV    Word Ptr [XmsMove.SrcOffset+2], AX
-     MOV    AX, [OvrXmsHandle]
-     MOV    [XmsMove.DestHandle], AX
-     MOV    Word Ptr [XmsMove.DestOffset], DI
-     MOV    Word Ptr [XmsMove.DestOffset+2], BX
-     MOV    AH, 11
-     LEA    SI, XmsMove
-     PUSH   BX
-     CALL   [XmsDriver]
-     POP    BX
-
-{ Bump code size }
-     ADD    DI, DX
-     ADC    BX, 0
-
-{ Check return code from XMS driver }
-     OR     AX, AX
-     JZ     @@2
-     CLC
-     JMP    @@3
-@@2: STC
-@@3:
-end;
-
-Procedure OvrXmsLoad; assembler; 
-asm
-     PUSH   BP
-     MOV    BP, SP
-
-{ Walk the CodeList chain }
-{ First segment is PrefixSeg+10h+OvrCodeList }
-{ Push each element of overlaid unit list on the stack }
-{ Keep the size of the linked list in CX }
-     MOV    AX, [OvrCodeList]
-     XOR    CX, CX
-@@1: ADD    AX, [PrefixSeg]
-     ADD    AX, 10h
-     MOV    ES, AX
-     PUSH   AX
-     INC    CX
-     MOV    AX, ES:[OvrHeader.CodeListNext]
-     OR     AX, AX
-     JNZ    @@1
-
-{ Loop: }
-{ Pop each element of the overlaid unit list from the stack }
-     XOR    BX, BX
-     XOR    DI, DI
-@@2: POP    ES
-     PUSH   CX
-     MOV    AX, [OvrHeapOrg]
-     MOV    ES:[OvrHeader.LoadSeg], AX
-     MOV    Word Ptr ES:[OvrHeader.XmsOffset+2], BX
-     MOV    Word Ptr ES:[OvrHeader.XmsOffset], DI
-
-{ Load overlay from disk }
-     PUSH   BX
-     PUSH   DI
-     PUSH   ES
-     PUSH   ES
-     CALL   [OvrReadBuf]
-     POP    ES
-     POP    DI
-     POP    BX
-
-{ Flag unit as 'unloaded'; check return code }
-     MOV    ES:[OvrHeader.LoadSeg], 0
-     NEG    AX
-     JC     @@3
-     CALL   CopyUnitToXms
-     JC     @@3
-     POP    CX
-     LOOP   @@2
-@@3: MOV    SP, BP
-     POP    BP
-end;
-
-Procedure OvrInitXMS;
-begin
-  asm
-{ Make sure the file's been opened }
-     XOR    AX, AX
-     CMP    AX, [OvrDOSHandle]
-     JNE    @@1
-     DEC    AX                      { ovrError }
-     JMP    @@5
-
-{ Check presence of XMS driver }
-@@1: MOV    AX, 4300h
-     INT    2Fh
-     CMP    AL, 80h
-     JE     @@2
-     MOV    AX, ovrNoXmsDriver
-     JMP    @@5
-
-{ Get XMS driver's entry point }
-@@2:  MOV    AX, 4310h
-      INT    2Fh
-      MOV    Word Ptr [XmsDriver], BX
-      MOV    Word Ptr [XmsDriver+2], ES
-      CALL   AllocateXms
-      JNZ    @@3
-      MOV    AX, ovrNoXMSMemory
-      JMP    @@5
-
-{ Load the overlay into XMS }
-@@3:  CALL   OvrXmsLoad
-      JNC    @@4
-
-{ An error occurred.  Release handle and XMS memory }
-      MOV    DX, [OvrXmsHandle]
-      MOV    AH, 10
-      CALL   [XmsDriver]
-      MOV    AX, ovrIOError
-      JMP    @@5
-
-{ Close file }
-@@4:  MOV    BX, [OvrDOSHandle]
-      MOV    AH, 3Eh
-      INT    21h
-
-{ OvrReadBuf := XmsReadFunc }
-      MOV    Word Ptr [OvrReadBuf], Offset XmsReadFunc
-      MOV    Word Ptr [OvrReadBuf+2], CS
-
-{ ExitSave := ExitProc }
-{ ExitProc := OvrXmsExit }
-      LES    AX, [ExitProc]
-      MOV    Word Ptr [ExitSave], AX
-      MOV    Word Ptr [ExitSave+2], ES
-      MOV    Word Ptr [ExitProc], Offset OvrXmsExit
-      MOV    Word Ptr [ExitProc+2], CS
-
-{ Return result of initialisation }
-      XOR    AX, AX
-@@5:  MOV    [OvrResult], AX
-    end;
-end;
-
-end.  { OverXMS }
-{
-  $Log: overxms.pas,v $
-  Revision 1.1  2003/09/30 11:21:36  mw
-  MW: - Experimenteller Einbau der overxms.asm in die overxms.pas
-
-        Vorsicht: Derzeit noch nicht 100% stabil !!
-
-
-  Alte Logs des ASM-Files:
-  - 16.03.03  MW  Neue Variable ovrmemsize zeigt die Groesse des Overlay
-                  im XMS an.
- 
-  - 08.03.03  JM  wegen des EMM386 von NovelDos 7.0, der das Register BX
-                  bei der ÜBergabe einer 32-Bit Adresse in BX:DI
-                  beim Kopieren von Units aus der Overlaydatei ins XMS nullt,
-                  wird in Zeile 174/176 das Register BX gesichert
-
-  Revision 1.2  2003/06/25 17:25:23  tw
-  auto-de-branching
-
-  Revision 1.1.1.2  2003/04/16 13:48:20  mw
-  MW: - Neue Berechnungsmethode für XMS-Belegung durch Openxp/16
-        (In overxms.asm wird die Größe des XMS-Blocks gesichert).
-
-  Revision 1.1.1.1  2003/01/10 17:59:35  mw
-  Import OVRXMS
-
-}
- 
\ No newline at end of file
Index: freexp/Trial/test
===================================================================
RCS file: freexp/Trial/test
diff -N freexp/Trial/test
--- a/freexp/Trial/test	4 Mar 2004 09:51:01 -0000	1.11
+++ /dev/null	1 Jan 1970 00:00:00 -0000
@@ -1,35 +0,0 @@
-$Id: test,v 1.11 2004/03/04 09:51:01 mw Exp $
-TESTFILE ä ü ö ß Ä Ü Ö
-CVS-List Realname
-
-$Log: test,v $
-Revision 1.11  2004/03/04 09:51:01  mw
-MW: - CVS-Liste mit Realnamen im From bei COMMIT
-
-Revision 1.10  2004/01/26 07:50:25  mw
-MW: - Exim Rewrite Rule
-
-Revision 1.9  2004/01/25 15:52:54  mw
-MW: - Feed PING e.V.
-
-Revision 1.8  2004/01/24 13:02:44  mw
-MW: - Smartuser
-
-Revision 1.7  2004/01/24 12:36:17  mw
-MW: - Smartuser
-
-Revision 1.6  2004/01/24 10:46:05  mw
-MW: - Smartuser
-
-Revision 1.5  2004/01/24 10:39:46  mw
-MW: - Smartuser
-
-Revision 1.4  2004/01/24 10:21:24  mw
-MW: - Smartusertest
-
-Revision 1.3  2004/01/24 10:18:53  mw
-MW: - Smartuser
-
-Revision 1.2  2004/01/11 22:43:56  mw
-MW: - Umlaute und Log angefügt
-
Index: freexp/doc/snapshot.dq
===================================================================
RCS file: freexp/doc/snapshot.dq
diff -N freexp/doc/snapshot.dq
--- /dev/null	1 Jan 1970 00:00:00 -0000
+++ b/freexp/doc/snapshot.dq	15 Mar 2004 09:07:28 -0000	1.2
@@ -0,0 +1,3758 @@
+&gt;&gt;% Aufruf: Docform snapshot.dq snapshot.txt 71 3 -p -t###
+  -------
+  - die Breite 71 wirkt sich praktisch nur auf das Inhaltsverzeichnis aus
+  - es gibt kein Tabellenverzeichnis am Ende, weil es keine benamten Tabellen gibt
+  - Einzeilenkommentare können bei diesem Text für die Kurzversion der Einträge
+    genutzt und zum Beispiel mit xgrep und sed extrahiert werden:
+&lt;&lt;% Bsp: xgrep &quot;^%&quot; snapshot.dq | sed s/%// &gt; Extrakt.ion
+
+&#9556;&#9552; SNAPSHOT.TXT &#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9559;
+&#9553;                                                       &#9553;
+&#9553;  An die Benutzer dieses FreeXP-Snapshots (v3.40 RC3)  &#9553;
+&#9553;                                                       &#9553;
+&#9562;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9565;
+
+Nach Freigabe der CrossPoint-Quelltexte im Dezember 1999
+zunächst im Rahmen des OpenXP-Teams begonnen, dann seit Januar
+2002 eigenständig als &quot;OpenXP/16&quot; weitergeführt, wird die
+Entwicklung dieser CrossPoint-Version seit Juli 2003 unverändert
+unter der Koordination von Michael Heydekamp und mit den schon
+bisher an OpenXP/16 beteiligten Entwicklern nun unter dem Namen
+&quot;FreeXP&quot; nahtlos fortgesetzt.
+
+Die jeweils aktuellsten Änderungen ab Januar 2002 befinden sich,
+chronologisch geordnet und mit den Kürzeln der jeweiligen
+Entwickler versehen, ganz am Schluß der Datei.
+
+
+
+###
+1. FreeXP - Support und Kontakte
+2.  Änderungen bis Dezember 2001 (thematisch gegliedert)
+3.  Änderungen ab Januar 2002    (zeitlich gegliedert)
+A.   Snapshot vom 09.03.2002, 00:00 Uhr
+B.   Snapshot vom 09.03.2002, 23:26 Uhr
+C.   Snapshot vom 31.03.2002, 21:49 Uhr
+D.   Snapshot vom 21.04.2002, 17:17 Uhr
+E.   Snapshot vom 28.04.2002, 20:00 Uhr
+F.   Snapshot vom 31.08.2003, 01:30 Uhr
+G.   Snapshot vom xx.xx.2003, xx:xx Uhr
+###
+
+&gt;&gt;% ab hier beginnt eine vor Umbruch geschützte Tabelle bis zum ENDE
+      solange kein &lt;&lt;T am linken Rand das abstellt
+&lt;&lt;% Daher gibts keine Querverweise, und den Text manuell formatieren..
+
+&gt;&gt;T
+1. FreeXP - Support und Kontakte
+================================
+Newsgroups:    crosspoint.openxp16.pub.allgemein
+-----------    (Spezifische Newsgroup für FreeXP, zu beziehen über
+                news.kannofant.de oder news.t-online.de, beide Port 119)
+
+               crosspoint.openxp16.pub.developer
+               (Entwickler-Newsgroup, *nur* über news.kannofant.de zu
+                beziehen)
+
+               de.comm.software.crosspoint
+               (Allgemeine CrossPoint-Gruppe für alle XP-Versionen)
+
+
+Mailingliste:  <A HREF="http://www.freexp.de/cgi-bin/mailman/listinfo/cvs-list">openxp16-list at kruemel.org</A>
+-------------  (Die Liste muß per eMail bei <A HREF="http://www.freexp.de/cgi-bin/mailman/listinfo/cvs-list">listserver at kruemel.org</A>
+                bestellt werden, im Nachrichtentext (nicht im Betreff!)
+                ist der Befehl &quot;subscribe openxp16-list&quot; anzugeben.
+                Keine Anrede oder andere Einleitungen voranstellen!)
+
+
+eMail:         <A HREF="http://www.freexp.de/cgi-bin/mailman/listinfo/cvs-list">support at freexp.de</A>
+------         (Wird an Mailingliste weitergeleitet)
+
+
+Internet:      <A HREF="http://www.freexp.de/">http://www.freexp.de/</A>
+---------
+
+FTP:           <A HREF="ftp://ftp.freexp.de/">ftp://ftp.freexp.de/</A>
+----
+
+FidoNet:       CROSSPOINT.OPENXP16.GER
+--------       (Fido&lt;-&gt;Usenet-Gate zur FreeXP-Newsgroup
+                crosspoint.openxp16.pub.allgemein)
+
+               CROSSPOINT.GER
+               CROSSPOINT.EXPERT.GER
+               (allgemeine CrossPoint-Areas für alle XP-Versionen)
+
+               2:2433/460 (Netmail geroutet, Crashmail nur zur ZMH)
+
+&gt;&gt;FF
+&#9632; FreeXP - Entwickler und weitere aktiv Mitwirkende
+===================================================
+
+MY: Michael Heydekamp      (Koordination, Entwicklung, Online-Hilfe,
+                            User/Tester, Bugfinder, Ideengeber,
+                            RFC-Konformität, Website)
+MW: Martin Wodrich         (Serveradministration, Entwicklung,
+                            User/Tester, Bugfinder, Ideengeber,
+                            Dokumentation)
+JM: Joachim Merkel         (Entwicklung, User/Tester, Bugfinder,
+                            Ideengeber, Dokumentation, ZC-Konformität)
+TS: Thomas Seiffert        (Entwicklung, User/Tester, Bugfinder,
+                            Ideengeber)
+SV: Stefan Vinke           (gelegentliche Entwicklung, User/Tester,
+                            Beratung, Bugfinder, Ideengeber)
+AB: Andreas Bauer          (User/Tester, Bugfinder, Ideengeber,
+                            gelegentliche Entwicklung)
+HH: Heiko Hamann           (User/Tester, Bugfinder, Ideengeber, Website,
+                            evtl. gelegentliche Entwicklung)
+HT: Hans-Jürgen Tänzer     (User/Tester, Bugfinder, Ideengeber)
+MF: Martin Foster          (User/Tester, Bugfinder, Ideengeber,
+                            engl. Ressourcen und Online-Hilfe,
+                            engl. FreeXP-Website)
+JA: Johann Addicks         (User/Tester, Bugfinder, Ideengeber)
+JG: Jochen Gehring         (gelegentliche Entwicklung, Beratung,
+                            Bugfinder, Ideengeber)
+RB: Robert Böck            (gelegentliche Entwicklung, Beratung,
+                            Website, Bugfinder, Ideengeber [XP2-Team])
+MH: Martin Max Huckenbeck  (gelegentliche Entwicklung, Beratung,
+                            Bugfinder, Ideengeber [XP2-Team])
+OH: Oliver Hertel          (gelegentliche Entwicklung, Beratung,
+                            Bugfinder, Ideengeber [XP2-Team])
+MM: Maik Müller            (gelegentliche Entwicklung, Beratung,
+                            Bugfinder, Ideengeber [XP2-Team])
+OG: Oliver Gampe           (User/Tester, Bugfinder, Ideengeber,
+                            gelegentliche Entwicklung)
+RJ: Rolf Jentsch           (User/Tester, Bugfinder, Ideengeber,
+                            evtl. gelegentliche Entwicklung)
+AS: Andreas Seybold        (User/Tester, Bugfinder, Ideengeber,
+                            evtl. gelegentliche Entwicklung)
+SF: Stefan Frank           (User/Tester, Bugfinder, Ideengeber)
+HG: Harald Gerber          (User/Tester, Bugfinder, Ideengeber)
+JS: Jan Selmer             (User/Tester, Bugfinder, Ideengeber)
+AL: Alfred Schroeder       (User/Tester, Bugfinder, Ideengeber)
+HW: Helmut Guetschow       (User/Tester, Bugfinder, Ideengeber)
+FH: Frank Hennig           (User/Tester, Bugfinder, Ideengeber)
+TJ: Thomas Jacoby          (User/Tester, Bugfinder, Ideengeber)
+KK: Klaus-Peter Kleinsimon (User/Tester, Bugfinder, Ideengeber)
+MK: Markus Kämmerer        (Gelegentliche Bugfixes [OpenXP/32])
+CL: Claus Färber           (Gelegentliche Bugfixes [OpenXP/32])
+
+
+2.  Änderungen bis Dezember 2001 (thematisch gegliedert)
+========================================================
+&#9484;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9488;
+&#9474;                                &#9474;
+&#9474;  &#196;nderungen bis Dezember 2001  &#9474;
+&#9474;                                &#9474;
+&#9492;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472; OpenXP-Team &#9472;&#9496;
+
+
+
+&#9632; Lister
+--------
+
+- Markierung der bei der letzten Nachrichten-Suche verwendeten
+  Suchbegriffe im Lister (inkl. Umlaut- und Wildcardbehandlung): Nach
+  Suche automatisch aktiv, ansonsten durch &quot;E&quot; schaltbar. Mit &lt;Tab&gt;
+  springt der Cursorbalken die nächste Zeile mit einem markierten
+  Suchbegriff an.
+  XP1.PAS, XP1O.PAS, XP1S.INC, XP4.PAS, XP4O.PAS, LISTER.PAS, XP.IHQ
+
+- Text-Markiersuche im Lister mit &quot;S&quot;: mehrere Suchbegriffe,
+  Suchoptionen (z.B. umlautunabhängige Suche), Suchbegriff-History und
+  Suchbegriffs-Bibliothek verfügbar. &quot;Alte&quot; Suchfunktionen jetzt über
+  &lt;Ctrl-S&gt; (früher &quot;S&quot;) bzw. wie bisher über &lt;Shift-S&gt; erreichbar.
+  XP1.PAS, XP1S.INC, KEYS.PAS, LISTER.PAS, XP-D.RQ, XP-E.RQ, XP.IHQ
+
+- Kommentarbaum kann mit '#' direkt aus Lister heraus aufgebaut werden.
+  Nach Beendigung des Kommentarbaums kehrt XP zur aktuellen Nachricht
+  zurück.
+  XP1O.PAS, XP4W.INC, XP4.PAS, XP.IHQ
+
+- &lt;Alt-M&gt; (Message-ID-Suche) schneidet in der markierten Zeile '/' ab.
+  XP1O.PAS
+
+- Die Header Betreff, Message-ID und Zusammenfassung werden jetzt
+  umbrochen, wenn länger als 78 Zeichen.
+  XP3EX.PAS
+
+- Bei Nachrichten mit ungültigem Datum (i.d.R. Spam) wird nun &quot;N/A&quot;
+  angezeigt statt einer leeren Datum-/Zeitmaske (&quot;..,:&quot;).
+  XP3EX.PAS
+
+- Betreff-Header wird (wenn möglich) aus MPUFFER ausgelesen und kann
+  jetzt bis zu 255 Zeichen lang sein.
+  XP3EX.PAS
+
+- Hex-Dump (&lt;Ctrl-H&gt;/&lt;Backspace&gt;) zeigt jetzt auch Nachrichten &gt;64k an
+  und ist im HIEW-Stil gehalten.
+  XP3EX.PAS
+
+- Kleiner Optikfix: Userdefinierte Header werden nicht mehr fest mit 11
+  Stellen angezeigt, sondern die Länge richtet sich nach der in der
+  Ressource definierten Länge der übrigen Headerzeilen (Res. 361,2).
+  Anzeige damit auch sprachunabhängig.
+  XP3EX.PAS
+
+- Im internen Lister kann der Wortumbruch in Spalte 80 jetzt mit
+  &lt;Ctrl-W&gt; nicht-permanent umgeschaltet werden.
+  XP0.PAS, XP1O.PAS, XP1S.INC, XP2C.PAS, XP2CFG.INC, XP4O.PAS,
+  XPKEYS.PAS, XP.IHQ, XP-E.IHQ
+
+- Der Lister zeigt den KOM-Header jetzt auch dann korrekt an, wenn die
+  Nachricht keine Binärnachricht ist.
+  XP3EX.PAS, XP4W.INC
+
+
+
+&#9632; Editor
+--------
+
+- Beim Editieren von Nachrichten gibt es im &quot;Änderungen speichern?&quot;-
+  Dialog die Option &quot;Parken&quot;, die direkt ein &quot;P&quot; ans Sendefenster
+  weiterleitet und so die Nachricht im »Unversandt-Brett ablegt.
+  XP1.PAS, XP1S.INC, XP1MENU.INC, XP4.PAS, XP4.INC, XP4E.PAS, XP4O.PAS,
+  XP6.PAS, XP8.PAS, XP9.INC, XP10.PAS, XPE.PAS, XPKEYS.PAS, EDITOR.PAS,
+  XP-D.RQ, XP-E.RQ
+
+- &lt;Ctrl-X/C/V&gt; auf MS-Standard gesetzt (Ausschneiden, Kopieren,
+  Einfügen).
+  EDITOR.PAS, XP.IHQ
+
+- Editor-Menü (&lt;F10&gt;) erweitert: &quot;Suchen/Ersetzen/Weitersuchen&quot; und
+  &quot;Beenden&quot; hinzugefügt.
+  EDITOR.PAS, EDITOR.INC, EDDEF.PAS, XP-D.RQ, XP-E.RQ, XP.IHQ
+
+- Suche im Editor markiert jetzt die aktuell gefundene Stelle.
+  EDITOR.INC
+
+- Quotereflow verfeinert: &lt;Enter&gt; mitten in Quotezeichen entspricht
+  &lt;Enter&gt; am Ende von Quotezeichen.
+  EDITOR.INC
+
+- Editor benutzt jetzt statt TED.TMP immer Clipboard-Datei, wenn
+  Windows-Clipboard nicht verfügbar ist. Altes Editor-RAM-Clipboard
+  deaktiviert. Clipboard-Datei umbenannt zu CLIP.TXT.
+  CLIP.PAS, EDITOR.PAS, EDITOR.INC, XP.IHQ
+
+
+
+&#9632; Nachrichten-Suchfunktionen
+----------------------------
+(Lister-Suchfunktionen siehe unter Lister)
+
+- Suchbegriffs-Bibliothek (SEEKLIB.TXT): Hier können oft benutzte
+  Suchbegriffe abgelegt und mit &lt;Shift-F2&gt; ausgewählt werden.
+
+- Suchbegriff-History: Mit &lt;F2&gt; werden die letzten 15 benutzten
+  Suchbegriffe angezeigt und stehen beim nächsten Programmstart wieder
+  zur Verfügung (SEEK.TXT).
+
+- Optionen-History: Mit &lt;F2&gt; werden die letzten 5 benutzten Options-
+  Kombinationen angezeigt und stehen beim nächsten Programmstart wieder
+  zur Verfügung (OPTIONS.TXT).
+
+- Neue Such-Optionen:
+  l = sucht nur in Nachrichten, die dem aktuellen Lesemodus entsprechen
+  m = hängt die gefundenen Nachrichten an die Liste bereits markierter
+      Nachrichten an, statt diese vorher zu ent-markieren
+  h = Volltextsuche nur im Header
+  g = Volltextsuche in Header und Text
+  s = löscht die Einträge in der Suchbegriff-History
+  k = kopiert den aktuellen Suchbegriff in die Suchbegriffs-Bibliothek
+
+- Spezial-Suche: Optionale ODER-Verknüpfung von Absender, Betreff, Fido-
+  Empfänger und Text. &lt;F2&gt;-History für Feld &quot;Text&quot; und &quot;Optionen&quot;
+  eingebaut.
+
+- Betreffsuche (&lt;Alt-B&gt;) markiert jetzt nur noch Nachrichten mit
+  gleichem Betreff und nicht mehr die Nachrichten, bei denen im
+  Vergleichspaar der kürzere Betreff mit dem Anfang des längeren
+  übereinstimmt (z.B. &quot;toll&quot; und &quot;toller Betreff&quot;).
+
+- Nachricht/Suchen/Wiedervorlage durchsucht auch User-Bretter.
+
+- Message-ID-Suche: Suchoptionen sind wieder verfügbar (a,o,m,s,k
+  funktionieren auch dort).
+
+- max. Anzahl der Teil-Suchbegriffe auf 20 erhöht.
+
+- max. Länge des Suchbegriffs auf 160 Zeichen erhöht.
+
+XP4O.PAS, XP4O.INC, MASKE.PAS, MASKE.INC, XP-D.RQ, XP-E.RQ, XP.IHQ
+
+- Wildcard-Volltextsuche &quot;*&quot; bezieht sich nicht mehr auf einzelne Worte,
+  sondern auf den gesamten String (Suche nach &quot;d*t&quot; findet auch &quot;das
+  is'n Test&quot;). Logik damit identisch mit Markiersuche im Lister.
+  XP3.PAS
+
+
+
+&#9632; Brett-&#220;bersicht
+-----------------
+
+- Neuer Menüpunkt &quot;kombinierter Ungelesen-Modus&quot; unter /Config/Anzeige/
+  Bretter, bisherige Taste &quot;U&quot; für diese Funktion ist jetzt Brett-
+  Markiersuche (s.u.). Geänderte Anzeigelogik (siehe Hilfe).
+  XP2C.PAS, XP4.PAS, XP4D.INC, XP-D.RQ, XP-E.RQ, XP.IHQ
+
+- Verbesserte Brettanzeige (zusätzlicher Schalter unter /Config/Anzeige/
+  Bretter): Es können jetzt alle Bretter in Punktschreibweise
+  dargestellt werden, der einleitende &quot;/&quot; wird entfernt, bei PM-Brettern
+  wird der erste &quot;/&quot; durch &quot;@&quot; ersetzt.
+  XP0.PAS, XP4.PAS, XP4W.INC, XP4D.INC, XP2C.PAS, XP2CFG.INC, XP6.PAS,
+  XP-D.RQ, XP-E.RQ, XP.IHQ
+
+- Brett-(markier)-Suche (&quot;U&quot;) analog zu User-Markiersuche implementiert.
+  XP4.PAS, XP4O.PAS, XP-D.RQ, XP-E.RQ, XP.IHQ
+
+- Brett-Schnellsuche (&quot;/&quot; oder &quot;.&quot;) findet jetzt auch PM-Bretter.
+  XP4W.INC
+
+
+
+&#9632; Nachrichten-Lesefenster
+-------------------------
+
+- Sortierung der Nachrichten jetzt umkehrbar (neue oben, alte unten).
+  XP0.PAS, XP2C.PAS, XP2CFG.INC, XP4.PAS, XP-D.RQ, XP-E.RQ,
+  XP.IHQ, XP-E.IHQ
+
+- Feldtausch geändert/verbessert: Jedes Feld kann weggelassen werden,
+  bei Weglassen großer Felder werden die übrigen Felder verbreitert.
+  Option jetzt zusätzlich über /Config/Anzeige/Nachrichten erreichbar.
+  /Config/Anzeige/Hilfen übersichtlicher gestaltet.
+  XP2C.PAS, XP2CFG.INC, XP4D.INC, XP-D.RQ, XP-E.RQ, XP.IHQ, XP-E.IHQ
+
+- Beim Umschalten auf Realname mit &lt;Ctrl-N&gt; wird der Absender um 5
+  Zeichen verkürzt und der Betreff um 5 Zeichen verlängert.
+  XP4D.INC
+
+- Verbesserung für blinde XP-User: Wenn unter /Config/Anzeige/Hilfen die
+  Optionen &quot;Auswahlcursor&quot; und &quot;Fensterhintergrund ausblenden&quot; aktiviert
+  sind, ist das Zeichen für &quot;Haltezeit überschritten&quot; ein normaler Punkt
+  &quot;.&quot; statt eines mittelstehenden Punkts &quot;&#8729;&quot; (249d) und ist daher jetzt
+  von der Sprachausgabe auswertbar.
+  XP4D.INC
+
+- Neuer Menüpunkt Nachricht/Alle/Ungelesen setzt alle angezeigten
+  Nachrichten auf Ungelesen. Nachricht/Alle/Lesen umbenannt in
+  Nachricht/Alle/Gelesen und Hotkey in 'G' geändert.
+  XP3O.PAS, XP4.INC, XP-D.RQ, XP-E.RQ, XP.IHQ, XP-E.IHQ
+
+
+
+&#9632; User-&#220;bersicht
+----------------
+
+- User-Markiersuche (&quot;U&quot;) benutzt jetzt Standard-Suchstringeingabe,
+  dadurch mehrere Suchbegriffe, &lt;F2&gt;-Auswahl, AND/OR/NOT-Verknüpfung
+  und Umlautunabhängigkeit möglich.
+  XP4O.PAS, XP.IHQ
+
+- Mit '#' kann in der User-Übersicht eine Adreßbuchgruppe angegeben
+  werden, die angesprungen werden soll. Mit &lt;Alt-G&gt; (bei älteren
+  Tastaturen auch &lt;Ctrl-#&gt;) wird die nächste Adreßbuchgruppe
+  angesprungen.
+  XP4.PAS, XP4W.INC, XP-D.RQ, XP-E.RQ, XP.IHQ
+
+- Adreßbuch: &lt;Alt-A&gt; schaltet Zugang zu Adreßbuchgruppe 0 frei.
+  XP4.PAS, XP.IHQ
+
+- User editieren: Bei &quot;Adreßbuchgruppe&quot; &lt;F2&gt;-Auswahl aus den aktuell
+  bereits verwendeten Adreßbuchgruppen möglich.
+  XP4E.PAS, XP.IHQ
+
+- Neue Menüpunkte beim Editieren markierter User:
+  Priorität / Empfangsbestätigung / Vertreteradresse / Löschen
+  XP4E.PAS, XP-D.RQ, XP-E.RQ
+
+- Feldtausch geändert/verbessert: Default jetzt FHBGAK, jedes Feld kann
+  weggelassen werden, bei Weglassen großer Felder werden die übrigen
+  Felder verbreitert. /Config/Anzeige/Hilfen übersichtlicher gestaltet.
+  XP0.PAS, XP2C.PAS, XP2CFG.INC, XP4D.INC, XP-D.RQ, XP-E.RQ,
+  XP.IHQ, XP-E.IHQ
+
+
+
+&#9632; Mausbedienung
+---------------
+
+- Online-Hilfe unterstützt jetzt Maussteuerung.
+  HELP.PAS, XP.IHQ
+
+- Untere Funktionstasten-Leiste ist jetzt mausbedienbar. Linksklick auf
+  &quot;CrossPoint/OpenXP&quot; führt das Makro &lt;Alt-C&gt; aus, Rechtsklick bringt
+  About-Dialog (&quot;Über OpenXP&quot;).
+  XP4.INC
+
+- Mittlere Maustaste löst Doppelklick aus.
+  MAUS2.PAS, XP.IHQ
+
+- Scrolling in Datei-Auswahlbox jetzt auch mit Maus möglich.
+  WIN2.PAS
+
+- Bei Maus-Scrolling in Brett-/User-/Nachrichtenfenster &quot;Autobremse&quot;
+  für schnellere PCs gesetzt.
+  XP4.PAS
+
+
+
+&#9632; Allgemeine Bedienung und Sonstiges
+------------------------------------
+
+- RFC: Neuer Schalter &quot;Alten Betreff anhängen&quot; unter /Config/Optionen/
+  Netze.  Wenn aktiviert, wird bei Änderung des Betreffs der alte
+  Betreff in der Form &quot;(was: &lt;alter Betreff&gt;)&quot; automatisch angehängt.
+  XP0.PAS, XP2C.PAS, XP2CFG.INC, XP6.PAS, XP-D.RQ, XP-E.RQ, XP.IHQ
+
+- Zusatzmenü faßt jetzt bis zu 20 Einträge (bei 25 Bildschirmzeilen
+  stehen nur die ersten 19 zur Verfügung).
+  XP0.PAS, XP1.PAS, XP1MENU.INC, XP2.PAS, XP2CFG.INC, XP2F.PAS, XP4.INC,
+  XP.IHQ
+
+- Neuer Menüpunkt &quot;?&quot; (Hilfe) im Hauptmenü mit Untermenüs für nützliche
+  und/oder in der Hilfe ansonsten nur schwer auffindbare Informationen.
+  Untermenü &quot;Über OpenXP&quot; zeigt Versions- und Snapshotnummer sowie
+  OpenXP-Kontakte an. Beta- und Registrierungsfenster optisch angepaßt.
+  XP0.PAS, XP1.PAS, XP1HELP.PAS, XP2.PAS, XP4.INC, XP6.PAS, XPREG.PAS,
+  XPGLOBAL.PAS, XPX.PAS, XP-D.RQ, XP-E.RQ, XP.IHQ
+
+- 'Editdate' nimmt jetzt Datums- und Uhrzeitangaben an.
+  XP1INPUT.PAS
+
+- Bei Nachricht/Ändern/Empfangsdatum jetzt Eingabe von Datum und Uhrzeit
+  sowie Übernahme des Erstelldatums der markierten Nachricht möglich.
+  XP4O.PAS, XP.IHQ
+
+- Lesemodi &quot;Datum&quot; und &quot;Zeit&quot; zusammengefaßt zu Lesemodus &quot;Datum/Zeit&quot;
+  (kombinierte Datums-/Zeiteingabe). Steht der Markierbalken auf einer
+  Nachricht, kann direkt das Eingangsdatum aus der Nachricht übernommen
+  werden.
+  XP4.PAS, XP4E.PAS, XP-D.RQ, XP-E.RQ, XP.IHQ
+
+- Neuer Lesemodus &quot;Reorg.&quot; (Lesen ab letzter Reorganisation)
+  XP4E.PAS, XP5.PAS, XP-D.RQ, XP-E.RQ, XP.IHQ
+
+- Brettmanager: Text-Markiersuche mit &quot;S&quot; (analog zu Lister),
+  Ein-/Ausschalten der markierten Suchbegriffe mit &quot;E&quot;, &quot;alte&quot;
+  Suchfunktionen jetzt über &lt;Ctrl-S&gt; (früher &quot;S&quot;) bzw. wie bisher über
+  &lt;Shift-S&gt; erreichbar.
+  XP1.PAS, XP8.PAS, XP.IHQ
+
+- Option &quot;Keine&quot; bei /Config/Optionen/Useraufnahme mit &lt;F2&gt; wieder
+  verfügbar.
+  XP2C.PAS, XP2CFG.INC, XP.IHQ
+
+- Dateinamenabfrage: Letzter benutzter Pfad (ohne Dateinamen) wird
+  gespeichert und erscheint im &lt;F2&gt;-Auswahldialog. Letzte benutzte Datei
+  oder &quot;Clipboard&quot; ist Default. Eingaben mit Wildcards werden
+  gespeichert auch wenn keine Datei ausgewählt wurde, bei Pfadänderungen
+  in der Datei-Auswahlbox und anschließender Dateiauswahl werden Pfad
+  und Wildcard für die nächste &lt;F2&gt;-Auswahl gespeichert.
+  XP1O.PAS
+
+- &lt;F2&gt;-Auswahl unterstützt jetzt Links-/Rechts-Scrolling (angezeigt
+  durch Hinweispfeile).
+  MASKE.INC
+
+- Datei-Auswahlbox zeigt Scroll-Möglichkeit durch Hinweispfeile an.
+  WIN2.PAS
+
+- Online-Hilfe zeigt Scroll-Möglichkeit durch Hinweispfeile an.
+  HELP.PAS
+
+- Neue Tastenfunktion in Texteingabe-Feldern: &lt;Ctrl-A&gt; markiert das
+  gesamte Eingabefeld.
+  MASKE.INC, XP.IHQ
+
+- UUDECODE: Richtiges Hilfe-Fenster auch aus Lister heraus; Hilfe
+  überarbeitet; Bugfix für Aufruf aus Lister: Datenbank am Ende auf
+  alte Nachricht zurücksetzen.
+  XP_UUE.PAS, XP.IHQ
+
+- Uhr im Archiv-Viewer aktiviert.
+  XP1S.INC
+
+- ASCII-Code-Auswertung in der Hilfe beschleunigt.
+  HELP.PAS
+
+- String &quot;CrossPoint&quot; statt &quot;CrossPoint/OpenXP&quot; wird bei RFC/Client-
+  Netcalls nur noch dann rechts unten angezeigt, wenn dort vorher auch
+  &quot;CrossPoint/OpenXP&quot; stand und nicht durch Funktionstasten ausgeblendet
+  war.
+  XP7U.INC
+
+- Verbesserungen an Displayroutinen (u.a. Feldtausch, rund 1k weniger
+  Speicherverbrauch).
+  XP4D.INC
+
+- Online-Hilfe an die neuen Features und Funktionen angepaßt, weitere
+  Hilfepunkte geändert/korrigiert/vervollständigt.
+  XP.IHQ
+
+- Bei Netcall/Alle und /n:* wird eine Semaphore NETCALL.ALL im
+  XP-Verzeichnis erzeugt (und nach Abarbeitung der Netcall-Liste
+  wieder gelöscht), die von Netcall-Batches ausgewertet werden kann
+  (z.B. um zwischen den Netcalls mehrerer Boxen die Verbindung *nicht*
+  zu trennen). Beim Netcall der letzten Box in der Netcall-Liste wird
+  die Datei in NETCALL.END umbenannt.
+  XP.PAS, XP10.INC, XP.IHQ
+
+- Die Headerzeile &quot;X-XP-BOX&quot; wird jetzt auch bei ZConnect-Nachrichten
+  erzeugt.
+  XP3O2.PAS, XP6.PAS
+
+- Bei einem &quot;Netcall/Alle&quot; werden RFC/Client-Boxen ans Ende der
+  Netcall-Liste sortiert (um existierende DFÜ-Netzwerkverbindung
+  stehenlassen zu können).
+  XP10.INC, XP.IHQ
+
+- Neue Funktion /Netcall/Spezial, die einen Netcall für eine beliebige
+  Anzahl von Boxen in beliebiger Reihenfolge ausführt. Es sind 20
+  verschiedene Einträge möglich, die unter /Netcall/Spezial-Liste
+  konfiguriert werden (die Daten werden in NETCALL.DAT gespeichert).
+  Funktion ist auch über neuen Kommandozeilenparameter &quot;/nsp:1..20&quot;
+  erreichbar, der einen /Netcall/Spezial für den als Parameter
+  übergebenen Eintrag aus NETCALL.DAT ausführt (&quot;/nsp:3&quot; führt einen
+  Netcall für die in Eintrag #3 enthaltenen Boxen durch).
+  XP0.PAS, XP2.PAS, XP4.INC, XP7.PAS, XP10.PAS, XP10.INC, MASKE.PAS,
+  MASKE.INC, XP-D.RQ, XP-E.RQ, XP.HLP, XP-E.HLP
+
+- Automatische Zeitzonenumstellung - wahlweise nach Datum, TZ-Variable
+  oder einer Kombination aus beidem (und natürlich auch manuell). Die
+  Prüfung erfolgt bei jedem XP-Start, jedem Aufruf des Sendefensters
+  sowie jeder Bestätigung des Konfigurationsdialogs /Config/Optionen/
+  Nachrichten. Weitere Details siehe Hilfe.
+  XP.PAS, XP0.PAS, XP1.PAS, XP2.PAS, XP2C.PAS, XP2CFG.INC, XP6.PAS,
+  MONTAGE.PAS, XPDATUM.PAS, XP-D.RQ, XP-E.RQ, XP.IHQ, XP-E.IHQ
+
+- RFC/Client: Konfiguration Multiserverbetrieb (D/B/E/C/Zusätzliche
+  Server und D/B/E/N/Fallback) gemäß Vereinbarung mit XP2 implementiert,
+  Details siehe Menüs und Hilfe; umfangreiche Auswahl- und Testroutinen.
+  In den Dialogen werden immer die Boxnamen angezeigt, in der .BFG der
+  editierten Box jedoch die BFG-Namen der ausgewählten Box(en) abgelegt.
+  XP0.PAS, XP1.PAS, XP7.INC, XP9.INC, XP9.PAS, XP9BP.PAS, XP9SEL.PAS,
+  XP-D.RQ, XP-E.RQ, XP.IHQ, XP-E.IHQ
+
+- Netcall/Spezial-Liste verwendet für die Boxauswahl jetzt (fast)
+  denselben Dialog wie die Multiserverbetrieb-Konfiguration.
+  XP10.INC, XP10.PAS, XP4.INC, XP7.PAS, XP-D.RQ, XP-E.RQ,
+  XP.IHQ, XP-E.IHQ
+
+- RFC/Client: Client- und Server-Konfiguration erheblich umgestaltet
+  und erweitert. Neue Einstellungen:
+  - D/B/E/C/Verbindung: Rückfrage vor Anwahl
+                        Rückfrage vor Auflegen
+                        Verbindungsstatus halten
+  - D/B/E/N/Mail (In) : Protokoll
+                        Envelope-To auswerten
+                        Mail auf Server belassen
+                        APOP-Authentifizierung
+  - D/B/E/N/Mail (Out): SMTP after POP
+                        SMTP-Login nach RFC 2554
+  - D/B/E/N/News      : Newsgroup-Liste pflegen
+                        Max. Artikelgröße (KB)
+                        Max. Artikel je Gruppe
+  XP0.PAS, XP9.INC, XP9BP.PAS, XP9SEL.PAS, XP-D.RQ, XP-E.RQ,
+  XP.IHQ, XP-E.IHQ
+
+- RFC/Client: Das gegen Eingaben gesperrte Feld &quot;Zusätzliche Server&quot;
+  unter D/B/E/C kann jetzt mit &lt;Ctrl-Del&gt; gelöscht werden und ist gegen
+  das Einfügen des Clipboard-Inhalts mit &lt;Ctrl-C&gt; geschützt.
+  XP9.PAS, XP9.INC, XP9SEL.PAS, MASKE.PAS, MASKE.INC, XP.IHQ
+
+- RFC/Client: Envelope-Adresse (eingehende Mail) ist jetzt ein Pflicht-
+  feld (falls ein POP3/SMTP/IMAP-Server eingetragen ist). Beim Netcall
+  führt eine fehlende Adresse zu einem Fehler und bricht den Netcall ab.
+  XP7.INC, XP9.PAS, XP9.INC, XP9SEL.PAS, XP-D.RQ, XP-E.RQ
+
+- RFC/Client: Die Servernamen für die &lt;F2&gt;-Auswahl bei Mail- und News-
+  Servern werden nicht mehr aus der Ressource, sondern aus der Textdatei
+  SERVERS.DAT im XP-Verzeichnis ausgelesen (=&gt; user-editierbar).
+  XP9.INC, XP.IHQ, XP-E.IHQ
+
+- RFC/Client: Bei D/B/E/X (Externe Einstellungen) kann jetzt auch ein
+  Programmname (EXE, COM, BAT) eingetragen und mit &lt;Enter&gt; gestartet
+  werden (alle anderen Dateien werden in den Editor geladen). Die Angabe
+  des Windows-Befehls &quot;start [/w]&quot; ist möglich. Der Boxname (ohne
+  Dateierweiterung .BFG) kann mit $CONFIG als Parameter übergeben
+  werden. Mit &lt;Ctrl-Del&gt; kann der in &lt;Box&gt;.BFG gespeicherte Dateiname
+  entfernt werden.
+  XP9.PAS, XP9.INC, XP9SEL.PAS, MASKE.PAS, MASKE.INC, XP-D.RQ, XP-E.RQ,
+  XP.IHQ, XP-E.IHQ
+
+- RFC/Client ist jetzt ein eigener Netztyp (41) statt eines Parameters
+  in der Boxkonfiguration (&quot;Client-Mode=&quot;). Alte RFC/Client-Boxen müssen
+  einmal manuell von RFC/UUCP wieder auf RFC/Client umgeschaltet werden.
+  Beim Wechsel des Netztyps von ZConnect oder RFC/UUCP auf RFC/Client
+  wird der Wert &quot;eMail-Adresse&quot; automatisch aus den Boxdaten (Username,
+  Pointname, Domain, Alias-Schalter) korrekt ermittelt (falls nicht
+  ohnehin bereits vorhanden).
+  XP2CFG.INC, XP3EX.PAS, XP3O.PAS, XP3O.INC, XP3O2.PAS, XP4.PAS,
+  XP4E.PAS, XP4O.PAS, XP4RTA.PAS, XP6.PAS, XP6O.PAS, XP6S.INC, XP7.PAS,
+  XP7.INC, XP7L.PAS, XP7O.PAS, XP7U.INC, XP8.PAS, XP9.PAS, XP9.INC,
+  XP9BP.PAS, XP9SEL.PAS, XP10.INC, XPNT.PAS, XP-D.RQ, XP-E.RQ, XP.IHQ,
+  XP-E.IHQ, DBFORM.TXT
+
+- Registrierroutine für RFC/Client gemäß Vereinbarung mit Peter
+  Mandrella (Mail vom 21.11.2001) angepaßt =&gt; kein UUCP-Key für
+  RFC/Client mehr erforderlich. :-)
+  XP0.PAS, XP2.PAS, XP2DB.PAS, XP6.PAS, XP.IHQ
+
+- Der Sysop-Mode wird jetzt über einen Schalter unter /Edit/Boxen/Edit/
+  SysopMode aktiviert bzw. deaktiviert. Dadurch ist kein Löschen bzw.
+  Neueintragen der Verzeichnisdaten beim Umschalten mehr erforderlich.
+  Bei Serverboxen, bei denen in vorherigen Versionen bisher der Sysop-
+  Mode aktiviert war, muß der Schalter nach dem Update daher einmal
+  manuell aktiviert werden.
+  XP0.PAS, XP7.PAS, XP7.INC, XP7L.PAS, XP7O.PAS, XP7U.INC, XP9.INC,
+  XP9BP.PAS, XP9SEL.PAS, XP.IHQ, XP-E.IHQ
+
+- Neuer Schalter &quot;User bei PM-Antwort automatisch anlegen&quot; unter
+  /Config/Optionen/Nachrichten. Damit kann die Rückfrage, ob ein
+  unbekannter User beim Beantworten oder Archivieren angelegt werden
+  soll sowie der anschließende Bearbeitungsdialog abgeschaltet und der
+  User automatisch mit den Standardeinstellungen angelegt werden.
+  XP0.PAS, XP2C.PAS, XP2CFG.INC, XP4.PAS, XP4E.PAS, XP6.PAS, XP6O.PAS,
+  XPCC.PAS, XP_PGP.PAS, XP-D.RQ, XP-E.RQ, XP.IHQ, XP-E.IHQ
+
+- Schalter &quot;News-Archivierung verhindern&quot; wieder nach /Config/Optionen/
+  Netze/Verschiedenes verlagert (wegen Platzmangel unter C/O/A).
+  XP2C.PAS, XP-D.RQ, XP-E.RQ, XP.IHQ, XP-E.IHQ
+
+- UUZ: Kommandozeilen-Parameter &quot;-UseEnvTo&quot; (für Schalter &quot;D/B/E/N/
+  Envelope-To_auswerten&quot;) implementiert und UUZ-Hilfe überarbeitet.
+  XP7U.INC, UUZ.PAS
+
+
+
+&#9632; Bugfixes
+==========
+
+- Nach Aufruf der User-Auswahl mit &lt;F2&gt; (z.B. Weiterleiten/User oder
+  Nachricht/Direkt) und Umschalten auf Alle (&quot;A&quot;) war nach Absenden der
+  Nachricht und Wechsel in die User-Übersicht mit &lt;Tab&gt; die User-Anzeige
+  verstümmelt.
+  XP4.PAS
+
+- Select-Routine (mappsel) stürzt nicht mehr ab, wenn String größer als
+  Bildschirmbreite ist (akut in Suchbegriff-History).
+  MASKE.INC
+
+- &lt;Ctrl-D&gt; (Drucken) in Nachrichten-Übersicht war zwar dokumentiert,
+  funktionierte aber nicht. Drucken mit &quot;R&quot; geht auch noch, weil in 2.
+  Menüzeile der User-Übersicht so dokumentiert.
+  XP4.PAS, XP-D.RQ
+
+- &quot;O&quot; (Anzeige des Nachrichten-Headers) nach &lt;Ctrl-PgUp/PgDn&gt; im Lister
+  überschrieb den Bildschirmeintrag, auf den der Cursorbalken in der
+  Nachrichtenübersicht geblättert wurde, mit der Nachricht, bei der der
+  Lister gestartet wurde.
+  XP4W.INC, XP1O.PAS
+
+- Wenn im Editor der Suchbegriff ab der zweiten Zeile eines Absatzes
+  auftauchte, hing die Suche an dieser Fundstelle fest.
+  EDITOR.INC
+
+- Wenn in Pos1 einer eingerückten Zeile &lt;Enter&gt; gedrückt wird, bleibt
+  die Einrückung jetzt erhalten.
+  EDITOR.INC
+
+- Wenn in Pos1 einer eingerückten Quote-Zeile &lt;Backspace&gt; gedrückt
+  wurde, wurde kein Leerzeichen hinzugefügt.
+  EDITOR.INC
+
+- Beim Einlesen von Nachrichten mit Absendern länger als 80 Zeichen
+  wurden die Userflags (Priorität, Filter, Empfbest.) des letzten DB-
+  Eintrags verwendet (dBSeek ging ins Leere, weil der Eintrag größer 80
+  Zeichen nicht gefunden werden kann). Adresse wird jetzt auf eAdrLen
+  (79 Zeichen) gekürzt.
+  XP3O.INC
+
+- Undokumentierte Funktion &lt;Alt-A&gt; im Sendefenster (Absender ändern)
+  übernahm den Absender nicht korrekt, wenn bei einer Fido-Nachricht mit
+  &lt;F2&gt; ein anderer Absender ausgewählt wurde.
+  XP6.PAS
+
+- Wildcard-Volltextsuche &quot;*&quot; hat Nachrichten gefunden, die nicht hätten
+  gefunden werden dürfen (es wurde nur das erste Zeichen hinter dem &quot;*&quot;
+  verglichen, wenn das Ende des überprüften Worts nicht vor dem Ende des
+  Suchbegriffs kam -&quot;b*el&quot; fand &quot;Bier&quot; und &quot;Birnen&quot;, aber nicht
+  &quot;Birne&quot;).
+  XP3.PAS
+
+- Das Zeichen &quot;+&quot; zur Liste der für URLs zulässigen Zeichen hinzugefügt
+  (bisher wurden URLs, die ein &quot;+&quot; enthielten, abgeschnitten).
+  XP1O.PAS
+
+- Crash bei &lt;F2&gt;-Auswahl (mappsel) und Strings &gt; 254 Zeichen behoben.
+  MASKE.PAS
+
+- Komma zur Liste der für URLs zulässigen Zeichen hinzugefügt.
+  XP1O.PAS
+
+- DB-Crash nach nicht erfolgreicher Betreff- oder User-Suche aus
+  Lister heraus behoben (&lt;Alt-B&gt; oder &lt;Alt-U&gt;).
+  XP1O.PAS
+
+- Umschaltung Quotezeichen und Wortumbruch im Lister wird jetzt auch
+  dann auf den korrekten Wert zurückgesetzt, wenn der User vorher die
+  Config (C/O/A bzw. C/O/L) geändert, aber noch nicht gesichert hatte.
+  XP2C.PAS
+
+- Farben für Statuszeile und Suchergebnis in Select-Box initialisiert
+  (relevant für Suchbegriffs-Bibliothek).
+  XP1.PAS
+
+- Suchbegriffs-Bibliothek: Wenn Suchbegriffe markiert sind und &lt;Esc&gt;
+  gedrückt wird, wird a) wieder zum Suche-Dialog zurückgekehrt und b)
+  die markierten Begriffe werden nicht mehr in die Suchbegriff-History
+  übernommen.
+  XP4O.PAS
+
+- Suchbegriffs-Bibliothek: Der erste markierte Suchbegriff wird nicht
+  mehr doppelt in die Suchbegriff-History übernommen.
+  XP4O.PAS
+
+- Ein paar unsinnige Prüfungen auf xp_xp='CrossPoint' in der
+  Farbkonfiguration auskommentiert, dadurch wieder korrekte Anzeige der
+  Menüs.
+  XP2F.PAS
+
+- RFC/Client: Bei den Select-Routinen für &quot;Zusätzliche Server&quot; und
+  &quot;Fallback-Server&quot; wird bei &lt;Esc&gt; nicht mehr zum nächsten Feld
+  gesprungen.
+  XP9SEL.PAS
+
+- Breite des englischen SysopMode-Dialogs bei RFC-Boxen korrigiert.
+  XP-E.RQ
+
+- Sysop-Mode RFC/Client funktioniert jetzt.
+  XP7.PAS, XP7.INC, XP7L.PAS, XP7O.PAS, XP7U.INC
+
+- Ausschlußzeiten werden bei Sysop-Mode und RFC/Client nicht mehr
+  berücksichtigt (war zwar so dokumentiert, funktionierte aber nicht).
+  XP7.PAS
+
+- Cancel/Supersedes berücksichtigt jetzt Alias-Adressierung (ZConnect
+  und RFC/UUCP) sowie eMail-Adresse (RFC/UUCP und RFC/Client).
+  XP3O.PAS
+
+- Datenbank-Crash bei leerer Nachrichten-Datenbank und Nachricht an User
+  behoben.
+  XP4.PAS
+
+- Windows XP wird unter X/S/S nicht mehr als Windows 2000 angezeigt.
+  XP5.PAS
+
+- Beim Archivieren von Nachrichten mit &lt;Alt-A&gt; wird die archivierte
+  Nachricht nicht mehr verschluckt, wenn das Brett eine Vertreteradresse
+  hat und die Schreibsperre aktiviert ist.
+  XP6O.PAS
+
+- UUZ: Endlosschleife bei defekten Nachrichten, bei denen alle
+  relevanten Header fehlen, behoben.
+  UUZ.PAS
+
+
+
+&#9632; Interne &#196;nderungen
+====================
+
+- Übergabe der Nachrichten-Flags nach LISTER.PAS verlagert (Overlay).
+  XP1S.INC, LISTER.PAS
+
+- DoSend: Betreffabfrage ausgelagert als &quot;EditBetreff&quot;
+  (Prozedurrumpfgröße).
+  XP6.PAS
+
+- DosemuVersion nach CLIP.PAS verlagert (Overlay).
+  TYPEFORM.PAS, CLIP.PAS
+
+- Einige Funktionen nach ASM umgeschrieben (Trim, Range, Hex, Sgn, Min,
+  Max, Minmax, Blankpos, Firstchar, Lastchar).
+  TYPEFORM.PAS
+
+- Selten benutzte Routinen von TYPEFORM nach XPOVL verlagert
+  (damit ca. 4k von EXE/Speicher ins Overlay verfrachtet).
+  TYPEFORM.PAS, [XPOVL.PAS], *.* ('uses xpovl')
+
+- 'Testshare' jetzt in ASM.
+  FILEIO.PAS
+
+- Einige Defaults beim Anlegen einer neuen RFC/Client-Box geändert.
+  XP9.INC, XP9BP.PAS
+
+- Prüfung auf gültigen .BFG-Dateinamen vereinfacht ('IsDevice').
+  XP9SEL.PAS
+
+- Etliche Displayroutinen deutlich beschleunigt, speziell für den
+  Bildaufbau in DOS-Boxen von Windows 2000/XP.
+  XP1INPUT.PAS, XP1MENU.INC, XP9SEL.PAS, XP10.PAS, MASKE.INC, MAUS2.PAS,
+  WINXP.PAS
+
+- Einige &quot;cpos(' ',s)&quot; geändert in &quot;blankpos(s)&quot;.
+  XP9SEL.PAS
+
+
+
+
+3.  Änderungen ab Januar 2002    (zeitlich gegliedert)
+&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;
+&#9484;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9488;
+&#9474;                             &#9474;
+&#9474;  &#196;nderungen ab Januar 2002  &#9474;
+&#9474;                             &#9474;
+&#9492;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472; FreeXP &#9472;&#9496;
+
+
+Hinweis: Die folgenden Änderungen sind chronologisch geordnet, wobei bei
+         Entwicklungen, die sich über einen längeren Zeitraum erstreckt
+         haben, der *Beginn* der Entwicklung maßgebend ist.
+
+
+A.   Snapshot vom 09.03.2002, 00:00 Uhr
+---------------------------------------
+&#9632;  01.01.-08.03.2002
+--------------------
+
+MY:
+- RFC/Client: Multiserver-Netcall implementiert. Die aus- und
+  eingehenden Nachrichten der unter &quot;D/B/E/C/Zusätzliche_Server&quot;
+  eingetragenen Serverboxen werden bei einem Netcall mit verarbeitet.
+  Die aus- und eingehenden Nachrichten der zusätzlichen Serverboxen
+  werden in den spezifischen Spool-Verzeichnissen der jeweiligen
+  Serverboxen abgelegt bzw. erwartet. Ausnahme ist der SysopMode, bei
+  dem die ein- und ausgehenden Nachrichten *aller* Serverboxen in dem
+  Ein- bzw. Ausgangsverzeichnis der Box erwartet bzw. abgelegt werden,
+  für die der SysopMode-Transfer durchgeführt wird. Weitere Details
+  siehe Hilfe (z.B. ?/S/R/&lt;Enter&gt;).
+  XP7.PAS, XP7U.INC, XP.IHQ
+
+
+MY:
+- Der interne Befehl *SETUSER ist jetzt zum Netztyp RFC/Client
+  kompatibel und gleichzeitig komplett überarbeitet und erweitert:
+  - Beim Netztyp RFC/Client muß, bei RFC/UUCP kann eine gültige und
+    vollständige eMail-Adresse statt des Usernamens übergeben werden;
+  - FQDN kann gesetzt werden (nur RFC/* und ZConnect);
+  - POP3-/SMTP-Envelope-Adresse kann gesetzt werden (nur RFC/Client);
+    wenn ein POP3-Server eingetragen ist, darf der POP3-Envelope nicht
+    leer sein (= gelöscht werden);
+  - Eingabefeld &quot;Programmname&quot; bei C/T/.. bzw. C/Z von 60 auf 200
+    Zeichen vergrößert (bei externen Befehlen sind max. 127 Zeichen
+    zulässig);
+  - Hinweismeldung &quot;Username: &lt;neuer Username&gt;&quot; am Schluß der Routine
+    zeigt jetzt komplette Adresse an und berücksichtigt Alias-Points
+    (RFC/UUCP und ZConnect).
+  Weitere Details siehe Hilfe.
+  XP0.PAS, XP1.PAS, XP2CFG.INC, XP2F.PAS, XP9SEL.PAS, XP-D.RQ, XP-E.RQ,
+  XP.IHQ, XP-E.IHQ
+
+
+MY:
+- Anzeige der Stammbox-Adresse unterhalb der Menüleiste korrigiert und
+  überarbeitet (bei aktivierter Option &quot;C/A/D/Stammbox-Adresse
+  anzeigen&quot;):
+  - Vollständige Adresse (statt nur Feld &quot;Username&quot;) inkl. Domain wird
+    angezeigt;
+  - Alias-Points werden berücksichtigt (RFC/UUCP und ZConnect);
+  - Realname wird in Klammern angezeigt (falls es sich um einen Netztyp
+    mit Realnames handelt) und ggf. automatisch gekürzt, wenn die
+    Gesamtlänge von Adresse und Realname größer als 76 Zeichen ist;
+  - Bei einem Wechsel des Netztyps der Stammbox wird die Anzeige der
+    Absenderadresse unterhalb der Menüleiste unmittelbar nach dem
+    Wechsel aktualisiert.
+  XP1.PAS, XP9.INC, XP-D.RQ, XP-E.RQ
+
+
+MY:
+- Routine zum Ermitteln der eigenen Adresse bei Cancel- und Supersedes-
+  Nachrichten für RFC/Client sauberer gestaltet.
+  XP3O.PAS
+
+
+MY:
+- Anzeige der Absenderadresse im Rahmen der Box-Konfigurationsdialoge
+  (z.B. D/B/E/M) korrigiert und überarbeitet:
+  - Vollständige Adresse inkl. Domain wird angezeigt;
+  - Alias-Points werden berücksichtigt (RFC/UUCP und ZConnect);
+  - Zu lange Adressen werden der Breite des Dialogs entsprechend
+    gekürzt.
+  XP9.INC
+
+
+MK:
+- Kleine Codeoptimierung/Variableneinsparung.
+  XP4O.PAS, XPKEYS.PAS
+
+
+MK:
+- Interne Änderung: Einige const-Parameter bei dbRead* verwendet.
+  XP4O.PAS
+
+
+MY+HG+JG:
+- WICHTIGER Bugfix (3 Beteiligte, 1 Monat Suche, 2 Codezeilen geändert):
+  OpenXP/16 kann jetzt wieder eine Nachrichten-Datenbank von XP v3.12
+  korrekt und ohne Stillstand des Rechners konvertieren. Bug existent
+  seit dem 12.08.2001. Special thanks to MK für den Bug und to HG fürs
+  unermüdliche Testen.
+  XP3.PAS
+
+
+MY:
+- Bugfix RFC/Client: Mehrere Fehler im Brettmanager behoben. An vier
+  Stellen wurde bei Boxnamen länger als 8 Zeichen nicht der korrekte
+  Dateiname der Brettliste bzw. RC-Datei übergeben, beim Bestellen/
+  Abbestellen von Newsgroups konnte es vorkommen, daß XP die Brettliste
+  nicht finden konnte, weil das Client-Verzeichnis nicht übergeben
+  wurde (Nachwehe der Umstellung von RFC/Client auf einen eigenen
+  Netztyp).
+  XP8.PAS
+
+
+MY:
+- Fix: Umschaltung des Wortumbruchs im Lister mit &lt;Ctrl-W&gt; funktioniert
+  jetzt auch in der Anzeige des Nachrichtenkopfs (&quot;o&quot;), in Nachrichten
+  mit KOM-Header und bei der Anzeige von Dateien in Archiven. Funktion
+  bei der Anzeige des Archivinhalts deaktiviert (weil dort völlig
+  überflüssig und nur hinderlich).
+  XP1O.PAS, XP1S.INC, XP4O.PAS, XP4W.INC
+
+
+MY:
+- Bei Nachrichten mit KOM-Header erscheint keine überflüssige Abfrage
+  &quot;Kommentar anzeigen?&quot; mehr, wenn man im Lister aus der Anzeige des
+  Nachrichtenkopfs (&quot;o&quot;) zum Nachrichtentext zurückkehrt, bzw. wenn man
+  die Nachricht aus dem Lister heraus mit &quot;v&quot; auf Wiedervorlage setzt.
+  XP4W.INC
+
+
+JG+MY:
+- Fix: Beim Kopieren/Einfügen von &quot;nichts&quot; (0 Bytes) bzw. Leer- oder
+  Steuerzeichen in das bzw. aus dem Clipboard wird kein Zeichensalat
+  mehr erzeugt (Zählerunterlauf beim Abschneiden). &quot;String2Clip&quot; in
+  Anlehnung an Code von JG optimiert und vereinfacht.
+  CLIP.PAS
+
+
+JG:
+- Überflüssige Prüfung (&quot;Nichts zu kopieren?&quot;) in 'FastMove' entfernt.
+  TYPEFORM.PAS
+
+
+JG:
+- Fix Nachrichten-Lesefenster: Spalte Realname wird bei &lt;Ctrl-N&gt; bzw.
+  aktivierter Option &quot;C/A/N/Realname_anzeigen,_falls_vorhanden&quot; nicht
+  mehr um 5 Stellen gekürzt, wenn das Brett zu einem Netztyp gehört, bei
+  dem der Realname gleichzeitig Bestandteil der Adresse ist (Fido, Maus,
+  QWK).
+  XP4D.INC
+
+
+MY:
+- Fix: Fehler bei Fido-Netcalls behoben. Wenn der SysopMode deaktiviert,
+  im Feld &quot;Ausgangsverzeichnis&quot; aber noch ein Verzeichnisname
+  eingetragen war, dann wurde dieses Verzeichnis auch bei Netcalls
+  verwendet, die nicht im SysopMode durchgeführt wurden (Folge der
+  Einführung des neuen SysopMode-Schalters).
+  XP7O.PAS
+
+
+MY:
+- Fix: Ein Wechsel im Sendefenster (&quot;o&quot;) von einer RFC/Client- zu einer
+  RFC/UUCP-Box oder umgekehrt ist auch bei öffentlichen Nachrichten
+  jetzt wieder möglich (Nachwehe der Umstellung von RFC/Client auf einen
+  eigenen Netztyp).
+  XP6.PAS
+
+
+MY:
+- Bugfix RFC/Client: Schalter &quot;Rückfrage vor Anwahl&quot;, &quot;Rückfrage vor
+  Auflegen&quot; und &quot;Verbindungsstatus halten&quot; unter D/B/E/C wurden nicht
+  gespeichert.
+  XP9.INC
+
+
+MY:
+- Bugfixes/Änderungen bei der Neuanlage einer RFC/Client-Serverbox:
+  - Im Feld &quot;Zusätzliche Server&quot; konnte es vorkommen, daß die Taste &lt;F2&gt;
+    die Routine und den Auswahldialog für /Netcall/Spezial aufrief.
+  - Die Namen und Ports der Mail- und News-Server werden nur noch dann
+    automatisch von der Serverbox übernommen, auf der der Cursorbalken
+    im Boxauswahl-Dialog stand, wenn es sich bei dieser Box auch um eine
+    RFC/Client-Serverbox handelte.
+  XP9.INC
+
+
+JG:
+- &quot;Überspringen-Bug&quot; gefixt: Im Lesemodus &quot;Alle&quot; sprang der Cursorbalken
+  in der Brett-Übersicht auf das erste Brett zurück, wenn man das letzte
+  auf dem Bildschirm sichtbare Brett mit &lt;Esc&gt; verlassen hatte.
+  XP4W.INC
+
+
+JG:
+- Wenn im Brettmanager eine Markiersuche mit &quot;s&quot; durchgeführt wurde und
+  die eingestellte Farbe für Zeilen- und Wortmarkierung identisch war,
+  dann blieb der Cursorbalken nach Drücken von &lt;Tab&gt; nicht nur auf den
+  markierten Suchergebnissen, sondern auch auf bestellten Brettern
+  stehen.
+  XP1.PAS, LISTER.PAS
+
+
+JG:
+- Fix: Das Springen zum nächsten/vorherigen markierten User mittels &quot;+&quot;
+  und &quot;-&quot; funktioniert jetzt auch über mehrere Adreßbuchgruppen hinweg.
+  XP4W.INC
+
+
+MY:
+- Fix: Quotezeichenbehandlung bei RFC/Client korrigiert (jetzt wieder
+  mit der von RFC/UUCP identisch).
+  XP3EX.PAS
+
+
+MY:
+- RFC/Client: &lt;F2&gt;-Auswahl bei &quot;D/B/E/C/Client-Aufruf&quot; um Eintrag
+  &quot;UKAW.BAT $CONFIG&quot; erweitert.
+  XP9.INC
+
+
+MY:
+- Kritischen Uralt-Bug aus August 2000 behoben: Beim Errechnen der
+  freien Festplattenkapazität konnte es in seltenen Fällen vorkommen,
+  daß falsche bzw. negative Werte geliefert wurden (Dinge wie Filelisten
+  einlesen funktionierten dann z.B. schlicht nicht). Simple Ursache für
+  diesen eigentlich schon längst gefixten Bug: Die in 08/2000 wegen der
+  Unterstützung langer Dateinamen hinzugefügte Unit LFN.PAS enthielt
+  eigene Funktionen 'diskfree' und 'disksize', die nicht den
+  korrigierten Funktionen gleichen Namens in FILEIO.PAS entsprachen.
+  Units wie z.B. XPFIDO.PAS verwendeten dann die Funktionen aus LFN.PAS
+  statt der gefixten aus FILEIO.PAS...  Lösung: 'diskfree' und
+  'disksize' in der Unit LFN.PAS deaktiviert (auskommentiert).
+  LFN.PAS
+
+
+MY:
+- Kommandozeilen-Parameter &quot;/nomem&quot; (Prüfung auf freie Festplatten-
+  kapazität abschalten) dokumentiert.
+  XP-D.RQ, XP-E.RQ, XP.IHQ
+
+
+MY:
+- Registrierungs-, Beta-, &quot;Über OpenXP&quot;- und sonstige Dialoge auf
+  OpenXP/16 umgestellt und Copyright-Hinweise sowie Kontakte
+  aktualisiert.
+  XP1HELP.PAS, XP2C.PAS, XP2F.PAS, XP4.INC, XP4.PAS, XP5.PAS, XP7U.INC,
+  XPGLOBAL.PAS, XPIMPEXP.PAS, XPREG.PAS, XPX.PAS, MAGGI.PAS, NDIFF.PAS,
+  UUCICO.PAS, UUZ.PAS, XP-FM.PAS, XPME.PAS, YUP2PKT.PAS, ZFIDO.PAS,
+  ZPR.PAS, XP-D.RQ, XP-E.RQ, XP.IHQ, XP-E.IHQ
+
+
+RB:
+- Fix für UUZ-Absturz bei kaputten &quot;References:&quot;-Headern (ohne
+  schließende spitze Klammern) korrigiert: String wird nicht mehr
+  abgeschnitten, sondern es bleibt die volle Länge erhalten.
+  UUZ.PAS
+
+
+JG:
+- Fix: Textteile einer MIME-Multipart-Nachricht, die gleichzeitig
+  base64- und UTF-codiert sind, werden jetzt in den IBM-Zeichensatz
+  konvertiert (und daher korrekt angezeigt).
+  XPMIME.PAS
+
+
+JG:
+- Fix: Wenn bei einem gleichzeitig base64- und UTF-8-codierten Text ein
+  zu zwei Zeichen codiertes Sonderzeichen (Umlaut u.ä.) auf zwei
+  verschiedene Zeilen umbrochen wurde, wurde dieses nicht korrekt
+  decodiert (Routine UTF82IBM komplett neu geschrieben).
+  TYPEFORM.PAS
+
+
+JG:
+- Fix: Wenn unter Edit/Viewer ein MIME-Typ mit einer Archiv-Datei-
+  erweiterung (z.B. ZIP), aber ohne Viewerprogramm (Viewer &quot;(intern)&quot;)
+  eingetragen war und ein Nachrichtenteil einer MIME-Multipart-Nachricht
+  mit dieser Dateierweiterung geöffnet wurde, dann wurde nicht der
+  Inhalt des Archivs, sondern der Binärinhalt der Archivdatei
+  angezeigt.
+  XP4W.INC
+
+
+JG:
+- Volltextsuche korrigiert;
+  - Wildcard-Suche zunächst wieder auf alten Stand (nicht mehr
+    wortübergreifend, sondern nur innerhalb eines Wortes) zurückgesetzt
+    (Temporärfix, bis Routine neu geschrieben wird).
+  - Umlaute (ä,ö,ü,ß) werden jetzt auch in Nachrichten mit
+    ISO-Zeichensatz gefunden.
+  XP3.PAS
+
+
+JG:
+- Uhr im Archiv-Viewer wird jetzt in der Statuszeile statt in der ersten
+  Textzeile angezeigt und bei der Anzeige von Dateien, die sich *in*
+  einem Archiv befinden, wird jetzt auch die richtige Uhr des Archiv-
+  Viewers (statt der falschen des Nachrichten-Listers) benutzt.
+  XP1S.INC, LISTER.PAS
+
+
+JG+RB+MY:
+- Zeichensatzkonvertierung bei der Anzeige von MIME-Multipart-
+  Nachrichten überarbeitet und korrigiert. Eine Konvertierung in den
+  IBM-Zeichensatz findet jetzt nur noch dann statt, wenn es sich bei dem
+  jeweiligen Nachrichtenteil
+  - um einen Content-Type 'text/*', und
+  - *nicht* um den Content-Type 'text/html', und
+  - *nicht* um einen Dateianhang, und
+  - um einen der ISO-8859-Zeichensätze oder einen anderen von XP
+    unterstützten Zeichensatz handelt, oder wenn der Nachrichtenteil
+    keine Zeichensatzdeklaration enthält (letzteres ist notwendig wegen
+    diverser kaputter Outlook-Versionen, die keinen Charset-Header
+    erzeugen).
+  Nicht mehr blind konvertiert werden daher u.a. Nachrichtenteile, deren
+  Zeichensatz XP unbekannt ist, sowie HTML- und Datei-Anhänge. Bei der
+  Auswahl &quot;gesamte Nachricht&quot; bzw. bei &lt;Ctrl-Enter&gt; findet ebenfalls
+  keine Konvertierung (mehr) statt.
+  XPMIME.PAS
+
+
+MY:
+- Fix: Bei &quot;alten&quot; MIME-Multipart-Nachrichten vom Typ 'T' findet keine
+  Doppelkonvertierung (xp3.XreadF und xpmime.ExtractMultiPart) in den
+  IBM-Zeichensatz mehr statt (Konvertierung in xp3.XreadF verhindert).
+  XP3.PAS
+
+
+MY:
+- Fix: Nachricht/Ändern/Text wird jetzt auch bei &quot;alten&quot; MIME-Multipart-
+  Nachrichten vom Typ 'T' verhindert. Die entsprechende Fehlermeldung
+  hat jetzt einen zutreffenden Text.
+  XP4O.PAS, XP-D.RQ, XP-E.RQ
+
+
+JG+MY:
+- Fix: MIME-Singlepart-Nachrichten vom Content-Type 'text/html' werden
+  jetzt nicht mehr in den IBM-Zeichensatz konvertiert und daher bei
+  Darstellung mit externen HTML-Viewern korrekt angezeigt. Andere
+  Content-Types werden dann konvertiert, wenn einer der ISO-8859-
+  Zeichensätze oder ein anderer von XP unterstützter Zeichensatz
+  vorliegt, oder wenn der Nachrichtenteil keine Zeichensatzdeklaration
+  enthält (letzteres ist notwendig wegen diverser kaputter Outlook-
+  Versionen, die keinen Charset-Header erzeugen).
+  UUZ.PAS
+
+
+JG:
+- Fix: Bei MIME-Multipart-Nachrichten, die ein Leerzeichen zwischen der
+  Boundary-Deklaration und dem folgenden Semikolon hatten, wurden die
+  einzelnen Nachrichtenteile nicht erkannt und somit der MIME-Auswahl-
+  dialog nicht angezeigt.
+  XPMAKEHD.INC
+
+
+MY:
+- Workaround für UKAW-Quirk: Da UKAW bei D/B/E/N/Max._Artikel_je_Gruppe
+  den Wert &quot;0&quot; nicht als &quot;kein Limit&quot; sondern als &quot;keine Postings
+  empfangen&quot; interpretiert, wird jetzt bei der Neuanlage einer
+  RFC/Client-Serverbox der Höchstwert &quot;99999&quot; als Standardwert
+  eingesetzt.
+  XP9BP.PAS, XP9.INC
+
+
+MA:
+- Fix: Theoretisch möglichen Crash bei /Netcall/Spezial und NETCALL.DAT
+  mit 20 oder mehr Leerzeilen behoben (gefunden durch Range Check...).
+  XP10.INC
+
+
+RB:
+- Fix: Bei &quot;gefalteten&quot; Headern wird beim &quot;Entfalten&quot; der Zeilenumbruch
+  und die anschließenden Leerzeichen jetzt nur noch durch *ein*
+  Leerzeichen ersetzt.
+  UUZ.PAS
+
+
+JG:
+- Fix: Beim Archivieren mit &lt;Alt-P&gt; bleiben die Nachrichtenflags
+  (Priorität, PGP-signiert, MIME-Multipart usw.) jetzt erhalten.
+  XP6O.PAS
+
+
+JG:
+- Fix: Beim Öffnen von Singlepart-Binärnachrichten wurde bei bestimmten
+  Konstellationen unter Edit/Viewer die Fehlermeldung &quot;Fehler beim
+  Dateizugriff :-(&quot; erzeugt (Viewer wurde nicht korrekt initialisiert)
+  und der MIME-Typ hatte fälschlicherweise Vorrang vor der Datei-
+  erweiterung.
+  XP4W.INC
+
+
+MY:
+- Überflüssige Prozedur 'Do_XPHilite' entfernt, 400 Bytes gespart. :)
+  XP4.PAS, XP4D.INC
+
+
+RB:
+- Fix für RFC-1522-Codierung (&quot;MIME in Headerzeilen verwenden&quot;):
+  'RFC1522form' codiert jetzt nicht mehr blind den gesamten String,
+  sondern nur noch den Teil vom ersten bis zum letzten Wort, in dem ein
+  Sonderzeichen vorkommt, das codiert werden muß (Annäherung an Praxis
+  von Mozilla und anderen).
+  UUZ.PAS
+
+
+JG+MY:
+- Fix: Der Content-Type-Header wird jetzt auch bei ausgehenden MIME-
+  Multipart-Postings nicht mehr entfernt, sofern ein Boundary-Header
+  existiert (vorher war das nur dann der Fall, wenn die Nachricht
+  Umlaute enthielt). Dadurch jetzt korrekter Versand von MIME-Multipart-
+  Nachrichten auch in Newsgroups gewährleistet.
+  UUZ.PAS
+
+
+JG+MY:
+- Fix: Beim Ändern des Empfängers im Sendefenster konnte es zu Problemen
+  (&quot;unbekanntes Brett: /FIDO.CROSSPOINT.GER - neu anlegen?&quot;) kommen,
+  wenn es sich z.B. um Fido-Bretter mit Brettebenen handelte und unter
+  /Config/Anzeige/Bretter die Punktschreibweise für alle Bretter gewählt
+  war. Zusatz-Fix für präzisere Anzeige und Bestimmung der Brettebene im
+  Sendefenster implementiert.
+  XPCC.PAS, XP6.PAS
+
+
+MY:
+- Optik-Fix: Wenn ein Brett (z.B. Mailingliste) den String &quot;OpenXP/16&quot;
+  oder &quot;OpenXP/32&quot; enthält, wird bei aktivierter Punktschreibweise für
+  alle Bretter der Schrägstrich in der Brettanzeige und der Quote-
+  Schablone $NEWSGROUP an dieser Stelle nicht mehr durch einen Punkt
+  ersetzt.
+  XP3EX.PAS, XP4D.INC
+
+
+JG:
+- Fix MIME-Multipart-Nachrichten: Bei Nachrichtenteilen vom Typ
+  &quot;text/plain&quot; ohne Zeichensatzdeklaration war es vom Zufall abhängig,
+  ob eine Zeichensatzkonvertierung stattfindet oder nicht (Charset-
+  Variable war nicht initialisiert).
+  XPMIME.PAS
+
+
+JG:
+- Fix: Bei der Prüfung, ob eine neu erstellte Nachricht Umlaute enthält,
+  wird jetzt auch die Signatur einbezogen und daher auch dann der
+  korrekte Zeichensatz deklariert, wenn zwar der Nachrichtentext keine
+  Umlaute enthält, die Signatur aber doch.
+  XP6S.INC
+
+
+JG+MY:
+- Fix: Beim Einfügen eines Clipboard-Inhalts, der mit einem Windows-
+  Programm erstellt wurde (z.B. interner Lister des Windows Commander),
+  konnte es passieren, daß hinter dem eigentlichen String Zeichenmüll
+  eingefügt wurde (Clipboard-Inhalt muß in diesem Fall vorwärts nach #0
+  durchsucht werden, nicht rückwärts). Fehlermeldung &quot;Clipboard-Inhalt
+  ist zu groß&quot; in Ressource verlagert.
+  CLIP.PAS, XP-D.RQ, XP-E.RQ
+
+
+JG+MY:
+- Fix: Bei Nachrichten in eine RFC-Newsgroup, die zu einer Brettgruppe
+  mit der Sonderzeichen-Einstellung &quot;ASCII&quot; gehört, werden zwar Umlaute
+  im Editor zu &quot;ae&quot; usw. gewandelt, nicht aber z.B. Akzent- oder andere
+  Hi-ASCII-Zeichen. Da gleichzeitig die Prüfung, ob die Nachricht
+  Sonderzeichen enthält, gar nicht durchlaufen wurde, wurde nicht der
+  korrekte Zeichensatz &quot;ISO-8859-1&quot; deklariert, obwohl die Nachricht
+  Sonderzeichen enthielt.
+  XP6.PAS
+
+
+JG:
+- Fix Brettweiterschalter: Wenn im Lesemodus &quot;Alles&quot; nach mehr als 127
+  (zu überspringenden) Trennzeilen doch noch ein Brett kam, bestand eine
+  Chance von ca. 70%, daß dieses Brett nicht angesprungen wurde
+  (überlaufener Shortint-Counter, gefunden durch Range Check...).
+  XP4W.INC
+
+
+JG:
+- Fix: Temporärdateien werden jetzt auch dann korrekt gelöscht, wenn sie
+  sich nicht im aktuellen Verzeichnis befinden (Pfad wurde nicht
+  übergeben und der Befehl unter plain DOS wegen des Backslashs am Ende
+  auch nicht korrekt ausgeführt).
+  XP.PAS, XP2B.PAS
+
+
+JG+MY:
+- Fix Nachrichtenweiterschalter: Nach Verlassen des MIME-Auswahldialogs
+  mit &lt;Esc&gt; konnte es passieren, daß nur noch genau einmal (und dann nie
+  wieder) zur nächsten Nachricht gesprungen wurde.
+  XP4.PAS, XP4W.INC
+
+
+MY:
+- &quot;news.kannofant.de&quot; zur Liste der mit &lt;F2&gt; auswählbaren News-Server
+  hinzugefügt.
+  SERVERS.DAT
+
+
+MY:
+- Nachrichtentyp 'M' ergänzt.
+  DBFORM.TXT
+
+
+MY:
+- Hinweis auf neuen SysopMode-Schalter ergänzt.
+  UPDATE.TXT
+
+
+MY:
+- Auf die Schnelle ein paar Anpassungen an OpenXP/16.
+  README.TXT
+
+
+B.   Snapshot vom 09.03.2002, 23:26 Uhr
+---------------------------------------
+&#9632;  09.03.2002
+-------------
+
+MY:
+- Versionsstrings korrigiert/geändert:
+  - Snapshot-Versionsstrings werden jetzt nach dem Muster
+    &quot;CrossPoint [OpenXP/16] v3.40 RC3 @ 0903022151 R/C816&quot; gebildet
+    (zusätzliche Leerzeichen vor Beta-String und vor/nach &quot;@&quot;).
+  - Bei ausgehenden Fido-Nachrichten wird jetzt derselbe Versionsstring
+    erzeugt wie bei allen anderen Netztypen.
+  - Bei eingehenden Fido-Nachrichten wird in der MAILER-Zeile die
+    Tearline jetzt nur noch dann mit &quot; / &quot; an die PID angehängt, wenn
+    PID und Tearline nicht gleich sind und die PID keinen der Strings
+    &quot;crosspoint&quot;, &quot;openxp&quot;, &quot;xp2&quot; oder &quot;xp &quot; enthält.
+  XP6.PAS, XPGLOBAL.PAS, ZFIDO.PAS
+
+
+JG:
+- Fix: Wenn unter /Edit/Viewer ein MIME-Typ &quot;text/...&quot; angelegt und
+  kein externer Viewer eingetragen war, führte dies beim Öffnen einer
+  Nachricht, die keinen U-Content-Type-Header trug, zu der (falschen und
+  harmlosen) Fehlermeldung &quot;Fehler beim Dateizugriff :-(&quot;.
+  XP4W.INC
+
+
+JG:
+- Einige kleinere Korrekturen bei der Anzeige von Dateien mit langen
+  Dateinamen in Archiven vorgenommen und die Anzeige von Dateien, die
+  sich in einem Unterverzeichnis des Archivs befinden, implementiert.
+  XP4O.PAS, ARCHIVE.PAS
+
+
+C.   Snapshot vom 31.03.2002, 21:49 Uhr
+---------------------------------------
+&#9632;  10.03.2002
+-------------
+
+MY:
+- Höhe/Breite von /Config/Anzeige/Diverses korrigiert und an englische
+  Ressource angepaßt.
+  XP2C.PAS, XP-D.RQ, XP-E.RQ
+
+
+MY:
+- /Nachricht/Brettmanager/Bestellen: Abfrage &quot;Anzahl Artikel&quot; in
+  Ressource verlagert und für englische User lesbar gemacht. :)
+  XP8.PAS, XP-D.RQ, XP-E.RQ
+
+
+JG+MY:
+- Kleine Korrektur bei der Anzeige (bzw. dem Entpacker-Aufruf) von
+  Dateien im Archiv-Viewer (Entpacker-Parameter werden nicht mehr in
+  Anführungszeichen eingeschlossen).
+  XP4O.PAS
+
+
+JG:
+- Beim einzeiligen Einfügen des Clipboard-Inhalts (z.B. in Eingabe-
+  felder) werden Steuerzeichen am Stringende nicht mehr in Leerzeichen
+  umgewandelt, sondern entfernt.
+  CLIP.PAS
+
+
+JG:
+- Rechts-/Links-Scrolling im Archiv-Viewer aktiviert. Dadurch kann bei
+  Dateien, die in einem Unterverzeichnis des Archivs liegen und/oder
+  die einen langen Dateinamen haben, jetzt der vollständige Pfad- und
+  Dateiname betrachtet werden.
+  XP4O.PAS
+
+
+
+&#9632;  11.03.2002 [und 14./15.03.2002]
+----------------------------------
+
+JG+MY+RB:
+- Erkennung des UUE-Boundarys sauberer gestaltet (wenn ein Text zufällig
+  nur das Wort &quot;begin&quot; am Anfang irgendeiner Zeile stehen hatte, dann
+  wurde der danach folgende UUE-Block nicht erkannt).
+  XP_UUE.PAS
+
+
+JG:
+- Tonsignal beim Einfügen eines nicht vorhandenen oder zu großen
+  Clipboard-Inhalts wird jetzt (wie alle anderen akustischen Meldungen
+  von XP auch) immer über den PC-Lautsprecher (statt unter Windows über
+  die Soundkarte) ausgegeben.
+  CLIP.PAS
+
+
+
+&#9632;  13./14.03.2002
+-----------------
+
+SV [+MY]:
+- Bei Nachrichten mit KOM-Header wird ein Ändern des Textes via N/Ä/T
+  jetzt verhindert.
+  XP4O.PAS, XP-D.RQ, XP-E.RQ
+
+
+RB [+MY]:
+- Gesamte Zeichensatzdecodierung und -konvertierung entrümpelt, von
+  Redundanzen befreit, korrigiert und erweitert:
+  - Alle Decodier- und Konvertierroutinen in neue Unit MIMEDEC.PAS
+    verlagert.
+  - Nach RFC 1522 codierte Dateinamen in Attachments werden jetzt
+    decodiert (XPMIME.PAS).
+  - 'MimeIsoDecode' kann jetzt auch andere Zeichensätze als ISO-8859-1
+    konvertieren. Daher erfolgt bei nach RFC 1522 codierten Headerzeilen
+    im Anschluß an die qp- oder base64-Decodierung keine starre
+    ISO-8859-1-Konvertierung mehr, sondern es wird der deklarierte
+    Zeichensatz korrekt berücksichtigt.
+  - Unterstützung für Zeichensätze ISO-8859-15 und Windows-1252
+    implementiert.
+  XP3.PAS, XP3EX.PAS, XP6.PAS, XPMIME.PAS, MAGGI.PAS, TYPEFORM.PAS,
+  UUZ.PAS, ZFIDO.PAS, [MIMEDEC.PAS]
+
+
+
+&#9632;  14./15.03.2002
+-----------------
+
+JG:
+- Fix: Bei der Brett-Schnellsuche mit &quot;.&quot; oder &quot;/&quot; wurden keine PM-
+  Bretter mehr gefunden, wenn vorher aufgrund der Eingabe schon ein
+  öffentliches Brett (oder umgekehrt) gefunden worden war - die Suche
+  hing dann beim jeweiligen Brett-Typ fest.
+  XP4W.INC
+
+
+JG+MY:
+- Bei der Brett-Schnellsuche werden &quot;@&quot; und &quot;/&quot; bei der Eingabe jetzt
+  gleichwertig behandelt (falls die Punktschreibweise für alle Bretter
+  aktiviert ist).
+  XP4W.INC
+
+
+
+&#9632;  15.03.2002
+-------------
+
+JG:
+- Fix: Bei der Brett-Schnellsuche mit &quot;.&quot; oder &quot;/&quot; stand der Cursor bei
+  gefundenen PM-Brettern um eine Stelle zu weit rechts, wenn gleich-
+  zeitig C/A/B/&quot;/&quot;_bei_PM-Brettern und die Punktschreibweise für alle
+  Bretter deaktiviert waren.
+  XP4.PAS
+
+
+
+&#9632;  17.03.2002
+-------------
+
+SV:
+- Fix: Das Archivieren von Nachrichten mit KOM-Header funktioniert nun
+  in allen Variationen und es wird beim Beantworten einer solchen
+  Nachricht jetzt nur noch der eigentliche Text (ohne Kommentar) in den
+  Editor geladen.
+  XP0.PAS, XP3EX.PAS, XP6O.PAS
+
+
+MY:
+- Fix: Wenn während des Editierens einer Nachricht mit &lt;Alt-E&gt; eine
+  externe Datei editiert wurde, dann wurde beim Verlassen der Nachricht
+  diese ebenfalls als Datei behandelt (kein 'Parken'-Button, falscher
+  Dialog &quot;Datei wurde geändert&quot;).
+  EDITOR.PAS, XPE.PAS
+
+
+JG:
+- Fix: Wenn beim Lesen von MIME-Multipart-Nachrichten die Auswahl
+  &quot;gesamte Nachricht&quot; getroffen wurde, wurde je nach zufälligem Inhalt
+  der Variable 'charset' die Nachricht mal in den IBM-Zeichensatz
+  konvertiert und mal nicht.
+  XPMIME.PAS
+
+
+
+&#9632;  22.03.2002
+-------------
+
+RB:
+- base64-Decodierung nochmals korrigiert und optimiert (u.a. werden
+  ungültige base64-Strings nicht mehr decodiert).
+  MIMEDEC.PAS
+
+
+
+&#9632;  24.03.2002
+-------------
+
+JG:
+- Fix für Uralt-Bug: Das Eintragen eines Kopienempfängers (&quot;k&quot; im
+  Sendefenster) mit einer anderen Serverbox als der des Empfängers sowie
+  anschließendes Erzwingen des Versendens über eine gemeinsame Serverbox
+  (&quot;o&quot; im Sendefenster) konnte zu abenteuerlichen Effekten führen
+  (Absturz, Hänger, duplizierte Nachrichten). Variable &quot;First&quot; war nicht
+  initialisiert.
+  XP6.PAS
+
+
+
+&#9632;  27.03.2002
+-------------
+
+JG+MY:
+- Fix: Bei Dateianhängen in MIME-Multipart-Nachrichten, die nach der
+  Deklaration des Dateinamens in einem &quot;gefalteten&quot; Header noch weitere
+  Angaben wie &quot;modification-date&quot; enthielten, hielt XP diese Angaben für
+  einen Bestandteil des Dateinamens und konnte daher die Datei im
+  Archiv-Viewer nicht korrekt extrahieren (bzw. gab die Fehlermeldung
+  &quot;Fehler beim Dateizugriff :-(&quot; aus), wenn für den MIME-Typ
+  'text/plain' der Viewer &quot;(intern)&quot; definiert war.
+  XPMIME.PAS
+
+MY:
+- Fix Archiv-Viewer: Wenn die zu entpackende Datei bereits vorhanden und
+  der Dateiname länger war als die in der Fehlermeldung &quot;xyz existiert
+  schon. Überschreiben?&quot; darzustellende (und daher zu kürzende) Länge
+  des Dateinamens, dann hing XP in einer Endlosschleife fest. Der Name
+  wird jetzt in der Reihenfolge Erweiterung, Pfad, Dateiname gekürzt.
+  Dieser Fix betrifft auch alle anderen Stellen, an denen die Routine
+  'fitpath' verwendet wird.
+  TYPEFORM.PAS
+
+MY:
+- Fix Archiv-Viewer: Lange Dateinamen wurden nicht korrekt an den
+  Entpacker übergeben und der Entpacker konnte daher die Datei im Archiv
+  nicht finden (Code von JG am 09.03.2002 nicht vollständig eingebaut).
+  XP4O.PAS
+
+MY:
+- Fix Archiv-Viewer: Wenn XP unter einem LFN-fähigen Betriebssystem lief
+  und die zu entpackende Datei einen langen Dateinamen hatte, jedoch ein
+  nicht LFN-fähiger Entpacker wie PKUNZIP v2.04g verwendet wurde, dann
+  wurde die Datei zwar (mit einem kurzen Dateinamen) entpackt, aber von
+  XP nicht angezeigt (&quot;Datei wurde nicht korrekt entpackt&quot;). XP hatte
+  ausschließlich nach dem langen Dateinamen gesucht und konnte daher die
+  mit dem kurzen Dateinamen entpackte Datei nicht finden.
+  XP4O.PAS
+
+MY:
+- Fix Archiv-Viewer: Entpacker-Aufrufe, die aufgrund der Länge des
+  Dateinamens der zu entpackenden Datei länger als 127 Zeichen wurden,
+  werden jetzt abgefangen (statt erst den Entpacker aufzurufen und
+  anschließend je eine Fehlermeldung vom Entpacker und von XP zu
+  kassieren).
+  XP4O.PAS, XP-D.RQ, XP-E.RQ
+
+MY:
+- Bei der Anzeige von Dateien im internen Lister wird der Dateiname in
+  der Kopfzeile jetzt immer an derselben Stelle angezeigt (unabhängig
+  von der Einstellung C/O/L/Rollbalken_bei_Mausbedienung).
+  LISTER.PAS
+
+RB [+MY]:
+- Fehlertolerantere Fassung für die Decodierung von nach RFC 1522
+  codierten Headerzeilen: Bei Leerzeichen im codierten String wird nicht
+  mehr abgebrochen (relevant z.B. bei VSOUP).
+  MIMEDEC.PAS
+
+JG+MY:
+- Wenn der ASCII-Wert #245 (= Paragraphen-Zeichen unter Codepage 850)
+  über die Tastatur eingegeben wird, dann wird dieser auf den Wert #21
+  (= Paragraphenzeichen unter Codepage 437 *und* 850) umgesetzt. Fix für
+  User, die mit XP unter Codepage 850 arbeiten und bei denen ansonsten
+  das Paragraphenzeichen nicht korrekt beim Empfänger ankommen würde.
+  INOUT.PAS
+
+MY+JG:
+- Das Paragraphenzeichen (#21) kann jetzt in allen Eingabefeldern, in
+  denen alle Zeichen zugelassen sind, eingegeben werden.
+  MASKE.PAS, MASKE.INC
+
+MY:
+- Interne Änderung: An einigen Stellen den festen Wert &quot;80&quot; durch die
+  Variable &quot;screenwidth&quot; ersetzt.
+  XP1S.INC
+
+MY:
+- Interne Änderung: Die LFN-Unterstützung wird bei Angabe des Kommando-
+  zeilenschalters &quot;/lfn&quot; nur noch dann aktiviert, wenn sie nicht bereits
+  sowieso schon aktiviert war.
+  XP2.PAS
+
+
+
+&#9632;  29.03.2002
+-------------
+
+MY:
+- Unterstützung des Headers &quot;U-Delivered-To&quot; für eingehende SMTP-Mails
+  implementiert: Bei Angabe des Schalters &quot;-UseEnvTo&quot; (beim Netztyp
+  RFC/Client zu aktivieren über &quot;D/B/E/N/Envelope-Header_auswerten&quot;)
+  wird statt des SMTP-Headers &quot;RCPT TO&quot; die im (letzten) Header
+  &quot;U-Delivered-To&quot; befindliche Mail-Adresse in den ZConnect-Header
+  &quot;EMP:&quot; geschrieben. Falls zusätzlich ein &quot;(X-)Envelope-To&quot;-Header
+  vorhanden ist, hat dieser Vorrang.
+  UUZ.PAS, XP-D.RQ, XP-E.RQ, XP.IHQ, XP-E.IHQ
+
+MY:
+- Ausgehende MIME-Multipart-Nachrichten werden jetzt auch dann keiner
+  Zeichensatzkonvertierung unterzogen, wenn der Header &quot;CHARSET: ISO1&quot;
+  nicht vorhanden ist. Der Header &quot;CHARSET: ISO1&quot; verhindert aber (wie
+  bisher) ebenfalls eine Zeichensatzkonvertierung.
+  UUZ.PAS
+
+MY:
+- Bei eingehenden MIME-Multipart-Nachrichten wird kein Header
+  &quot;TYP: MIME&quot; mehr erzeugt (Kompatibilität mit anderen XP-Versionen).
+  UUZ.PAS
+
+MY:
+- Ein- wie ausgehende Nachrichten werden dann als MIME-Multipart-
+  Nachrichten betrachtet, wenn sie einen entsprechenden Content-Type-
+  Header *oder* den Header &quot;TYP: MIME&quot; (oder beides) tragen.
+  UUZ.PAS
+
+MY:
+- Fix: Bei ausgehenden RFC-Nachrichten werden Headerzeilen jetzt *immer*
+  vom IBM- in den ISO1-Zeichensatz konvertiert (vorher geschah dies nur,
+  wenn der Header &quot;CHARSET: ISO1&quot; nicht vorhanden war).
+  UUZ.PAS
+
+
+
+&#9632;  30./31.03.2002
+-----------------
+
+MY:
+- UUZ-Schalter &quot;-client&quot; für eingehende Nachrichten implementiert
+  (damit der korrekte Header &quot;X-XP-NTP: 41&quot; geschrieben wird).
+  UUZ-Hilfeausgabe angepaßt.
+  XP7U.INC, UUZ.PAS
+
+MY:
+- Geringfügige Code-Optimierung (copy =&gt; mid).
+  XP7.INC
+
+JG:
+- Fix: Leertasten beim Anlegen von Tastaturmakros werden jetzt als &quot;&lt; &gt;&quot;
+  ins Makro geschrieben (relevant bei Leertasten am Anfang oder am Ende
+  des Makros).
+  XP10.PAS, XP.IHQ, XP-E.IHQ
+
+JG:
+- Im MIME-Auswahlmenü kann jetzt mit &lt;Ctrl-Enter&gt; oder &lt;Space&gt;
+  (Leertaste) die Anzeige mit dem XP-Lister statt mit dem eingetragenen
+  MIME-Viewer erzwungen werden.
+  XP4W.INC, XPMIME.PAS, XP.IHQ, XP-E.IHQ
+
+JG:
+- Fix MIME-Viewer: &lt;Esc&gt; in der Mailviren-Warnabfrage lädt die Nachricht
+  jetzt in den internen Lister und nicht mehr ins &quot;Viewer-Programm für
+  verdächtige Dateien&quot; (C/O/V).
+  XP4W.INC
+
+JG:
+- Fix Nachrichtenweiterschalter: Funktion des Schalters war bei MIME-
+  Multipart-Nachrichten oftmals vom Zufall abhängig.
+  XP4W.INC
+
+JG:
+- Schnellsuche Brett-Übersicht: Funktion der abgekürzten Suche (Sprung
+  zur nächsten Ebene der Bretthierarchie) mittels &quot;/&quot; deaktiviert.
+  Feature erfüllte seinen Zweck nicht wirklich und blockierte normale
+  Suchen (z.B. kam man nie auf &quot;crosspoint/openxp16/pub/allgemein&quot;, wenn
+  vorher &quot;CROSSPOINT.GER&quot; angesprungen worden war).
+  XP4W.INC
+
+JG:
+- Schnellsuche Brett- und User-Übersicht: Leertaste beendet die Suche
+  nicht mehr (&lt;Esc&gt; oder &lt;Enter&gt; funktionieren nach wie vor). So können
+  jetzt auch Bretter gesucht werden, die Leerzeichen im Namen haben.
+  XP4.PAS
+
+JG [+MY]:
+- Durch den Ausbau von 'Do_XPHilite' überflüssig gewordene Variablen
+  und Anweisungen eliminiert.
+  XP0.PAS, XP4.PAS, XP4.INC
+
+JG:
+- Zeilenanzahl (C/A/Z) wird nur noch dann neu gesetzt, wenn notwendig.
+  XP1.PAS
+
+JG:
+- Variable 'msgflags' von integer in longint geändert.
+  XP6O.PAS
+
+JG:
+- In den Datum-Lesemodi (Neues, Heute, Reorg., Datum/Zeit) werden
+  Bretter, die Wiedervorlage-Nachrichten, aber weder ungelesene noch auf
+  den Lesemodus zutreffende enthalten, mit einem &quot;*&quot; markiert.
+  XP4D.INC, XP.IHQ, XP-E.IHQ
+
+MY:
+- In der Fido-Tearline wird jetzt hinter der Versionsnummer wieder der
+  Registrierungsvermerk &quot;R&quot; angezeigt (User-Request).
+  XP6S.INC
+
+MY:
+- XP-Reklamebanner &quot;## CrossPoint ... ##&quot; wird jetzt auch an Fido-
+  Netmails angehängt, wenn C/O/N/##_XP_## auf &quot;PMs&quot; oder &quot;immer&quot; steht
+  (User-Request).
+  XP6S.INC
+
+MY:
+- Die farbliche Unterlegung der Funktionstasten in der oberen Funktions-
+  tastenleiste geriet hin und wieder durcheinander (nach N/S/S z.B.).
+  Ursprüngliche (nicht optimierte) Display-Routine 'showkeys.ks' wieder
+  eingebaut.
+  XP1HELP.PAS
+
+JG+MY:
+- Konfigurierbare Funktionstasten (&lt;Shift-F1&gt; etc.) unterstützen jetzt
+  das Makro $ASK, das einen Eingabedialog ausführt, mittels dessen dem
+  auszuführenden Programm einer oder mehrere Parameter übergeben werden
+  können (z.B. URL aus Lister kopieren und mit Browser starten).
+  XPKEYS.PAS, XP-D.RQ, XP-E.RQ, XP.IHQ, XP-E.IHQ
+
+
+D.   Snapshot vom 21.04.2002, 17:17 Uhr
+---------------------------------------
+&#9632;  07.04.2002
+-------------
+
+CL:
+- Fix: Fehler behoben, der Auslöser für die Abstürze unter Windows
+  NT/2000/XP gewesen sein könnte, wenn die XP_NTVDM.DLL verwendet wird.
+  [Nachtrag: Es treten weiterhin durch XP_NTVDM.DLL verursachte Abstürze
+   auf, Datei nur zu Testzwecken ins XP-Verzeichnis kopieren!]
+  XP_NTVDM.PAS
+
+
+
+&#9632;  08.04.2002
+-------------
+
+MY:
+- Der 983. Nachrichten-Weiterschalter-Fix: Wenn bei einer MIME-
+  Multipart-Nachricht der Lister mit &lt;Backspace&gt; verlassen wurde, war
+  ein aktivierter Nachrichten-Weiterschalter für den Rest der XP-Sitzung
+  deaktiviert (wenn er nicht anschließend mit &lt;Ctrl-W&gt; wieder aktiviert
+  wurde). Der Schalter behält jetzt seinen Status für die nachfolgenden
+  Nachrichten bei, beim Verlassen eines MIME-Auswahlmenüs kommt es
+  hinsichtlich des Weiterschaltens zur nächsten Nachricht darauf an, wie
+  der Lister beim zuletzt betrachteten Nachrichtenteil verlassen wurde
+  (&lt;Backspace&gt; =&gt; nicht weiterschalten, &lt;Esc&gt; =&gt; weiterschalten).
+  XP4W.INC
+
+MY:
+- Anzeige des manuell mit &lt;Ctrl-W&gt; deaktivierten Nachrichten-
+  Weiterschalters (&quot;W&quot;) in oberer Menüleiste wieder eingebaut.
+  XP4.PAS, XP4W.INC
+
+SV:
+- Fix: Speicherleck bei Laufwerks-/Verzeichniswechsel in Dateiauswahl-
+  Fenster (fsbox) beseitigt: Bisher wurde nur der für das jeweils
+  zuletzt angezeigte Verzeichnis benötigte Speicher wieder freigegeben,
+  und XP konnte aufgrund des dadurch verursachten Speichermangels mit
+  einem RTE 203 abstürzen (Bug existent seit dem 26.11.2000).
+  WIN2.PAS
+
+JG [+MY]:
+- Sicherheits-Fix: Bei der Reservierung des Speichers für den Dateinamen
+  im Dateiauswahl-Fenster wird jetzt sicherheitshalber vorher geprüft,
+  ob der angeforderte Speicher überhaupt verfügbar ist und ggf.
+  abgebrochen.
+  WIN2.PAS
+
+
+
+&#9632;  09.04.2002
+-------------
+
+JG:
+- Fixes Brett-Weiterschalter:
+  1) Wenn im Anzeigemodus &quot;Nur Bretter anzeigen, die auf den aktiven
+     Lesemodus passen&quot; alle Nachrichten eines Bretts gelesen waren und
+     das Brett verlassen wurde, sprang der Brett-Weiterschalter im
+     Ungelesen-Modus ein Brett zu weit (weil das Brett jetzt nicht mehr
+     auf den Lesemodus paßte und daher aus der Anzeige verschwand).
+  2) Wenn in derselben Konstellation auf das verlassene Brett eine
+     Trennzeile folgte, und zwischen dieser und der nächsten Trennzeile
+     sich nur Bretter befanden, die nicht auf den aktiven Lesemodus
+     passten, landete der Cursor auf der nächsten Trennzeile (genauer:
+     auf der Stelle, an der in der Komplettanzeige (&quot;A&quot;) das nächste
+     Brett liegen würde).
+  XP4W.INC
+
+JG:
+- Fix Archiv-Viewer: Bei Dateinamen, die keinen Punkt enthielten,
+  wurden innerhalb eines Archivs nur die ersten vier Stellen angezeigt.
+  XP4O.PAS
+
+JG:
+- Beim Kopieren von Text in die Zwischenablage wird das Zeichen ASCII #0
+  jetzt in ein Leerzeichen (#20) umgewandelt statt den String an dieser
+  Stelle abzuschneiden.
+  CLIP.PAS
+
+MY [+JG]:
+- Der From:-Header durchläuft jetzt die MIME-Decodierung nach RFC 1522,
+  *bevor* er in 'GetAdr' in Adresse und Realname zerlegt wird (vorher
+  wurde ein Header wie 'From: &quot;Christian =?Iso-8859-1?Q?R=F6=DFler&quot;?=
+  &lt;...&gt;' nicht korrekt decodiert).
+  UUZ.PAS
+
+MY:
+- Anzahl der erforderlichen UUZ-Parameter bei ausgehenden Nachrichten
+  auf 3 (vorher 4) reduziert. Routine erfüllt ohnehin nicht ihren
+  vermutlichen Zweck (nämlich die Angabe von &lt;fromSite&gt; und &lt;toSite&gt; zu
+  erzwingen) und müßte mal komplett überarbeitet werden.
+  UUZ.PAS
+
+
+
+&#9632;  12.04.2002
+-------------
+
+MY:
+- Fix: Das Erzwingen des internen XP-Listers statt des eingetragenen
+  MIME-Viewers mit &lt;Ctrl-Enter&gt; oder &lt;Space&gt; im MIME-Auswahlmenü
+  funktionierte nicht, wenn unter /Edit/Viewer eine Dateierweiterung für
+  den jeweiligen MIME-Typ eingetragen war.
+  XP4W.INC
+
+MY:
+- Logik der Anzeige des mit &lt;Ctrl-W&gt; manipulierten Nachrichten-Weiter-
+  schalters geändert: Großes &quot;W&quot; steht für &quot;Weiterschalter manuell
+  aktiviert&quot;, kleines &quot;w&quot; steht für &quot;Weiterschalter manuell
+  deaktiviert&quot;; keine Anzeige bedeutet, daß die Einstellung unter C/O/B
+  aktiv ist. Vorher stand ein großes &quot;W&quot; für &quot;Weiterschalter manuell
+  deaktiviert&quot; (Grmpf), keine Anzeige konnte entweder bedeuten, daß die
+  Einstellung unter C/O/B aktiv ist, oder daß der Weiterschalter manuell
+  aktiviert wurde (Grmpf).
+  XP4W.INC
+
+JG+MY:
+- Wortumbruch-Umschaltung im Lister (&lt;Ctrl-W&gt;) intern komplett umgebaut:
+  Die Repeat-Schleife wird jetzt direkt in xp1s.listfile durchlaufen
+  statt explizit bei jedem Routinenaufruf von listfile angegeben werden
+  zu müssen.
+  XP0.PAS, XP1O.PAS, XP1S.INC, XP2C.PAS, XP2CFG.INC, XP4O.PAS, XP4W.INC,
+  XPKEYS.PAS
+
+CL:
+- Fix: Das Kopieren aus dem Lister mittels Auswahl &quot;Clipboard (URL)&quot;
+  bzw. &quot;Clipboard (Mail)&quot; ins Clipboard von Windows NT/2000/XP über die
+  direkte XP-Schnittstelle XP_NTVDM.DLL funktioniert jetzt, führt aber
+  dadurch möglicherweise auch zu weiteren Abstürzen, wenn diese
+  Funktionen benutzt werden. XP_NTVDM.DLL nur zu Testzwecken ins XP-
+  Verzeichnis kopieren!
+  XP_NTVDM.PAS
+
+
+
+&#9632;  13.04.2002
+-------------
+
+RB [+JG+MY]:
+- MIME-Decodierung nach RFC 1522 an RFC 2822/2047 (whitespace zwischen
+  &quot;multiple 'encoded word's&quot;, auch bei Folding) angepaßt und Erkennung
+  von 'encoded word's verbessert. Korrekt decodiert werden jetzt z.B.:
+
+  Subject: =?iso-8859-1?Q?=5BNoten=5D_=5BBuffy=5D_5abb18_=22Der_Zorn_der_G=F6t?=
+          =?iso-8859-1?Q?tin=22_=28Intervention=29?=
+
+  Subject: Test =? RFC 1522 =?ISO-8859-1?Q?=E4=F6=FC?= hehe ?=
+  Subject: Test ?Q? =?ISO-8859-1?Q?=E4=F6=FC?= hoho
+
+  Pascal-Variante von RB übernommen (alternativ steht ASM-Variante von
+  JG zur Verfügung). Toleranz-Fix für VSOUP und Konsorten vom 27.03.2002
+  damit automatisch eliminiert, bei Leerzeichen im codierten String wird
+  wieder abgebrochen.
+  MIMEDEC.PAS
+
+SV:
+- Interne Änderung: Code in fsbox (Dateiauswahl-Box) optimiert, um den
+  verfügbaren Platz auf dem Stack zu erhöhen.
+  WIN2.PAS
+
+SV:
+- Bisherige Routine (qsort) zum Sortieren von Dateien in Dateiauswahl-
+  Box ersetzt durch stackschonendere Routine (shellsort). Damit Problem
+  behoben, daß XP bei der Dateiauswahl unter bestimmten Umständen
+  (wenig Stackplatz z.B. bei Aufruf aus Sendefenster, Verzeichnis mit
+  vielen Dateien, häufiger rekursiver Aufruf von qsort) abstürzen und
+  den Rechner einfrieren konnte.
+  WIN2.PAS
+
+SV:
+- Fix: Spitze Klammern in der Message-ID wurden bei eingehenden Cancel-
+  Nachrichten nicht korrekt entfernt (wirkte sich bei der Verarbeitung
+  aber nicht negativ aus).
+  UUZ.PAS
+
+MY [+SV]:
+- Sortierung in der Dateiauswahl-Box geändert: Erst Verzeichnisse, dann
+  Dateien, dann Laufwerke.
+  WIN2.PAS
+
+MY:
+- Unit 'mimedec' ins Overlay verschoben, dadurch 3 KB in XP.EXE gespart.
+  XP.PAS
+
+MY:
+- Ressourcen für erweiterte User- und Brett-Exportfunktionen (die
+  offenbar schon seit längerem implementiert waren) ergänzt und Breite
+  der Dialogboxen an Ressourcen angepaßt.
+  XP4O.PAS, XP-D.RQ, XP-E.RQ
+
+
+
+&#9632;  18.04.2002 [und 20.04.2002]
+------------------------------
+
+JG+RB+MY:
+- Unterstützung aller derzeit bei der IANA registrierten Alias-Namen
+  für die von XP bei eingehenden Nachrichten unterstützten Zeichensätze
+  (US-ASCII, ISO-8859-x und Windows-1252) implementiert.
+  MIMEDEC.PAS, UUZ.PAS
+
+
+
+&#9632;  19.-21.04.2002
+-----------------
+
+JG [+MY]:
+- MIME-Multipart-Versand (RFC/ZConnect) implementiert :-):
+  OpenXP/16 kann jetzt standardkonforme MIME-Multipart-Nachrichten
+  erzeugen und versenden. Es können sowohl im Sendefenster als auch
+  direkt im Editor (!) Dateien und Textteile beliebiger Anzahl und Größe
+  an die aktuelle Nachricht angehängt werden. Die Änderung der Reihen-
+  folge bereits angehängter Nachrichtenteile sowie die Nachbearbeitung
+  des Nachrichtentextes ist möglich, das Weiterleiten von MIME-
+  Multipart-Nachrichten mittels N/W/K, N/W/O, N/W/E und N/W/R wird jetzt
+  ebenfalls unterstützt. Weitere Details siehe Hilfe (?/S/A).
+  Kompletter Sourcecode für XP entwickelt von JG, Anpassungen an und
+  Einbau in OpenXP/16 durch MY.
+  Spezieller Dank an HH für die Vorarbeit im Rahmen der Entwicklung des
+  XP-Tools XPBMIME, dessen Arbeitsweise teilweise als Anstoß und Vorlage
+  für die aktuelle XP-Implementation diente, sowie an JM für seine
+  Mitarbeit daran, speziell im Bereich Zeichensatzbehandlung und
+  ZConnect-Konformität.
+  XP2F.PAS, XP4.INC, XP6.PAS, [XP6M.INC], XP6O.PAS, XP6S.INC, XPE.PAS,
+  EDDEF.PAS, EDITOR.PAS, EDITOR.INC, XP-D.RQ, XP-E.RQ, XP.IHQ, XP-E.IHQ
+
+JG:
+- Fix: Beim Archivieren mit &lt;Alt-P&gt; bleiben die Nachrichtenflags
+  (Priorität, PGP-signiert, MIME-Multipart usw.) jetzt auch dann
+  erhalten, wenn die Archivierung aus einem AM-Brett heraus erfolgt.
+  XP6O.PAS
+
+OG+MY:
+- Beim Kopieren eines URL aus dem Lister ins Clipboard mittels
+  &lt;F2&gt;-Auswahl &quot;Clipboard (URL)&quot; wird jetzt aus einer Mail-Adresse der
+  Homepage-URL erraten (&quot;<A HREF="http://www.freexp.de/cgi-bin/mailman/listinfo/cvs-list">xx at openxp16.de</A>&quot; =&gt; &quot;<A HREF="http://www.openxp16.de&quot;">http://www.openxp16.de&quot;</A>).
+  XP1O.PAS, XP.IHQ, XP-E.IHQ
+
+MY:
+- Fix: Im Ungelesen-Modus wurde bei MIME-Multipart-Nachrichten trotz
+  aktiviertem Nachrichten-Weiterschalter nicht zur nächsten Nachricht
+  weitergeschaltet (fälschlicherweise von JG übernommenen Codeteil
+  entfernt).
+  XP4W.INC
+
+
+E.   Snapshot vom 28.04.2002, 20:00 Uhr
+---------------------------------------
+&#9632;  24.04.2002
+-------------
+
+SV+MY:
+- Umfangreiche Bugfixes bei der Auswahl einer anderen bzw. gemeinsamen
+  Serverbox mit &quot;o&quot; im Sendefenster (sog. &quot;forcebox&quot;), speziell für RFC
+  und ZConnect. Zuviele Bugs, um alle beschreiben zu können, unvoll-
+  ständige Auswahl:
+  - Wenn für zwei RFC- oder ZConnect-Empfänger mit unterschiedlicher
+    Serverbox eine gemeinsame Serverbox erzwungen wurde und die Nach-
+    richt noch ein zweites Mal (z.B. durch N/U/Ä) durch das Sendefenster
+    lief, wurden die Nachrichten &quot;gesplittet&quot; (= zwei physikalische
+    Nachrichten erstellt).
+  - Beim Ändern des Empfängers mit &quot;m&quot; wurde eine erzwungene/gemeinsame
+    Serverbox zurückgesetzt.
+  - Bei der Bestätigung des Kopien-Dialogs wurde eine erzwungene
+    Serverbox zurückgesetzt.
+  - Es war möglich, eine Serverbox mit inkompatiblem Netztyp auszuwählen
+    (Mail an RFC-User und Fido-Box).
+  - Bei &quot;Mischbetrieb&quot; (Mail an User, Kopie an User und an Newsgroup)
+    wurden Mails manchmal gesplittet (speziell ZConnect).
+  - Bei N/W/R aus Unversandt-Brett wurde eine erzwungene Box nicht
+    beachtet.
+  Generell gilt jetzt: Nachrichten an RFC- und ZConnect-User, die über
+  dieselbe Serverbox versendet werden, werden immer &quot;zusammengehalten&quot;.
+  RFC und ZConnect werden durchgängig als kompatible Netztypen
+  behandelt. Sobald ein inkompatibler Netztyp in der Empfängerliste
+  vorkommt, werden alle Serverbox-Änderungen rückgängig gemacht und die
+  Nachricht wird über die Serverboxen versendet, die den jeweiligen
+  Empfängern zugewiesen sind. Ein manuelles Rücksetzen einer erzwungenen
+  Serverbox kann mittels &quot;o&quot; und anschließendem &lt;Esc&gt; in der Serverbox-
+  Auswahl erfolgen. Wenn eine Serverbox erzwungen wurde, wird dies jetzt
+  durch ein &quot;(*)&quot; hinter dem Boxnamen kenntlich gemacht. Wird eine Nach-
+  richt über mehrere Serverboxen versandt, wird der Boxname wie bisher
+  eingeklammert (bei leicht verbesserter Darstellung).
+  XP6.PAS, XP6O.PAS, XP6S.INC, XPCC.PAS, XP-D.RQ, XP-E.RQ,
+  XP.IHQ, XP-E.IHQ
+
+
+
+&#9632;  25./26.04.2002
+-----------------
+
+MY:
+- Fix: Bei N/W/R aus Unversandt-Brett wird eine geänderte Serverbox
+  jetzt auch bei Fido-Nachrichten korrekt berücksichtigt (Headerzeile
+  &quot;X-XP-BOX&quot; wird jetzt auch bei Fido-Nachrichten erzeugt).
+  XP6.PAS
+
+MY:
+- Fix MIME-Multipart-Versand: Beim Netztyp ZConnect wird jetzt der
+  Header &quot;U-MIME-Version 1.0&quot; erzeugt, damit von ZConnect nach RFC
+  gegatete Nachrichten als Multipart-Nachrichten erkannt werden.
+  XP3O2.PAS
+
+MY:
+- Fix: Bei Binärnachrichten (&quot;i&quot; auf User-Brett) MIME-Multipart-Versand
+  im Sendefenster deaktiviert.
+  XP6.PAS
+
+JG:
+- Fix: Beim Weiterleiten von MIME-Multipart-Nachrichten wurden Text-
+  Anhänge nach ISO-8859-1 konvertiert, aber mit dem ursprünglichen
+  Zeichensatz deklariert.
+  XP6M.INC
+
+JG:
+- Fix: Die Unterdrückung des Brettweiterschalters mit &lt;Ctrl-Esc&gt; bzw.
+  &lt;Shift-Esc&gt; funktionierte nicht im Lesemodus &quot;Alles&quot;. Nebeneffekt: &quot;B&quot;
+  in einem leeren Brett erzeugte eine Nachricht für das nachfolgende
+  Brett.
+  XP4W.INC
+
+MY:
+- Anzeige des mit &lt;Ctrl-W&gt; manipulierten Nachrichten-Weiterschalters
+  zur besseren Unterscheidung nochmals geändert: Großes &quot;W&quot; (= Weiter-
+  schalter aktiviert) wird in der Farbe für den Menütext, kleines &quot;w&quot;
+  (= Weiterschalter deaktiviert) wird in der Farbe für deaktivierten
+  Menütext dargestellt. Bei Bestätigung des Config-Menüs C/O/B wird die
+  Anzeige entfernt, da dann wieder die Menüoptionen aktiv sind.
+  XP2C.PAS, XP4W.INC
+
+
+
+&#9632;  27./28.04.2002
+-----------------
+
+MY:
+- Fix: Bei Message-IDs mit Kommentaren &quot;(added by ...)&quot; wurde nach dem
+  Entfernen des Kommentars die schließende spitze Klammer nicht
+  entfernt, weil die Message-ID mit einem Leerzeichen statt mit &quot;&gt;&quot;
+  endete.
+  UUZ.PAS
+
+MY+JG:
+- Fix: Ein Laufwerkswechsel auf Laufwerk [M:] mit &lt;Ctrl-M&gt; im Datei-
+  Auswahlfenster funktionierte nicht, weil XP dies als &lt;Enter&gt; inter-
+  pretierte und die entsprechende Aktion (Verzeichniswechsel, Datei
+  öffnen) ausführte. Ein &lt;Enter&gt; auf Laufwerk [M:] führte zu der
+  (falschen) Fehlermeldung &quot;Ungültiger Pfad-oder Dateiname!&quot;. Tonsignal
+  bei Auswahl eines nicht existierenden Laufwerks mit &lt;Ctrl&gt;-[LW]
+  eingebaut.
+  WIN2.PAS
+
+SV+MY:
+- Fix: Bei automatisch angelegten Usern/Brettern wird der Serverbox-Name
+  jetzt in der Schreibweise abgelegt, in der er in der Datenbank steht
+  (statt wie bisher in Großschreibung). Beim Editieren wird der Name im
+  Eingabefeld &quot;Server&quot; jetzt ebenfalls in der Datenbank-Schreibweise
+  dargestellt.
+  XP3O.INC, XP4E.PAS
+
+MY+JM:
+- Umfangreiche Änderungen/Ergänzungen/Korrekturen der Online-Hilfe zu
+  MIME-Multipart-Versand und der Auswahl einer anderen/gemeinsamen
+  Serverbox im Sendefenster.
+  XP.IHQ, XP-E.IHQ
+
+JG:
+- Erkennung von CD-ROM-Laufwerken im Datei-Auswahlfenster implementiert
+  (bisher wurden CD-ROM-Laufwerke als &quot;Netz-Laufwerke&quot; angezeigt).
+  DOSX.PAS
+
+MY:
+- Sämtliche Textausgaben des Datei-Auswahlfensters (&quot;zu viele Dateien&quot;,
+  &quot;Netz-Laufwerk&quot; usw.) vom Sourcecode in deutsche und englische
+  Ressource verlagert.
+  WIN2.PAS, XP-D.RQ, XP-E.RQ
+
+OG:
+- Semikolon zur Liste der für URLs zulässigen Zeichen hinzugefügt.
+  XP1O.PAS
+
+JG:
+- Vorbereitung für Euro-Unterstützung: Routine 'Specialchar' implemen-
+  tiert, die auch bei neueren Tastaturen zwischen &lt;Alt-E&gt; (Editor
+  starten) und &lt;AltGr-E&gt; (Euro-Zeichen) unterscheiden kann. Da beide
+  Tastenkombinationen denselben Scancode liefern, wurde bisher auch bei
+  &lt;AltGr-E&gt; der Editor gestartet. Bis zur endgültigen Fertigstellung der
+  Euro-Unterstützung liefert &lt;AltGr-E&gt; im Editor zu Testzwecken das
+  Zeichen #238 (&quot;&#949;&quot;).
+  INOUT.PAS
+
+MY:
+- Fix: Beim Versuch, eine beantwortete PM ohne Betreff abzusenden, wurde
+  der Editor auch dann aufgerufen, wenn die entsprechende Rückfrage mit
+  &quot;Nein&quot; beantwortet wurde (der Abbruch mit &lt;Esc&gt; funktionierte jedoch).
+  XP6.PAS
+
+MY:
+- Fix: Bei Verwendung des Schalters &quot;-UseEnvTo&quot; wird nicht mehr u.a. auf
+  &quot;U-Delivered-To&quot;, sondern auf &quot;Delivered-To&quot; geprüft (Delivered-To-
+  Unterstützung ist damit aber noch noch nicht komplett erledigt).
+  UUZ.PAS
+
+
+F.   Snapshot vom 31.08.2003, 01:30 Uhr
+---------------------------------------
+&#9632;  01.05.2002 + 29./30.08.2003
+------------------------------
+
+JG+MY+MW:
+- Fixes und Änderungen Dateiauswahl-Fenster:
+  Erkennung für Disketten-Laufwerke implementiert und Erkennung von
+  RAM-Disks optimiert. RAM-Disks, die von anderen Treibern wie z.B.
+  LOADHI.SYS geladen wurden, wurden bisher für Festplatten gehalten,
+  für Windows NT/2000/XP wurden spezifische Funktionen implementiert,
+  da die unter anderen Systemen verwendete Erkennungsmethode dort
+  unzulässig ist und daher auch nicht funktioniert.
+  Bei Festplatten, RAM-Disks, Subst- und Netz-Laufwerken wird jetzt in
+  Kurzform (&quot;300 MB&quot;) die freie Restkapazität angezeigt.
+  DOSX.PAS, CLIP.PAS, WIN2.PAS, XP_NTVDM.PAS, XP-D.RQ, XP-E.RQ
+
+
+
+&#9632;  06.-08.05.2002
+-----------------
+
+JG:
+- Fix: Bei MIME-Multipart-Nachrichten in ein Brett mit Einstellung
+  &quot;ASCII&quot; oder an einen User mit deaktiviertem Umlaut-Schalter fand
+  keine Zeichensatzkonvertierung IBM=&gt;ISO statt, weil XP fälschlicher-
+  weise davon ausging, daß die Nachricht aufgrund der Einstellung keine
+  Sonderzeichen enthalten könne. Da XP aber gleichzeitig versäumt hat,
+  8bit-Zeichen, die durch Quoten oder durch Einfügen des Clipboard-
+  Inhalts in den Nachrichtentext gelangen konnten, in ASCII-Zeichen zu
+  wandeln, konnte es passieren, daß eine MIME-Multipart-Nachricht mit
+  Sonderzeichen im IBM-Zeichensatz, aber mit ISO-Zeichensatzdeklaration
+  versandt wurde. Es erfolgt jetzt immer eine IBM=&gt;ISO-Konvertierung,
+  eine Konvertierroutine IBM=&gt;ASCII wird folgen.
+  XP6S.INC
+
+
+
+&#9632;  25.05.2002
+-------------
+
+MY:
+- Die Headerzeile &quot;X-XP-BOX&quot; wird bei den Netztypen ZConnect und Fido
+  jetzt nur noch in der Nachrichten-Datenbank (MPUFFER.*) erzeugt,
+  jedoch nicht mehr im Pollpaket (&lt;Box&gt;.PP). Damit ist speziell bei
+  ZConnect sichergestellt, daß der Header nicht mehr ins Netz gelangt
+  (bei Fido wurde er ohnehin durch ZFIDO.EXE entfernt).
+  XP6.PAS
+
+JG+MY:
+- Fix: Das Windows-Clipboard wird jetzt nach Benutzung immer geschlossen
+  (anderenfalls konnte es passieren, daß das Clipboard zwar noch in XP,
+  jedoch nicht mehr in Windows benutzt werden konnte).
+  CLIP.PAS
+
+MY:
+- Fix: Das interne Clipboard (Datei &quot;CLIP.TXT&quot;) funktioniert speziell im
+  Editor jetzt auch unter Linux Dosemu (dort stürzte XP bisher ab) und
+  unter Windows NT/2000/XP (dort wurde der Clipboard-Inhalt im Editor
+  bisher nicht eingefügt, sondern gelöscht). Ursache: XP überschrieb die
+  Datei &quot;CLIP.TXT&quot; mit sich selbst, das scheint nur unter DOS zu
+  funktionieren und war darüber hinaus unnötig.
+  CLIP.PAS, EDITOR.INC
+
+
+
+&#9632;  25. + 28.05.2002
+-------------------
+
+MY:
+- Fix: Die Funktion 'ClipAvailable' (Clipboard verfügbar?) liefert jetzt
+  wieder nur noch dann 'true' zurück, wenn wirklich ein Windows(NT)-
+  Clipboard verfügbar ist.
+  CLIP.PAS
+
+MY:
+- Statt im späteren Programmablauf immer wieder die Funktion
+  'ClipAvailable' aufzurufen, wird jetzt auf die ohnehin schon in
+  XP2CFG.INC gesetzte Variable 'Clipboard' geprüft (die das Ergebnis
+  von 'ClipAvailable' bereits berücksichtigt).
+  CLIP.PAS
+
+
+
+&#9632;  26.05.2002
+-------------
+
+JG:
+- Fix: Wildcardzeichen (&quot;?&quot;, &quot;*&quot;) sind bei Verzeichnisangaben keine
+  erlaubten Zeichen mehr. Im einzigen Fall, wo sie tatsächlich gestattet
+  sind (Eingangspakete und Ausgangsverzeichnis bei QWK), werden sie
+  jetzt explizit zugelassen.
+  XP0.PAS, XP9.INC
+
+
+
+&#9632;  28.05.2002
+-------------
+
+MY:
+- Fix: Einige IOResult/close()-Routinen sauberer gestaltet (Datei wird
+  nur geschlossen, wenn kein I/O-Fehler aufgetreten ist).
+  XP10.PAS, CLIP.PAS
+
+
+
+&#9632;  29./30.05.2002
+-----------------
+
+JG:
+- Beim einzeiligen Einfügen des Clipboard-Inhalts (z.B. in Eingabe-
+  felder) werden jetzt alle Steuerzeichen entfernt statt in Leerzeichen
+  umgewandelt zu werden.
+  CLIP.PAS
+
+JG:
+- 'function dup' in ASM-Fassung eingebaut.
+  TYPEFORM.PAS
+
+JG:
+- Fix: Das Verhindern des Weiterschaltens zum nächsten User beim
+  Verlassen eines User-Bretts mit &lt;Shift-Esc&gt; funktioniert jetzt.
+  XP4W.INC
+
+
+
+&#9632;  03.06.2002
+-------------
+
+MY:
+- Fix: Die Menüfunktion XPoint/Export/Brettinhalt rief stattdessen
+  Nachricht/Alle/Entfernen auf. :-(
+  XP4.INC
+
+
+
+&#9632;  08.06.2002
+-------------
+
+MY:
+- Fix: IOResult/close() in 'ReadServersDat' sauberer gestaltet.
+  XP9.INC
+
+
+
+&#9632;  03.07.2002
+-------------
+
+MY:
+- Fix: Viewer-Tempfiles im XP-TEMP-Verzeichnis werden jetzt wieder
+  korrekt gelöscht (dämlicher Bug).
+  XP.PAS
+
+
+
+&#9632;  09.07.2002-24.05.2003
+------------------------
+
+MY [+SV+JM+JG]:
+- &quot;Enhanced UUZ&quot; - komplett überarbeiteter und in wesentlichen Teilen
+   neugeschriebener ZConnect&lt;=&gt;RFC-Nachrichtenkonvertierer UUZ.
+   Detaillierte Dokumentation siehe gesonderte Datei UUZ_ENH.TXT.
+   UUZ.PAS, [+UUZ0.PAS], MIMEDEC.PAS, XP0.PAS, XPMAKEHD.INC, XPOVL.PAS
+
+MY+JG:
+- Zeichensatz-Behandlung und -Konvertierung komplett überarbeitet und
+  Vorbereitungen für Euro-Support getroffen:
+  ----------------------------------------------------------------------
+  1. Fix: Zeichensatz-Konvertiertabellen ISO&lt;=&gt;IBM für ein- und ausge-
+     hende Nachrichten komplett überarbeitet, Änderungen und Korrekturen
+     bei fast 50 (ISO=&gt;IBM) bzw. 20 (IBM=&gt;ISO) Zeichen vorgenommen
+     (siehe Tabellen in MIMEDEC.PAS):
+     a) Prinzipiell werden Zeichen, die im Zielzeichensatz nicht exi-
+        stieren, statt nach optischen Kriterien jetzt danach konver-
+        tiert, wie sie ausgesprochen werden bzw. welche Bedeutung ein
+        Symbol hat. So werden z.B. die Zeichen #222 und #254 in ISO1
+        (großer und kleiner Buchstabe &quot;Thorn&quot;) nicht mehr in ein &quot;P&quot;
+        bzw. &quot;p&quot; konvertiert, nur weil das mit viel Phantasie halbwegs
+        ähnlich aussieht, sondern in ein &quot;T&quot; bzw. &quot;t&quot;.
+     b) Unkonvertierbare Zeichen, für die es keine sinnvolle Translite-
+        ration im Zielzeichensatz gibt, werden jetzt in das Blockgrafik-
+        zeichen #177 (ISO=&gt;IBM) bzw. in einen Punkt (IBM=&gt;ISO) konver-
+        tiert, statt als Zeichenwert 1:1 durchgereicht zu werden. So muß
+        man bei eingehenden Nachrichten nicht mehr rätseln, ob es sich
+        bei dem Zeichen, das man sieht, wirklich um ein korrekt konver-
+        tiertes oder doch nur um ein nicht konvertierbares Zeichen
+        handelt, und bei ausgehenden Nachrichten werden durch den Punkt
+        (statt Leerzeichen) unsinnige Zeilenumbrüche vermieden.
+     c) Steuerzeichen im Bereich #0-#31 werden bei ausgehenden Nachrich-
+        ten (IBM=&gt;ISO) jetzt entweder ebenfalls in einen Punkt oder in
+        ein sinnvolles Ersetzungszeichen konvertiert, mit Ausnahme der
+        Zeichen #9 (HT), #10 (LF), #12 (FF) und #13 (CR), die unverän-
+        dert durchgereicht werden, sowie dem Zeichen #0, das in ein
+        Leerzeichen konvertiert wird. (Anmerkung: Es ist zu überlegen,
+        Steuerzeichen 1:1 durchzureichen, da sie im Unterschied zu
+        ZConnect bei RFC prinzipiell erlaubt sind.)
+  2. Unicode-Unterstützung (UTF-7 und UTF-8) für den von XP lokal ver-
+     wendeten Zeichensatz CP437 erweitert: Alle 75 Zeichen, die in
+     CP437, nicht aber in ISO-8859-1 existieren (z.B. Block- und Rahmen-
+     grafikzeichen), werden jetzt von UTF-7/8 direkt in das entsprechen-
+     de Zeichen aus CP437 korrekt konvertiert, statt wie bisher durch
+     ein Fragezeichen repräsentiert zu werden.
+  3. Unterstützung weiterer Zeichensätze implementiert:
+       ISO-8859-2  (osteuropäische Variante von ISO-8859-1)
+       ISO-8859-9  (türkische Variante von ISO-8859-1)
+       ISO-8859-15 (ISO-8859-1 mit Euro-Symbol und einigen anderen
+                    Abweichungen)
+       CP850       (DOS-Codepage 850)
+       CP858       (DOS-Codepage 850 mit Euro-Symbol)
+     Es werden alle bei der IANA registrierten Aliasnamen dieser
+     Zeichensätze unterstützt.
+  4. Einige IANA-Aliasnamen für die von XP unterstützten Zeichensätze
+     ergänzt und auf den neuesten Stand gebracht.
+  5. Fix: Nachrichten, die in einem ungültigen oder von XP nicht unter-
+     stützten Zeichensatz vorliegen (ISO-8859-5 Kyrillisch, ISO-8859-6
+     Arabisch o.a.), werden jetzt nicht mehr blind auf Basis der in
+     diesen Fällen unzutreffenden ISO1-Tabelle &quot;kaputtkonvertiert&quot;,
+     sondern im Originalzustand belassen. So können sie notfalls noch
+     manuell dechiffriert werden.
+  6. Beim Weiterleiten und Bearbeiten von MIME-Multipart-Nachrichten mit
+     Textpart-Anhängen wird jetzt nur noch der Zeichensatz ISO-8859-1
+     einer Konvertierung nach CP437 und von dort wieder nach ISO-8859-1
+     unterzogen (nicht jedoch mehr andere von XP bei eingehenden Nach-
+     richten unterstützte ISO- oder sonstige Zeichensätze). Dasselbe
+     gilt für die DOS-Codepage 850, die bisher fälschlicherweise mit
+     CP437 gleichgesetzt wurde.
+  7. Vorbereitungen für Euro-Support getroffen:
+     a) Bei eingehenden Nachrichten, die ein Euro-Symbol enthalten, wird
+        dieses von dem zeichensatzspezifischen Wert in das Zeichen &quot;&#949;&quot;
+        (#238 in CP437) konvertiert, statt wie bisher als Zeichenwert
+        1:1 durchgereicht zu werden (wodurch man je nach Zeichensatz ein
+        &quot;&#241;&quot;, &quot;&#199;&quot;, &quot;&#9554;&quot; oder &quot;x&quot; beim Lesen im Lister sah). Dabei werden
+        die folgenden Euro-fähigen Zeichensätze bzw. Codierungen unter-
+        stützt:
+          ISO-8859-15   (Euro-Symbol auf Pos. #164)
+          Windows-1252  (Euro-Symbol auf Pos. #128)
+          CP858         (Euro-Symbol auf Pos. #213)
+          UTF-7         (Unicode-Zeichen)
+          UTF-8         (Unicode-Zeichen)
+     b) Manche Mail-/Newsreader (speziell Outlook Express) deklarieren
+        mitunter gar keinen oder den Zeichensatz ISO-8859-1, verwenden
+        in Wirklichkeit aber den Zeichensatz Windows-1252 und daher den
+        Euro dort auch auf Pos. 128. Daher wird auch bei Nachrichten
+        ohne Zeichensatzdeklaration oder im Zeichensatz ISO-8859-1 das
+        dort eigentlich reservierte Zeichen #128 in das griechische
+        Epsilon konvertiert, obwohl dieses Vorgehen strenggenommen nicht
+        100%ig korrekt ist. XP hatte aber im Sinne der Fehlertoleranz
+        schon immer &quot;OjE-Fixes&quot; dieser Art, insofern ist dieses Vorgehen
+        nur konsequent.
+     Hinweis: Damit ist noch *keine* vollständige Unterstützung des
+     -------- Euro-Symbols und des Zeichensatzes ISO-8859-15 bei
+              *ausgehenden* Nachrichten implementiert - es wird daher
+              unbedingt empfohlen, wie bisher beim Quoten und Verfassen
+              von Nachrichten die Zeichenkette &quot;EUR&quot; zu verwenden.
+  MIMEDEC.PAS, XP6.PAS, XP6M.INC
+
+
+
+&#9632;  11.07.2002
+-------------
+
+MY:
+- Fix: Max. zulässige Betrefflänge auf 248 Zeichen (255-CRLF-&quot;BET: &quot;)
+  reduziert (bisher waren in XP 250 Zeichen zulässig, wurden aber
+  anschließend auf 248 Zeichen gekürzt).
+  XP0.PAS, MAGGI.PAS, PMCONV.PAS, [UUZ.PAS (Rewrite)]
+
+
+
+&#9632;  02.08.2002
+-------------
+
+JG:
+- Fix: Das einzeilige Einfügen des Clipboard-Inhalts in Eingabefelder
+  funktionierte bei Strings mit mehr als 223 Zeichen nicht und wurde mit
+  einem Tonsignal quittiert. Max. Einfügelänge ist jetzt identisch mit
+  max. Stringlänge (255 Zeichen).
+  CLIP.PAS
+
+JG:
+- Fix: Nach dem einzeiligen Einfügen des Clipboard-Inhalts in Eingabe-
+  felder konnte es vorkommen, daß das Clipboard danach für Windows
+  blockiert war. Clipboard wird jetzt auch hier immer geschlossen
+  (bisher passierte das nur, wenn XP der Meinung war, es auch selbst
+  geöffnet zu haben).
+  CLIP.PAS
+
+
+
+&#9632;  12.08.2002-17.03.2003 + 19.06. + 17.08.2003
+----------------------------------------------
+
+TS [+MY]:
+- Fido: Abfrage, Durchsuchen und Verwalten von Nodelisten
+        geändert/korrigiert/erweitert
+  ----------------------------------------------------------------------
+   1. Userindex NODEUSER.IDX &quot;entschlackt&quot;, Code kleiner und übersicht-
+      licher, dadurch Laufzeit auf langsamen Rechnern schneller.
+      Bisherige Komprimierung des Index aufgehoben, dadurch diverse
+      Probleme behoben und die Möglichkeit zusätzlicher Erweiterungen
+      geschaffen (s.u.).
+   2. Fix: Nodelisten-Abfrage mit &lt;Alt-N&gt; funktionierte bei Pointlisten
+      im FD-Format nicht immer (speziell nicht bei den Points des
+      jeweils ersten Nodes eines Netzes). Durch den geänderten Index ist
+      jetzt auch die neue Standard-Pointliste für R24 (R24PNT) mit
+      FreeXP vollständig und fehlerfrei nutzbar.
+   3. Fix: Es kam vor, daß manche Listen (z.B. die Zone21-Pointliste)
+      zwar eingebunden und indiziert wurden, bei einer Nodelist-Abfrage
+      mit &lt;Alt-N&gt; auf die in der Auswahlliste angezeigten Einträge aber
+      trotzdem nicht zugegriffen werden konnte (nach Auswahl mit &lt;Enter&gt;
+      war die Anzeige leer). Dies ist durch den Wegfall der Komprimie-
+      rung jetzt behoben.
+   4. Fix: Speziell bei manchen FD-Pointlisten (z.B. bei der Z2PNT.###)
+      kam es zu einem ähnlichen Effekt beim Durchsuchen der Nodeliste
+      mit F/N/D: Der entsprechende Datensatz wurde zwar gefunden, im
+      Nodelist-Browser konnten aber dessen Daten nicht angezeigt werden
+      (Einträge wurden nicht vollständig ausgewertet).
+   5. Fix: Beim Durchsuchen der Node-/Pointlisten mit F/N/D ist jetzt
+      sichergestellt, daß a) weder fehlende noch b) unzutreffende noch
+      c) doppelte Einträge in der Suchergebnisliste auftreten können.
+      Z.B. wurden u.U. Einträge gefunden, die gar nicht den Suchkri-
+      terien entsprachen, und diese im Suchergebnis dann mit falschem
+      Sysop-Namen angezeigt; kam eine AKA in mehreren Listen vor (z.B.
+      POINTS24 und R24PNT), wurde nach dem Zufallsprinzip nur der Ein-
+      trag aus einer der Listen (der aber dafür mehrfach) angezeigt.
+   6. In allen Suchergebnis-/Auswahllisten steht jetzt hinter dem sicht-
+      baren Eintrag der Dateiname sowie die interne Nummer der Liste,
+      aus der der jeweilige Eintrag stammt (sichtbar zu machen durch
+      Scrollen mit &lt;Cursor-rechts&gt;). Damit ist bei mehreren Einträgen
+      mit identischer AKA, die aus unterschiedlichen Listen stammen, die
+      Herkunft des Eintrags erkennbar. Außerdem werden diese Daten für
+      die weitere interne Verarbeitung benötigt:
+   7. Fix: Bei der Auswahl eines Eintrags aus der jeweiligen Auswahl-
+      liste mit &lt;Enter&gt; ist jetzt bei mehreren Einträgen mit identischer
+      AKA sichergestellt, daß auch wirklich auf die Daten des ausgewähl-
+      ten Eintrags in der zugehörigen Node-/Pointliste zugegriffen wird.
+      Bisher wurden die Daten unabhängig vom ausgewählten Eintrag immer
+      derselben (zufälligen) Liste entnommen, und an die Daten der
+      Einträge aus den übrigen Listen kam man gar nicht heran. Speziell
+      bei Einträgen aus Listen FTN-kompatibler Netze wurde stellenweise
+      auf die Daten eines beliebigen Eintrags in der Fido-Nodeliste
+      zugegriffen.
+   8. Fix: Bei Listen im Points24-Format werden &quot;Region&quot;-Einträge
+      (i.d.R. sind das PLK-Einträge) beim Durchsuchen mit F/N/D igno-
+      riert (Verhalten damit jetzt identisch mit der Nodelisten-Abfrage
+      bei &lt;Alt-N&gt; bzw. F/N/A).
+   9. Listen in einem Points24-kompatiblen Format werden jetzt nicht
+      mehr nur am Dateinamen &quot;POINTS24.###&quot;, sondern auch am Format
+      selbst erkannt. Dadurch wird beim Einbinden solcher Listen (z.B.
+      Zone21-Liste) das korrekte Listenformat &quot;Points24&quot; (bisher:
+      &quot;Nodeliste&quot;) vorgeschlagen.
+  10. Wegen der Änderungen am Nodelisten-Index wird dieser jetzt beim
+      XP-Start neu angelegt, wenn FreeXP feststellt, daß die XPOINT.CFG
+      noch nicht von FreeXP geschrieben wurde. Gleichzeitig wird dabei
+      auch das Neuschreiben der XPOINT.CFG erzwungen.
+  11. Interne Änderung: Neuer Schalter &quot;FIDOTST&quot; in XPDEFINE.INC, mit
+      dem der Nodelisten-Index in Textform ausgegeben werden kann.
+  XP0.PAS, XP2CFG.INC, XPDEFINE.INC, XPFIDO.PAS, XPF1.INC, XPFIDONL.PAS,
+  XPNODES.PAS
+
+
+
+&#9632;  28.08.2002
+-------------
+
+JG:
+- Fix: Wenn unter C/X/Editor kein externer Editor eingetragen und
+  gleichzeitig im Feld &quot;externen Editor verwenden für&quot; die Einstellung
+  &quot;alle Texte&quot; aktiv war, dann funktionierte im internen Editor das
+  Ändern des Betreffs einer Nachricht mit &lt;Alt-B&gt; nicht.
+  XP6.PAS
+
+
+
+&#9632;  08.09.2002
+-------------
+
+AB [+MY]:
+- Spezial-Suche kann jetzt auch nach dem Empfangsdatum von Nachrichten
+  suchen.
+  XP4O.PAS, XP-D.RQ, XP-E.RQ, XP.IHQ, XP-E.IHQ
+
+
+
+&#9632;  06.10.2002
+-------------
+
+JG:
+- Fix: Beim Versuch, eine Datei als MIME-Attach an eine RFC/ZC-Nachricht
+  anzuhängen, die von einem anderen Programm bereits im Schreib-/Lese-
+  modus geöffnet worden war, hing XP fest. Es wird jetzt die Meldung
+  &quot;Fehler beim Dateizugriff&quot; ausgegeben und die Routine abgebrochen.
+  XP6M.INC
+
+
+
+&#9632;  09.10.2002
+-------------
+
+JG:
+- Fix: Bei erstmaliger Benutzung des User-Anlegedialogs nach Programm-
+  start stürzte XP mit einem RTE ab, wenn sich der Cursor noch im Feld
+  &quot;Server&quot; befand und mit der Maus der Pfeil rechts neben &quot;Adresse&quot;
+  angeklickt wurde. Nach Verlassen der anschließend erscheinenden
+  Userliste mit &lt;Esc&gt; oder &lt;Enter&gt; führte jede weitere Taste zum Absturz
+  (Variable 'adp^' war nicht initialisiert).
+  XP4E.PAS
+
+
+
+&#9632;  22.10.2002 + 30.08.2003
+--------------------------
+
+TS [+MY]:
+- Auswertung von TIC-Files (Fido) komplett überarbeitet und erweitert:
+  ----------------------------------------------------------------------
+  1. Es werden jetzt *alle* Dateien als TIC-Files betrachtet, die die
+     Dateiendung &quot;.TIC&quot; haben (bisher mußten sie zusätzlich noch mit
+     den Buchstaben &quot;TK&quot; beginnen, ansonsten wurden sie nicht verarbei-
+     tet).
+  2. Die wesentlichen im TIC-File enthaltenen Felder (Area, Origin,
+     File, Desc, LDesc, Date) werden jetzt nicht mehr in zweckentfrem-
+     dete Headerzeilen (&quot;Zusammenfassung:&quot;, &quot;Stichworte:&quot;, &quot;F-TO:&quot;)
+     gequetscht und dabei zum Teil vernichtet, sondern es wird ein
+     Nachrichtentext (Body) erzeugt, wo sie in ausführlicherer und
+     vollständigerer Form abgelegt werden und auch leichter weiterver-
+     arbeitet werden können.
+     Dadurch werden jetzt auch die Felder &quot;LDesc&quot; (Long Description) und
+     &quot;Date&quot; berücksichtigt, die bisher gänzlich ignoriert wurden.
+  3. Ein im TIC-File enthaltenes Unix-Datum im &quot;Date&quot;-Feld wird dabei in
+     ein menschlich lesbares Format aufbereitet
+     (&quot;Date 1057096378&quot; =&gt; &quot;Date 01.07.03 21:52&quot;).
+  4. Da keine Fido-Empfänger-Headerzeile (&quot;F-TO:&quot;) mit unzutreffendem
+     Inhalt mehr erzeugt wird, (sie war bisher ein Duplikat der Header-
+     zeile &quot;Zusammenfassung:&quot;, die wiederum den Inhalt des Feldes &quot;Desc&quot;
+     enthielt), werden in der Nachrichtenübersicht und im Listerkopf
+     auch keine sonderbaren &quot;Realnames&quot; mehr angezeigt, zumal der Inhalt
+     von XP sowieso i.d.R. gekürzt wurde und damit relativ wertlos war.
+  5. TIC-Files in gepackten Archiven, die nicht erfolgreich verarbeitet
+     werden konnten, werden jetzt vom TICK- ins FILES-Verzeichnis von XP
+     verschoben und nicht gelöscht (statt wie bisher sowohl das Archiv
+     als auch die TIC-Files im TICK-Verzeichnis zu löschen). Damit
+     werden gepackte und ungepackte TIC-Files jetzt identisch behandelt.
+  XPF2.PAS
+
+
+
+&#9632;  08.-12.01.2003
+-----------------
+
+MW:
+- Großes Gebühren-Update:
+  ----------------------------------------------------------------------
+  1. Es können jetzt auch Bruchteile von 1/100 Währungseinheiten
+     sowie ein zusätzliches festes Verbindungsentgelt eingegeben und bei
+     der Berechnung berücksichtigt werden.
+  2. Neues Gebührenmodell: Bei aktivem Schalter unter Config/Optionen/
+                           Gebühren/Sonstiges werden Geldbeträge als
+                           rechnerische Minutenpreise gewertet und nicht
+                           mehr als Preis einer Tarifeinheit. Bei
+                           inaktivem Schalter gelten Geldbeträge
+                           weiterhin als Preis einer Tarifeinheit.
+     Neuinstallierte Versionen verwenden dieses neue Gebührenmodell als
+     Voreinstellung. Bestehende Installationen verwenden weiterhin das
+     alte Modell.
+  3. Neue Default-Währung fuer die Gebührenberechnung ist nun EUR.
+  4. Neue Tarife: Die Default-Tariftabelle enthält nun alle aktuellen
+     nationalen Privatkunden-Tarife der DTAG für Festnetz zu Festnetz
+     sowie den Tarif &quot;Normaltarif&quot; von 3U.
+     Default-Tarif in der Boxen-Konfiguration ist jetzt &quot;DTAG T-NET City&quot;.
+  5. Wenn die Default-Tariftabelle geschrieben wird, wird dabei das
+     verwendete Gebührenmodell berücksichtigt.
+  6. XPOINT.LOG enthält jetzt alle Kostenangaben mit 4 Nachkommastellen.
+  7. Die Gebührenstatistik unter X/S/E zeigt in der Tabelle und im
+     Balkendiagramm jetzt auch die verwendete Währung an.
+  XP0.PAS, XP2C.PAS, XP2CFG.INC, XP7O.PAS, XP9BP.PAS, XP10.PAS, XP10P.INC,
+  XPSTAT.PAS, XP-D.RQ, XP-E.RQ, XP.IHQ, XP-E.IHQ
+
+
+
+&#9632;  10.01.-18.04.2003
+--------------------
+
+MW [+JM]:
+- Anlegen des Overlay-Cache (XP.OVR) im EMS/XMS optimiert/erweitert:
+  ----------------------------------------------------------------------
+  1. Der Overlay-Cache wird jetzt automatisch im XMS angelegt, wenn
+     kein EMS vorhanden ist (bisher konnte ohne EMS überhaupt kein
+     Overlay-Cache eingerichtet werden). In der Entwicklungsphase unter
+     Novell-DOS 7.0 aufgetretene Probleme mit dieser Funktion sind
+     behoben (danke an JM).
+     Relevant bei Systemen, die kein EMS bereitstellen (können), oder
+     bei denen das nicht gewollt ist, um z.B. durch die Einsparung des
+     EMS-Seitenrahmens von 64KB mehr Platz in den UMBs für das Hochladen
+     von Treibern und TSRs zur Verfügung zu haben.
+  2. Der Overlay-Cache wird jetzt nur noch dann im EMS/XMS angelegt,
+     wenn ein definiertes Minimum an EMS/XMS zur Verfügung steht
+     (Dateigröße der XP.OVR plus der zum Auslagern von XP ins EMS/XMS
+     erforderliche Speicher plus 700 KB). Sinn dieser Maßnahme ist,
+     a) dem Lister nicht sämtlichen zusätzlichen Speicher zu entziehen,
+     wenn dieser zufällig genau so groß ist, daß der Overlay-Cache
+     gerade noch so eben dort hineinpaßt, und b) auf jeden Fall
+     sicherzustellen, daß XP beim Aufruf externer Programme noch ins
+     EMS/XMS ausgelagert werden kann.
+     Ist dieses Minimum an EMS/XMS nicht vorhanden, erfolgt der Zugriff
+     auf das Overlay über die Festplatte (die Ausführungsgeschwindigkeit
+     von XP kann sich in Abhängigkeit von der verwendeten Hardware
+     dadurch verringern).
+  3. Mit dem neuen Kommandozeilenschalter &quot;/noovrbuf&quot; kann das Anlegen
+     des Overlay-Cache im EMS/XMS unabhängig vom verfügbaren Speicher
+     (z.B. um diesen dem Lister zugute kommen zu lassen) ganz unter-
+     bunden und so der Overlay-Zugriff über die Festplatte erzwungen
+     werden.
+  4. Wenn der Overlay-Cache im EMS/XMS angelegt wurde, erhält die
+     Versionsbezeichnung b.a.w. den Zusatz &quot;(EMS)&quot; bzw. &quot;(XMS)&quot;. Dies
+     dient einem gezielteren Support, wenn über Probleme mit mangelndem
+     Speicher im Lister, einer verlangsamten Ausführung von XP o.ä.
+     berichtet werden sollte.
+  5. Die Speicherstatistik unter X/S/S zeigt jetzt auch den durch das
+     Anlegen des Overlay-Caches im XMS belegten Speicher an (bisher
+     festverdrahtet &quot;0&quot;).
+  XP0.PAS, XP2.PAS, XP3EX.PAS, XP5.PAS, XP6.PAS, XP6S.INC, XPDEFINE.INC,
+  XPREG.PAS, XPX.PAS, OVERXMS.ASM, FILEIO.PAS, XP-D.RQ, XP-E.RQ,
+  XP.IHQ, XP-E.IHQ
+
+
+
+&#9632;  14.01. + 08.07.2003
+----------------------
+
+MW:
+- Interne Änderung: Blockgröße der Ressourcen von 128 auf 256 Bytes
+  vergrößert und unsauberes Beenden beim XP-Start mit alten Ressourcen
+  abgefangen.
+  RESOURCE.PAS
+
+
+
+&#9632;  28.02.-17.03.2003 + 24.06.2003
+---------------------------------
+
+MY:
+- Fido: Grundlegendes Redesign der Nodelist-Abfrage mit &lt;Alt-N&gt; bzw.
+        F/N/A und des Durchsuchens mit F/N/D (&quot;Nodelist-Browser&quot;)
+  ----------------------------------------------------------------------
+   1. Die Nodelist-Abfrage mit &lt;Alt-N&gt; bzw. F/N/A verwendet zur Ausgabe
+      jetzt den &quot;Nodelist-Browser&quot;, der bisher nur von der Durchsuchen-
+      Funktion bei F/N/D verwendet wurde. Dadurch werden bei mehreren
+      gefundenen Einträgen alle zugehörigen Detailinformationen jetzt
+      direkt beim Scrollen unterhalb der Auswahlliste angezeigt, ohne
+      für jeden der Einträge eine erneute Abfrage starten zu müssen. Des
+      weiteren stehen damit jetzt auch bei der Nodelist-Abfrage die
+      Zusatzfunktionen &quot;Nachricht&quot; und &quot;Request&quot; sowie die übrigen
+      Tasten für Markiersuche (&quot;s&quot;), Schreiben in Datei oder Clipboard
+      (&quot;w&quot;) und Drucken (&lt;Ctrl-D&gt;) zur Verfügung. Die bisherige
+      gesonderte Ausgabe für die Nodelist-Abfrage machte noch nie
+      wirklich Sinn, da sie weniger funktional war, aber auch nicht mehr
+      Information enthielt.
+   2. Als unmittelbare Folge davon entfällt der jetzt überflüssige
+      Button &quot;Info&quot;, wenn ein User im Nodelist-Browser mit &lt;Enter&gt;
+      ausgewählt wird.
+   3. Die bisherige Form der Ausgabe des Suchergebnisses einer Nodelist-
+      Abfrage bei mehreren gefundenen Einträgen (Liste, aus der ein
+      Eintrag mit &lt;Enter&gt; ausgewählt werden muß) wird jedoch weiterhin
+      verwendet bei Fido/Request, Nachricht/Direkt und beim Anlegen
+      eines Users. Unterhalb der Auswahlliste werden jetzt auch hier der
+      Status des Users und der Name der Node-/Pointliste angezeigt, aus
+      der der aktive Eintrag stammt.
+   4. Aus dem Nodelist-Browser heraus kann jetzt direkt per Hotkey &quot;A&quot;
+      oder &quot;D&quot; unmittelbar eine neue Abfrage bzw. ein neues Durchsuchen
+      der Node-/Pointlisten gestartet werden - unabhängig davon, welche
+      Art der Suche vorher durchgeführt wurde (daher kein Abbruch und
+      Neustart der Routine für neue Suche mehr notwendig, sondern
+      direkter Wechsel zwischen den verschiedenen Arten der Suche
+      möglich). Wird der auf den Hotkey folgende Dialog mit &lt;Esc&gt;
+      abgebrochen, bleibt das vorherige Suchergebnis in der Anzeige
+      erhalten. Der Nodelist-Browser fungiert somit als &quot;Shell&quot; für alle
+      Formen der Abfrage/Suche in Node- und Pointlisten, sobald und
+      solange er auf dem Bildschirm ist.
+   5. Das Durchsuchen der Node-/Pointlisten mit F/N/D ist jetzt (fast)
+      überall in XP auch mit dem globalen Hotkey &lt;AltGr-N&gt; erreichbar
+      (z.B. aus dem Lister oder Editor heraus).
+   6. Im Eingabedialog für das Durchsuchen von Node-/Pointlisten wird
+      jetzt - wie auch seit jeher bei der Nodelist-Abfrage - rechts oben
+      die Day-Number der Haupt-Nodeliste angezeigt.
+   7. Wird aus dem Nodelist-Browser heraus eine Nachricht oder ein File-
+      Request erzeugt, wird bis zur Beendigung der Aktion der rekursive
+      Aufruf des Nodelist-Browsers (z.B. aus dem Editor) mit &lt;Alt-N&gt;
+      oder &lt;AltGr-N&gt; verhindert.
+   8. Eine erfolglose Suche führt nicht zu einer Fehlermeldung mit
+      anschließendem Abbruch der Routine, sondern es wird der Nodelist-
+      Browser mit einem entsprechenden Hinweis angezeigt. Dort kann dann
+      unmittelbar mit &quot;A&quot; eine neue Nodelist-Abfrage oder mit &quot;D&quot; ein
+      neues Durchsuchen ausgelöst (oder die gesamte Routine mit &lt;Esc&gt;
+      abgebrochen) werden.
+   9. Box- bzw. Pointname sowie der Standort werden jetzt unterhalb der
+      Auswahlliste nochmals in voller Länge angezeigt (im Suchergebnis
+      werden sie auf zusammen 35 Zeichen gekürzt dargestellt).
+  10. Die Flags werden jetzt vollständig (in 3 Zeilen á 63 Zeichen)
+      angezeigt.
+  11. Eine eMail-Adresse wird nicht mehr aus den Flags herausoperiert
+      und gesondert angezeigt, weil a) die Flags auch mehrere eMail-
+      Adressen enthalten können (und es deshalb willkürlich ist, wie
+      bisher einfach die erste zu nehmen), b) es sich nicht um
+      &quot;anschreibbare&quot; Adressen handelt, und c) aufgrund der vollstän-
+      digen Anzeige der Flags (s.o.) jetzt ohnehin *alle* Adressen
+      angezeigt werden.
+  12. Wenn ein Durchsuchen der Node-/Pointlisten gestartet und mitten im
+      Suchlauf durch &lt;Esc&gt; abgebrochen wird, ohne daß bereits ein
+      Eintrag gefunden werden konnte, bricht XP die Routine nicht mehr
+      komplett ab, sondern baut den Eingabedialog mit den aktuell
+      eingegebenen Daten neu auf. Wird dann auch der Eingabedialog
+      abgebrochen und handelt es sich nicht um den ersten Suchlauf,
+      werden die beim vorherigen Suchlauf benutzten Daten restauriert
+      (weil sich diese noch in der Anzeige des Nodelist-Browsers
+      befinden), und XP kehrt in den Nodelist-Browser zurück. Waren zum
+      Zeitpunkt des Suchlauf-Abbruchs mit &lt;Esc&gt; jedoch bereits Einträge
+      gefunden worden, dann wird der Nodelist-Browser mit den bis dahin
+      gefundenen Einträgen neu aufgebaut.
+  13. Der zuletzt benutzte Suchbegriff der Nodelist-Abfrage mit &lt;Alt-N&gt;
+      bzw. F/N/A bleibt für die Dauer der XP-Session jetzt erhalten und
+      wird bei der nächsten Abfrage wieder vorgeschlagen.
+  14. Fix: Wenn aus dem Nodelist-Browser heraus eine neue Suche gestar-
+      tet oder ein Eintrag mit &lt;Enter&gt; ausgewählt, der nachfolgende
+      Dialog aber mit &lt;Esc&gt; abgebrochen wird, dann ist danach jetzt
+      weiterhin der Eintrag in der Auswahlliste aktiv, der auch vor dem
+      Ausführen der Aktion aktiv war. Bisher wurde der Cursorbalken
+      immer auf den ersten Eintrag zurückgesetzt (unnötiger Neustart des
+      Listers beseitigt).
+  15. Da die Funktion, einen User im Nodelist-Browser mit &lt;Enter&gt; aus-
+      wählen und an diesen eine Mail oder einen Request erzeugen zu
+      können, jetzt auch in Situationen erreichbar ist, in denen sie
+      bisher nicht erreichbar war (weil sie nur über das Menü F/N/D und
+      nicht über den globalen Hotkey &lt;AltGr-N&gt; aufgerufen werden
+      konnte), ist sie in bestimmten Situationen, in denen sie Probleme
+      verursachen könnte, aus Sicherheitsgründen deaktiviert (z.B. beim
+      Editieren oder Weiterleiten einer Nachricht, beim Netcall u.ä.).
+  16. Fix: Eine Nodelist-Abfrage mit &lt;Alt-N&gt; bzw. F/N/A nach Fido-AKA
+      gibt als Suchergebnis jetzt *alle* gefundenen Einträge in *allen*
+      Listen zurück (z.B. bei mehreren Pointlisten wie POINTS24 und
+      R24PNT, die überwiegend identische AKAs enthalten). Bisher wurde
+      nur der Eintrag angezeigt, der zufällig als erster im Index
+      vorkam.
+  17. Fix: Wenn auf einer Fido-Nachricht eines Points mit &lt;Alt-N&gt; eine
+      Nodelist-Abfrage ausgelöst wurde, dann wurde nicht der Eintrag
+      bzw. die Einträge des Points aus der oder den Pointliste(n),
+      sondern nur der des Bossnodes aus der Nodeliste angezeigt (es ist
+      nicht ganz klar, ob das ein Bug oder Absicht war). Es werden jetzt
+      *alle* zur jeweiligen AKA gehörenden Einträge des Bossnodes *und*
+      des Points aus *allen* eingebundenen Listen angezeigt.
+  18. Fix: Beim Durchsuchen der Nodelisten mit F/N/D bzw. &lt;AltGr-N&gt; wird
+      bei &quot;Zone&quot;-Einträgen jetzt die richtige Nodenummer &quot;0&quot; verwendet
+      (bisher wurde als Nodenummer die Zonennummer eingesetzt, so daß
+      z.B. für den ZC2 die falsche Nodenummer &quot;2:2/2&quot; statt &quot;2:2/0&quot; an-
+      gezeigt wurde und daher weder die Detailanzeige noch nachfolgende
+      Aktionen mit diesem Eintrag funktionieren konnten).
+  19. Fix: &quot;Zone&quot;-Einträge in Points24-kompatiblen Listen werden beim
+      Durchsuchen mit F/N/D bzw. &lt;AltGr-N&gt; ignoriert (Verhalten damit
+      jetzt identisch mit der Nodelisten-Abfrage bei &lt;Alt-N&gt; bzw.
+      F/N/A).
+  20. Anzeige-Fix: Der Pfeil nach unten, der anzeigt, daß in der Liste
+      noch weitere Einträge folgen, wurde eine Zeile zu tief ausgegeben.
+  21. Fix: Tasten und Tastenkombinationen, die durch zwischenzeitliche
+      Erweiterungen Im Nachrichten-Lister plötzlich auch im Nodelist-
+      Browser eine (unerwünschte) Wirkung hatten, sind jetzt deaktiviert
+      (z.B. brach &lt;Ctrl-W&gt; den Nodelist-Browser ab). Es haben nur noch
+      die Tasten eine Wirkung, die auch in der Hilfe zum Nodelist-
+      Browser dokumentiert sind.
+  22. Anzeige-Fix: Farbe für Fundstellen bei der Markiersuche mit &quot;s&quot;
+      sinnvoll initialisiert (invertierte Farben des Cursorbalkens,
+      bisher: schwarze Schrift auf schwarzem Grund, grmpf).
+  23. Fix: Wenn sich eine Fundstelle nach einer Markiersuche im letzten
+      Eintrag des Nodelist-Browsers befand, dann war diese zwar farblich
+      gekennzeichnet, konnte aber nicht mit &lt;Tab&gt; angesprungen werden
+      (XP hatte nicht berücksichtigt, daß der Lister bei dieser Form der
+      Darstellung keine Statuszeile hat). Dieser Fix wirkt sich auf alle
+      Stellen aus, bei denen der Lister zur Darstellung einer Auswahl-
+      liste verwendet wird und eine Markiersuche möglich ist (danke auch
+      an JG).
+  24. Default-AKA auf 2:2433/460 (statt 2:248/2004) geändert.
+  XP0.PAS, XP1.PAS, XP2CFG.INC, XP4.INC, XP4.PAS, XP4E.PAS, XP6.PAS,
+  XPFIDO.PAS, XPF1.INC, INOUT.PAS, LISTER.PAS, XP-D.RQ, XP-E.RQ,
+  XP.IHQ, XP-E.IHQ
+
+MY:
+- Unterstützung der R24PNT-Liste verbessert: Beim Einbinden werden alle
+  Daten (Listenformat, Update-Datei, Update-Archiv) jetzt automatisch
+  korrekt eingetragen.
+  XPFIDONL.PAS
+
+MY:
+- Fix: Wenn insgesamt 20 x innerhalb einer XP-Session erfolgreich nach
+  einer Message-ID gesucht wurde, führte dies zu einem &quot;WPUSH error&quot; und
+  damit einer fehlerhaften Darstellung von Menüs und Fenstern
+  ('closebox' fehlte). Dafür wurde bei anderen Suchen, die gar kein
+  Suchergebnis lieferten, unnötig oft versucht, eine (nicht mehr
+  existierende) Dialogbox zu schließen. Es wird jetzt bei allen Suchen
+  nur noch genau einmal die Dialogbox ganz am Ende der Routine
+  geschlossen.
+  XP4O.PAS
+
+
+
+&#9632;  01.03.2003
+-------------
+
+CL:
+- Fix: Der Fehler in der XP_NTVDM.DLL, deren Existenz im XP-Verzeichnis
+  immer noch ein Einfrieren des XP-Tasks unter Windows NT/2000/XP
+  verursachen konnte, ist jetzt unwiderruflich und endgültig behoben.
+  :-)  Die Datei ermöglicht den direkten Zugriff auf das Clipboard von
+  Windows NT/2000/XP und ist für die korrekte Versionserkennung dieser
+  Betriebssysteme zuständig. Man kann jetzt nach Herzenslust das
+  Clipboard benutzen oder andere Dinge tun, FreeXP wird trotz
+  vorhandener XP_NTVDM.DLL nicht mehr einfrieren und/oder das System
+  destabilisieren.
+  XP_NTVDM.PAS
+
+
+
+&#9632;  02.04.2003
+-------------
+
+MY:
+- Fix: Dateidatum und -uhrzeit von NEUES.DAT werden jetzt beim Programm-
+  start immer auf den aktuellen Wert gesetzt (Datum und Uhrzeit *in*
+  NEUES.DAT bleiben unverändert!). Grund: Wenn die Meldung &quot;Seit dem
+  letzten Programmstart sind mehr als 14 Tage vergangen&quot; erschien und XP
+  beendet wurde, ohne daß in dieser Session das Einlesen eines Puffers
+  stattgefunden hatte, dann erschien die Meldung beim nächsten Programm-
+  start wieder, auch wenn der letzte XP-Start u.U. nur wenige Minuten
+  zurücklag.
+  XP2B.PAS
+
+
+
+&#9632;  08.04.2003
+-------------
+
+MY:
+- Unversandt-Routine ('ClearUnversandt') optimiert:
+  ----------------------------------------------------------------------
+  1. Beim Netztyp RFC/Client findet im Falle von unversandten Mails mit
+     Kopienempfängern und Crosspostings die Prüfung darauf, ob beim
+     aktuellen Durchlauf der Routine die Nachricht aus der Messagebase
+     in den neuen Pollpuffer extrahiert werden muß, nicht mehr mittels
+     Schreiben/Lesen von Message-IDs in/aus der Textdatei &quot;UNSENT.ID2&quot;
+     statt, sondern wird anhand einer als Parameter übergebenen
+     Variablen vorgenommen. Das bisherige Vorgehen wäre ausschließlich
+     bei Mails mit Kopienempfängern sinnvoll gewesen, die vom UUZ nicht
+     als SMTP-Mails (= eine physikalische Mail für alle Empfänger)
+     erzeugt wurden, sondern bei denen für jeden Empfänger eine eigene
+     physikalische Mail mit jeweils identischer Message-ID generiert
+     wird. Solche Mails können beim Netztyp RFC/Client aber gar nicht
+     entstehen, da der UUZ dort *immer* mit dem Parameter &quot;-SMTP&quot;
+     aufgerufen wird (bzw. im &quot;Enhanced UUZ&quot; gar nicht mehr benötigt
+     wird).
+  2. Bei Mails mit Kopienempfängern und Crosspostings vom Netztyp
+     RFC/Client wird jetzt nur noch beim Durchlauf für den ersten
+     Empfänger in der Textdatei &quot;UNSENT.ID&quot; nach der Message-ID gesucht
+     und das Ergebnis (Nachricht ist versandt bzw. unversandt) in einer
+     Variablen abgelegt. Bei den anschließenden Durchläufen für die
+     Kopienempfänger wird auf diese Variable zurückgegriffen statt
+     jedesmal erneut die Datei zu öffnen und auszulesen.
+  3. Die Fehlermeldung &quot;Interner Fehler: Brett mit unvers. Nachr. nicht
+     mehr vorhanden&quot; würde jetzt beim ersten Brett eines Crosspostings
+     ausgegeben werden, wenn es nicht existiert (das erste Brett *muß*
+     immer existieren, Crossposting-Bretter jedoch nicht unbedingt).
+     Bisher wurde die Meldung bei Crosspostings generell verhindert.
+  Es handelt sich speziell bei den ersten beiden Änderungen *nicht* um
+  Bugfixes - die Routine arbeitet jetzt lediglich in solchen Fällen
+  erheblich sinnvoller und performanter. Nur im Falle von Dateizugriffs-
+  problemen auf dem System des Users wäre ein Sicherheitsgewinn durch
+  die geänderte Routine hypothetisch möglich.
+  XP7O.PAS
+
+
+
+&#9632;  14.04.-05.05.2003
+--------------------
+
+JM [+JG]:
+- Fix: XMS-Speicheranforderungen unter Windows 9x/Me und Windows NT/2000
+       repariert
+  ----------------------------------------------------------------------
+  1. Workaround für Windows-Bug #1: Der max. verfügbare XMS-Speicher
+     (Extended Memory) wird jetzt auch unter Windows 9x/Me bis zu 64
+     Megabyte korrekt ermittelt und unterstützt (bisher standen in der
+     DOS-Box aufgrund eines von Windows 9x/Me falsch zurückgegebenen
+     Wertes nur 2 Megabyte XMS zur Verfügung). Damit ist der Zugriff auf
+     Expansionsspeicher (EMS) unter Windows 9x/Me nicht mehr unbedingt
+     erforderlich (aber weiterhin ratsam); des weiteren kann das
+     &quot;gewonnene&quot; XMS dem Lister zugute kommen (s.u.).
+  2. Workaround für Windows-Bug #2: Unter Windows NT/2000 (nicht aber
+     unter Windows XP!) stürzte die NTVDM (die &quot;DOS-Box&quot;), in der XP
+     lief, ab, wenn der User in den XMS-Speichereigenschaften der PIF-
+     Datei einen numerischen Wert größer 15360 KB (statt &quot;Automatisch&quot;)
+     eingetragen hatte. Windows NT/2000 meldete dann mitunter Mondwerte
+     als größten frei verfügbaren XMS-Block und verabschiedete sich,
+     wenn dieser Speicher angefordert wurde. XP blendet den kritischen
+     Bereich jetzt aus und vermeidet so den Absturz; gleichwohl wird
+     empfohlen, in den XMS-Speichereigenschaften die Einstellung
+     &quot;Automatisch&quot; zu verwenden.
+     Im Unterschied zu Windows 9x/Me ist die Menge des max. verfügbaren
+     XMS-Speichers für DOS-Programme unter Windows NT/2000/XP generell
+     auf 16 Megabyte limitiert.
+  Die Menge des tatsächlich nutzbaren XMS-Speichers wird jetzt prinzi-
+  piell empirisch ermittelt, statt den mitunter fehlerhaften Angaben
+  sowohl von Windows 9x/Me als auch von Windows NT/2000/XP Glauben zu
+  schenken.
+  XMS.ASM
+
+
+
+&#9632;  18.04.2003
+-------------
+
+JG [+MY]:
+- Lister kann jetzt Dateien/Nachrichten bis 64 Megabyte anzeigen:
+  ----------------------------------------------------------------------
+  1. Konstante 'XmsPagesize' von 4096 auf 32768 Bytes vergrößert,
+     dadurch bisheriges internes Limit von 4096 Blöcken á 4096 Bytes
+     (= 16 Megabyte) aufgehoben.
+  2. Kalkulation des erforderlichen verfügbaren unteren Speichers zum
+     Anfordern von XMS-Speicher auf sinnvollen Wert angepaßt (bisher:
+     2*XmsPagesize, jetzt: XmsPagesize+4096).
+  3. In Verbindung mit der korrekten Ermittlung des verfügbaren XMS
+     unter Windows 9x (s.o.) kann der Lister damit unter DOS und Win9x
+     auf Systemen mit entsprechender Speicherausstattung jetzt Dateien
+     bis max. 64 Megabyte (statt bisher 2 MB!) anzeigen, wenn EMS und
+     XMS vorhanden sind. Ist nur XMS vorhanden, liegt der Maximalwert
+     bei ca. 53 Megabyte.
+  4. Damit ist gleichzeitig sichergestellt, daß Brettlisten von Boxen
+     des Netztyps RFC/Client, die vor dem Laden in den Lister eine
+     interne Konvertierung durchlaufen und dadurch ihren Umfang häufig
+     mehr als verdoppeln, immer vollständig geladen werden können.
+  5. Unter Windows NT/2000/XP liegt das Limit aufgrund der Beschrän-
+     kungen seitens des Betriebssystems weiterhin bei 16 Megabyte.
+  6. Mit der Tastenkombination &lt;Alt-0&gt; kann der von XP angeforderte
+     EMS- und XMS-Speicher jetzt auch dann in der Statuszeile angezeigt
+     werden, wenn XP nicht mit dem Kommandozeilenschalter /d im Debug-
+     Modus gestartet wurde.
+  ToDo: Es gibt immer noch (seltene) Szenarien, bei denen große Dateien
+  ----- oder Nachrichten problemlos angezeigt werden, bei kleineren (mit
+        ein paar hundert Bytes) aber die Meldung über zuwenig XMS- bzw.
+        EMS-Speicher erzeugt wird.
+  LISTER.PAS
+
+
+
+&#9632;  26.04.2003
+-------------
+
+MW:
+- Kalender arbeitet jetzt bis zum Jahr 4000. ;-)
+  XP5.PAS
+
+
+
+&#9632;  18.05.2003
+-------------
+
+JM:
+- Fix: Wenn die Punkte &quot;Kalender&quot; und/oder &quot;Archiv-Viewer&quot; im Zusatzmenü
+  mit XPME deaktiviert waren, dann wurden beim Aufruf benutzerdefinier-
+  ter Menüpunkte ab Eintrag 11 Befehle ganz anderer Einträge ausgeführt
+  (z.B. bei Auswahl von Eintrag 12 der Befehl aus Eintrag 2 usw.).
+  XP1MENU.INC
+
+
+
+&#9632;  22.05.2003
+-------------
+
+JM:
+- Fix: Behandlung der Taste &lt;Ctrl-A&gt; in Eingabefeldern (gesamten Feld-
+  inhalt markieren) im Zusammenhang mit nachfolgenden Aktionen korri-
+  giert: Wenn nach dem Markieren der Feldinhalt mit &lt;Del&gt; gelöscht
+  werden sollte und sich der Cursor hinter dem letzten Zeichen befand,
+  wurde nichts gelöscht. Dasselbe galt, wenn sich der Cursor unter dem
+  ersten Zeichen befand und die Taste &lt;Backspace&gt; gedrückt wurde. Wurde
+  markierter Text direkt mit neuem Text überschrieben, dann wurde die
+  Cursorposition nicht aktualisiert und bei Feldinhalten, die länger
+  waren als die angezeigte Feldlänge, schrieb XP bei diesem Szenario
+  über die Begrenzung des Eingabedialogs hinaus. In allen beschriebenen
+  Fällen wird der Cursor jetzt an die erste Position gesetzt und so der
+  Text korrekt gelöscht.
+  MASKE.INC
+
+
+
+&#9632;  21.06. + 05.-11.08.2003
+--------------------------
+
+MY+JG+JM:
+- Videoroutinen überarbeitet und korrigiert:
+  ----------------------------------------------------------------------
+  1. Fix: Beim Setzen des Videomodus und der Zeilenanzahl sowie dem
+     Laden interner Fonts werden die entsprechenden Aktionen generell
+     jetzt wirklich nur noch dann (aber dann auch immer) ausgeführt,
+     wenn sie tatsächlich erforderlich sind (d.h. wenn sich die Werte
+     der ursprünglichen bzw. vorherigen DOS-Instanz von den in XP zu
+     verwendenden Werten unterscheiden). Bisher wurden die Routinen
+     teils überflüssigerweise, teils aber auch genau dort nicht ausge-
+     führt, wo dies hätte geschehen müssen (z.B. bei der Verwendung
+     interner Fonts, die nicht geladen werden konnten, wenn die
+     ursprüngliche DOS-Instanz im 50-Zeilen-Modus lief).
+  2. Fix: Es wird jetzt auch die Spaltenanzahl geprüft und ggf. korri-
+     giert. Bisher präsentierte XP einen zerschossenen Bildschirm, wenn
+     die Spaltenanzahl in der ursprünglichen bzw. vorherigen DOS-Instanz
+     z.B. auf 94 gesetzt war.
+  3. Fix: Wenn die Zeilenanzahl der ursprünglichen bzw. vorherigen DOS-
+     Instanz auf 43 gesetzt war, war die Bildschirmdarstellung nicht
+     korrekt: Bei Verwendung der Standard-Fonts war der Bildschirm &quot;zu
+     klein&quot;, so daß die letzten 4 bis 5 Zeilen zwar vorhanden, aber
+     nicht sichtbar waren; bei Verwendung der internen Fonts (Parameter
+     /f:*1 bis /f:*3) waren zwar alle Zeilen sichtbar, aber XP lief im
+     21- (/f:*2) bzw. 25-Zeilen-Modus (/f:*1 und /f:*3). Jetzt wird der
+     korrekte 25- bzw. 28-Zeilen-Modus verwendet und bei Standard-Fonts
+     der Bildschirm vollständig angezeigt.
+     Ursache dieses Fehlverhaltens war, daß der 43-Zeilen-Modus ein
+     Sondermodus mit 350 vertikalen Bildpunkten ist, XP aber stur vom
+     VGA-Standard mit 400 Bildpunkten ausging. Falls XP in einer DOS-
+     Instanz im 43-Zeilen-Modus gestartet wurde, dann wird nach der
+     Beendigung von XP die ursprüngliche Bildpunktanzahl wiederherge-
+     stellt (sonst kann es sonderbare &quot;Oversizing&quot;-Effekte speziell in
+     einer DOS-Box von Windows geben).
+     Die Änderung wirkt sich auch auf DOS-Boxen unter Windows aus, bei
+     denen der 43-Zeilen-Modus nicht über den &quot;mode&quot;-Befehl o.ä.,
+     sondern über die Bildschirm-Eigenschaften in der PIF-Datei gesetzt
+     wurde.
+  Alle bis hier beschriebenen Änderungen wirken sich aus beim XP-Start,
+  beim Ändern der Zeilenanzahl in XP, und bei der Rückkehr aus einer
+  DOS-Shell nach XP.
+  4. VESA-Modus für 60 Zeilen wieder ausgebaut. Die Funktion hat selten
+     richtig funktioniert und war eher eine Quelle für Bugreports als
+     ein wirklich sinnvolles Feature. Bei bestehenden Konfigurationen
+     mit 60 Zeilen wird in XPOINT.CFG automatisch &quot;ScreenLines=50&quot;
+     eingetragen und intern gesetzt.
+  5. Der interne Font &quot;C2&quot; (wird mit /f:*1 aktiviert) ist jetzt - außer
+     bei den Kleinbuchstaben natürlich, die wie bisher als Kapitälchen
+     ausgeführt sind - identisch mit dem Standard-Font 8x14, der in den
+     Zeilenmodi 28, 30, 33 und 36 geladen wird.
+  6. Es wird jetzt in *allen* Zeilenmodi ein XP-interner Standard-Font
+     in die Grafikkarte geladen (Vorbereitung für Euro-Support). Bisher
+     war dies nur bei den Zeilenmodi 28, 30, 33 und 36 der Fall.
+     Hinweis: Aufgrund eines Bugs in Windows NT/2000/XP entsteht dadurch
+     -------- der Effekt, daß nach einem XP-Start im Fenstermodus und
+              anschließendem Umschalten ins Vollbild die Bildschirmdar-
+              stellung nicht korrekt ist. Dies kann vorläufig mit einem
+              Neu- und Zurücksetzen der Zeilenzahl mit C/A/Z behoben
+              werden. Ein Workaround hierfür ist in Arbeit.
+  7. Einige optische Anpassungen beim Standard-Font 8x14 (0, ß, M, m, n
+     etc.).
+  8. Der Standard-Font 8x14 ist jetzt *nicht* mehr über den Parameter
+     /f:*4 ansprechbar (wie die Standard-Fonts 8x16 und 8x8 auch nicht
+     über Parameter ansprechbar sind).
+  XP0.PAS, XP1.PAS, XP2.PAS, XP2CFG.INC, XPFONTS.PAS, XPFONTS.INC,
+  VIDEO.PAS, XP.IHQ
+
+
+
+&#9632;  30.06.2003
+-------------
+
+MY:
+- Fix: Kapitalen Bug in der häufig verwendeten Routine 'existf()'
+  behoben, der Ursache für Pseudo-Datenbankcrashes in der Vergangenheit
+  gewesen sein kann (Datei wurde auch dann geschlossen, wenn sie gar
+  nicht existierte!).
+  FILEIO.PAS
+
+
+
+&#9632;  05.07. + 11.08.2003
+----------------------
+
+MW [+MY+JM]:
+- Fix: Aufgrund während der Entwicklungsphase unter bestimmten Umständen
+  reproduzierbarer Pseudo-Datenbank-Crashes, deren Ursache eine zu
+  geringe Anzahl verfügbarer Filehandles war, und weil XP bisher ohnehin
+  permanent hart an der Grenze dessen gearbeitet hat, was aufgrund der
+  Anzahl der von XP selbst geöffneten Dateien an Filehandles benötigt
+  wurde (was wiederum Ursache für sporadische und nicht reproduzierbare
+  Pseudo-Datenbank-Crashes an ganz anderen Stellen in der Vergangenheit
+  gewesen sein kann), wurde die Verwaltung der Filehandles besser
+  organisiert, abgesichert und komplett überarbeitet:
+  ----------------------------------------------------------------------
+  1. XP testet beim Start jetzt auf mindestens 30 (bisher: 16) freie
+     Filehandles für sich selbst sowie auf eine zusätzliche Reserve von
+     mindestens 10 Filehandles für extern gestartete Programme (die
+     diesen dann auch exklusiv zur Verfügung stehen). Steht diese
+     Mindestanzahl von 40 freien Filehandles nicht zur Verfügung,
+     startet XP nicht und gibt wie bisher eine Hinweismeldung aus, daß
+     die Anzahl der Dateien, auf die gleichzeitig zugegriffen werden
+     kann, erhöht werden muß. Zu empfehlen ist hier ohnehin der
+     Maximalwert von 255 Dateien, da ein niedrigerer Wert keinen
+     nennenswerten Vorteil hinsichtlich des verfügbaren unteren
+     Speichers ergibt.
+  2. Steht die Mindestanzahl von 40 freien Filehandles zur Verfügung,
+     startet XP ohne Fehlermeldung und reserviert für sich selbst 30
+     Handles. Alle übrigen Filehandles stehen externen Programmen zur
+     Verfügung und sind vor der Verwendung durch XP geschützt.
+  3. Die Tabelle der max. zu verwaltenden Filehandles wurde von 30 auf
+     255 Einträge erhöht, damit sichergestellt ist, daß unter allen
+     Umständen genügend Einträge vorhanden sind und die Reservierung von
+     Filehandles nicht an einer zu klein dimensionierten Tabelle
+     scheitern kann.
+  4. Die Hinweismeldung verweist unter Windows NT/2000/XP jetzt nicht
+     mehr auf die (dort nicht vorhandene) Datei CONFIG.SYS, sondern auf
+     die Datei CONFIG.NT mit vollständigem Pfad (%SYSTEMROOT%\SYSTEM32).
+     Bei der Datei CONFIG.SYS wird mittels Prüfung auf Existenz (und
+     ggf. dem Durchsuchen aller Laufwerke) jetzt ebenfalls der genaue
+     Pfad angegeben (speziell bei OS/2 muß sie nicht zwingend im Haupt-
+     verzeichnis von Laufwerk C: liegen).
+ XP0.PAS, XP2.PAS, XPX.PAS, XP-D.RQ, XP-E.RQ, XP.IHQ, XP-E.IHQ
+
+
+
+&#9632;  06.07. + 11./12./20./29.08.2003
+----------------------------------
+
+MW:
+- Windows- und OS/2-Versionserkennung verbessert:
+  ----------------------------------------------------------------------
+  1. Windows 9x-Versionen werden jetzt unter X/S/S mit ihrer richtigen
+     Version statt pauschal als &quot;Windows 95/98/Me&quot; erkannt.
+  2. Wenn die XP_NTVDM.DLL fehlt und somit unter Windows NT/2000/XP
+     keine korrekte Versionserkennung vorgenommen werden kann, dann wird
+     unter X/S/S statt der Fehlermeldung &quot;XP_NTVDM.DLL nicht gefunden&quot;
+     jetzt pauschal als Version &quot;Windows NT/2000/XP&quot; ausgegeben.
+  3. OS/2 Warp wird jetzt z.B. als &quot;OS/2 Warp 4.5&quot; statt als &quot;OS/2
+     Version 2.45&quot; ausgegeben.
+  XP2.PAS, XP5.PAS, CLIP.PAS, XP-D.RQ, XP-E.RQ
+
+
+
+&#9632;  25.07.2003
+-------------
+
+MY:
+- Fix (Uralt-Bug): Bei Nachrichten, deren Zeilenenden aus *einem* Leer-
+  zeichen mit anschließendem CRLF bestanden, hat der Editor diese im
+  nicht gequoteten Zustand (z.B. beim Weiterleiten als Kopie und
+  anschließendem &quot;T&quot; im Sendefenster) als &quot;Softbreaks&quot; fehlinterpretiert
+  - was er nur dann tun darf, wenn es sich um die XP-typischen &quot;fort-
+  laufend umbrochenen&quot; Absätze mit *zwei* Leerzeichen am Zeilenende
+  handelt. Folge dieses Verhaltens: Das eine Leerzeichen wurde entfernt
+  und somit das letzte Wort der Zeile mit dem folgenden Wort in der
+  nächsten Zeile zu einem Wort zusammengezogen.
+  EDITOR.PAS
+
+
+
+&#9632;  02./03.08.2003
+-----------------
+
+MY:
+- About-, Beta- und alle sonstigen Dialoge, Ausgaben und Versions-
+  meldungen auf &quot;FreeXP&quot; umgestellt.
+  XP1HELP.PAS, XP2C.PAS, XP4.INC, XP5.PAS, XP6S.INC, IHS.PAS, MAGGI.PAS,
+  NDIFF.PAS, RC.PAS, UUCICO.PAS, UUZ.PAS, XP-FM.PAS, XPGLOBAL.PAS,
+  XPIMPEXP.PAS, XPME.PAS, XPREG.PAS, XPX.PAS, YUP2PKT.PAS, ZFIDO.PAS,
+  ZPR.PAS, XPUU-D.RQ, XPUU-E.RQ, XPFM-D.RQ, XPFM-E.RQ, XP-D.RQ, XP-E.RQ,
+  XP.IHQ, XP-E.IHQ
+
+MY:
+- FreeXP ist jetzt Freeware. :-)
+  ----------------------------------------------------------------------
+  1. Sämtliche Shareware-Beschränkungen und Registrierungsfunktionen
+     deaktiviert bzw. eliminiert.
+  2. Die Eingabe eines freiwilligen Keys ist weiterhin möglich, dieser
+     bzw. ein bereits existierender Key wird wie bisher an den entspre-
+     chenden Stellen (Software-Header, Origin usw.) angezeigt; Freeware-
+     Versionen ohne Key melden sich mit &quot;R/Free&quot;.
+  3. Menü /XPoint/Registrierung umbenannt in /XPoint/Lizenz, dort
+     verweist der Button statt auf die weggefallene LIZENZ.DOC nun auf
+     die Quelltextlizenz SLIZENZ.TXT (bzw. auf deren englische Über-
+     setzung SLICENCE.TXT in nicht-deutschen Versionen).
+  XP0.PAS, XP1.PAS, XP1MENU.INC, XP2.PAS, XP2C.PAS, XP2CFG.INC,
+  XP2DB.PAS, XP3EX.PAS, XP3O.PAS, XP4.INC, XP6.PAS, XP6S.INC, XP7F.PAS,
+  XP9.INC, XPNT.PAS, XPREG.PAS, XP-D.RQ, XP-E.RQ, XP.IHQ, XP-E.IHQ,
+  [-LIZENZ.DOC],[-REGISTER.DOC],[-BESTELL.DOC],README.TXT,SLIZENZ.TXT
+
+
+
+&#9632;  09.-12.08.2003
+-----------------
+
+MY:
+- Laden des Sprachmoduls (Ressource) beim XP-Start komplett überarbeitet
+  und logischer gestaltet:
+  ----------------------------------------------------------------------
+  1. Erzeugung der Fehlermeldung bei ungültigen &quot;alten&quot; Ressourcen mit
+     128 Bytes Blockgröße von RESOURCE.PAS nach XP2.PAS verlagert und
+     mit gleichlautender Fehlermeldung im Falle einer &quot;echten&quot; falschen
+     Ressourcen-Version zusammengefaßt ('OpenResource' ist jetzt eine
+     Funktion).
+  2. Wenn gar keine Ressource vorhanden ist, dann bricht XP jetzt mit
+     einer Fehlermeldung ab, statt wie bisher einen sinnfreien und
+     zwangsläufig zu einer Fehlermeldung führenden Auswahl-Dialog zu
+     erzeugen, welche der (nicht vorhandenen) Ressourcen der User laden
+     möchte.
+  3. Wenn nur eine einzige Ressource vorhanden ist, dann lädt XP diese
+     jetzt unter allen Umständen und ohne Rückfrage. Sollte gleichzeitig
+     der Parameter /L: übergeben worden und/oder die Datei XP.RES vor-
+     handen sein, dann werden diese Angaben jetzt ignoriert, der Inhalt
+     von XP.RES überschrieben und ggf. eine (allerdings meist nicht
+     wahrnehmbare) Fehlermeldung erzeugt, daß der mit /L: übergebene
+     bzw. in XP.RES enthaltene Dateiname nicht existiert.
+  4. In folgenden Fällen erzeugt XP jetzt einen Auswahl-Dialog, welches
+     Sprachmodul geladen werden soll:
+       Es existieren mehrere Dateien, deren Name dem Muster 'XP-?.RES'
+       (&quot;?&quot; = 1 Zeichen) entspricht, und
+       - XP.RES ist nicht vorhanden (in diesem Fall wurde auch bisher
+         schon ein Auswahl-Dialog erzeugt); oder
+       - XP.RES ist vorhanden, enthält aber einen nicht existierenden
+         Dateinamen; in diesem Fall erscheint zusätzlich zum Dialog eine
+         Fehlermeldung (hier brach XP bisher mit einer Fehlermeldung
+         ab); oder
+       - der Parameter /L: wurde übergeben, aber die angegebene
+         Ressource existiert nicht *und* XP.RES existiert ebenfalls
+         nicht oder enthält keinen Dateinamen einer existierenden
+         Ressource (anderenfalls würde dieser verwendet werden); hier
+         erscheint ebenfalls zusätzlich zum Dialog eine Fehlermeldung
+         (auch hier brach XP bisher mit einer Fehlermeldung ab, schrieb
+         den Dateinamen der nicht vorhandenen Ressource dann aber
+         dennoch in XP.RES, was prompt zu einer erneuten Fehlermeldung
+         beim nächsten XP-Start führte).
+     Wenn in den o.g. Fällen jedoch nur eine einzige Ressource mit einem
+     Dateinamen nach dem Muster &quot;XP-?.RES&quot; existiert, aber zusätzlich
+     eine oder mehrere nach dem Muster &quot;XP-*.RES&quot; (&quot;*&quot; = mehrere
+     Zeichen), dann wird *kein* Auswahl-Dialog erzeugt, weil diesen
+     Ressourcen keine eindeutige Taste zugeordnet werden kann. Es wird
+     dann ohne Rückfrage die einzige Ressource geladen, deren Dateiname
+     dem Muster &quot;XP-?.PAS&quot; entspricht.
+     Existiert hingegen gar keine Ressource mit einem Dateinamen nach
+     dem Muster &quot;XP-?.RES&quot;, jedoch mehrere mit einem Dateinamen nach dem
+     Muster &quot;XP-*.RES&quot;, dann wird die erste von 'findfirst' gefundene
+     Ressource geladen.
+  5. Detailänderungen beim Auswahl-Dialog:
+     - Es werden jetzt *alle* Ressourcen zur Auswahl angeboten, deren
+       Dateiname dem Muster &quot;XP-?.RES&quot; entspricht. Dabei wird bei den
+       Dateien &quot;XP-D.RES&quot; bzw. &quot;XP-E.RES&quot; wie bisher der String
+       &quot;&lt;D&gt;eutsch&quot; bzw. &quot;&lt;E&gt;nglish&quot; ausgegeben, in allen anderen Fällen
+       lediglich das Zeichen hinter &quot;XP-&quot; in spitzen Klammern.
+     - Durch alle oben beschriebenen Änderungen ist jetzt gewährleistet,
+       daß die zur Auswahl angebotenen Ressourcen auch existieren, so
+       daß es nicht mehr zu einer Fehlermeldung &quot;XP-?.RES not found&quot;
+       kommen kann.
+     - Etwaige andere Fehlermeldungen *nach* Auswahl einer Ressource
+       (&quot;falsche Version von XP-?.RES&quot;) sind jetzt sprachabhängig
+       (Deutsch bei XP-D.RES, Englisch in allen anderen Fällen) und
+       erfolgen nicht mehr direkt hinter der Eingabeposition, sondern
+       2 Zeilen darunter.
+     - Vorgabe ist jetzt immer &quot;D&quot; (wenn XP-D.RES existiert) bzw. &quot;E&quot;
+       (wenn XP-E.RES, jedoch nicht XP-D.RES existiert); bisher war das
+       vom Zufall abhängig. Existieren beide Ressourcen nicht, ist
+       Vorgabe das Zeichen hinter &quot;XP-&quot; der ersten von 'findfirst'
+       gefundenen Ressource.
+     - Die vom User getroffene Auswahl wird jetzt angezeigt.
+  Generell wird damit jetzt so weit wie möglich vermieden, daß XP
+  unnötigerweise mit einer Fehlermeldung abbricht oder sinnlose Auswahl-
+  Dialoge erzeugt, die ebenfalls zwingend zu einem Abbruch führen.
+  XP2.PAS, RESOURCE.PAS
+
+
+
+&#9632;  10.-11.08.2003
+-----------------
+
+MY:
+- Routine 'fitpath' (Kürzen des Pfad- und Dateinamens zur Anzeige in
+  Editor, Lister, Dateiauswahlbox usw.) komplett neu geschrieben:
+  ----------------------------------------------------------------------
+  1. Fix: Wenn der Pfadname gekürzt und teilweise durch &quot;\...\&quot; ersetzt
+     werden mußte, dann wurden die zwei letzten Zeichen des Gesamt-
+     strings abgeschnitten (Logikbug in der Berechnungsroutine).
+  2. Es wird bei zu kürzenden Pfadnamen nach dem evtl. Kürzen der Datei-
+     erweiterung (3 Zeichen bleiben davon immer erhalten) jetzt zunächst
+     von vorne (bisher: von hinten) beginnend Zug um Zug jeder einzelne
+     Verzeichnisname solange durch den ersten Buchstaben dieses Namens
+     und zwei Punkte ersetzt (&quot;C:\WINDOWS\SYSTEM\&quot; =&gt; &quot;C:\W..\SYSTEM\&quot;),
+     bis der Gesamtstring die vorgegebene Länge unterschreitet. Dadurch
+     bleibt die Anzahl der Verzeichnisebenen zunächst erhalten und er-
+     kennbar, statt wie bisher von vorneherein zu einer Ebene zusammen-
+     gefaßt zu werden. Durch den erhalten gebliebenen Anfangsbuchstaben
+     des Verzeichnisnamens lassen sich trotz der Kürzung weiterhin Rück-
+     schlüsse auf den tatsächlichen Pfad ziehen.
+  3. Verzeichnisnamen, die ohnehin nur aus drei oder weniger Zeichen
+     bestehen, werden nicht ersetzt, sondern bleiben vollständig
+     erhalten.
+  4. Erst wenn danach der Pfad immer noch länger sein sollte als vorge-
+     geben, dann werden - ebenfalls wieder von vorne beginnend - Zug um
+     Zug mehrere Verzeichnisse zu einer Verzeichnisebene zusammengefaßt
+     und durch drei Punkte &quot;\...\&quot; ersetzt, bis die vorgegebene Länge
+     unterschritten ist (&quot;C:\W..\S..\I..\&quot; =&gt; &quot;C:\...\I..\&quot;). An dem
+     fehlenden Buchstaben ist so erkennbar, daß es sich hier um mehrere
+     zusammengefaßte Verzeichnisebenen handelt.
+  5. Ist die vorgegebene Länge auch danach noch nicht unterschritten,
+     wird der Dateiname selbst entsprechend gekürzt und dies wie bisher
+     durch die Zeichen &quot;[...]&quot; kenntlich gemacht.
+  TYPEFORM.PAS
+
+MY:
+- Fix: Bei dem rechts oben im Editor angezeigten Pfad-/Dateinamen waren
+  das oder die letzten Zeichen immer dann abgeschnitten, wenn er die
+  max. Anzeigelänge überschritt und daher durch 'fitpath' gekürzt werden
+  mußte (an 'fitpath' wurde ein falscher Wert übergeben, weil die
+  führenden Leerzeichen nicht berücksichtigt wurden). Dieser Bug ist
+  unabhängig von dem in 'fitpath' selbst, der aus ganz anderen Gründen
+  zu einem ähnlichen Effekt führte.
+  EDITOR.PAS
+
+MY:
+- Fix: Max. zulässige Anzeigelänge des Pfads in der Titelzeile der
+  Dateiauswahlbox auf 59 (statt bisher 61) Zeichen begrenzt (XP schrieb
+  sonst mitunter in den Rahmen des Fensters).
+  WIN2.PAS
+
+MY:
+- Fix: Leicht geänderte Routine 'posn()' von JG übernommen und Sonder-
+  fall behandelt, daß als Startposition der Wert &quot;0&quot; übergeben wird -
+  in diesem Fall war die zurückgegebene Position bisher um den Wert 1 zu
+  niedrig (kein sichtbarer Bug hierzu bisher bekannt).
+  TYPEFORM.PAS
+
+MY:
+- Fix: Die Routine 'countchar' zählte nur beim allerersten Aufruf
+  richtig (Laufvariable 'j' wurde immer inkrementiert und nie
+  zurückgesetzt). Diese Routine ist, nachdem sie in 'fitpath' nicht
+  mehr verwendet wird, derzeit allerdings nirgends in Benutzung.
+  TYPEFORM.PAS
+
+MY:
+- Unit LFN zu 'uses' hinzugefügt (Vorbereitung auf Unterstützung langer
+  Pfad- und Dateinamen &gt; 79 Zeichen).
+  XP1.PAS
+
+
+
+&#9632;  17.-24.08.2003 + 28.08.2003
+------------------------------
+
+MW+MY:
+- Ermitteln des gesamten und des freien Festplatten-Platzes komplett
+  überarbeitet und nochmals (und jetzt hoffentlich endgültig) repariert
+  sowie spezifische Routinen für Windows NT/2000/XP implementiert:
+  ----------------------------------------------------------------------
+  1. Alle Betriebssysteme außer Windows NT/2000/XP:
+     a) Fix: Die Anzeige der Gesamtgröße der XP-Partition unter X/S/S
+        konnte bei bestimmten Sektor-/Cluster-Kombinationen immer noch
+        (bzw. wieder) zu falschen oder negativen Werten führen, weil die
+        von Peter Mandrella seinerzeit speziell für diese Sonderfälle
+        implementierte Logik schon kurz nach Freigabe der XP-Sourcen
+        ohne ersichtlichen Grund entfernt wurde :-( (bei der Ermittlung
+        des *freien* Plattenplatzes wurde sie seltsamerweise nach wie
+        vor verwendet). Es wurde daher immer die gleichnamige und
+        bekanntermaßen nicht immer fehlerfrei arbeitende Pascal-Routine
+        'disksize' aus der Unit DOS aufgerufen.
+     b) Fix: Auch bei der Ermittlung des freien Plattenplatzes auf der
+        XP-Partition wurde an einigen Stellen im Code nicht die eben-
+        falls fehlerbereinigte Routine 'diskfree' aus FILEIO.PAS,
+        sondern die gleichnamige Pascal-Routine aus der Unit DOS
+        verwendet (teilweise gezielt, teilweise zufällig).
+     In FreeXP sind jetzt wieder exakt die Originalroutinen 'disksize'
+     und 'diskfree' von Peter Mandrella aktiv wie bei der Freigabe der
+     Quelltexte von XP v3.20 (und jetzt auch wirklich überall, also
+     nicht nur bei der Anzeige unter X/S/S, sondern auch bei allen
+     internen Berechnungs- und Vergleichsroutinen).
+     c) Bei der Anzeige des gesamten und des freien Plattenplatzes
+        werden Werte größer 2 GB jetzt auch mit &quot;über 2 GB&quot; (statt mit
+        &quot;2047.7 MB&quot;) ausgegeben.
+  ----------------------------------------------------------------------
+  2. Windows NT/2000/XP:
+     a) Fix: Unter Windows NT/2000/XP führte keine der bisher verwende-
+        ten Routinen bei Partitionen größer 1 GB zu korrekten Werten,
+        weil das Betriebssystem (warum auch immer) keine Werte größer
+        1 GB über INT 21h zurücklieferte. Es wurden daher jetzt in die
+        NT-Schnittstelle XP_NTVDM.DLL (bisher ausschließlich zuständig
+        für Versionserkennung und Clipboard-Unterstützung) auch die
+        entsprechenden Festplatten-Funktionen der Windows-API implemen-
+        tiert. Damit werden über die neuen Funktionen 'NTDiskSize' und
+        'NTDiskFree' auch auf NT-Systemen jetzt immer die korrekten
+        Werte für den gesamten und den freien Festplatten-Platz auf der
+        XP-Partition ermittelt (vorausgesetzt, XP_NTVDM.DLL liegt im
+        XP-Verzeichnis). :-)
+        Die Routinen geben im Unterschied zu 'disksize' und 'diskfree'
+        den ermittelten Wert in MB zurück (statt in Bytes).
+     b) Bei der Anzeige der Gesamtgröße der XP-Partition unter X/S/S
+        werden daher jetzt Werte bis zu 2 PB unterstützt und angezeigt
+        (PB = Petabyte, 1 PB entspricht 1.073.741.824 MB).
+     c) Alle internen Berechnungs- und Vergleichsroutinen (&quot;Genug Platz
+        für Datei plus ggf. Reserve?&quot;) arbeiten über die ebenfalls neue
+        und betriebssystemunabhängige Funktion 'disk_free' jedoch auch
+        auf NT-Systemen mit einem Maximalwert von 2 GB, da XP keine
+        Dateien größer als 2 GB verwalten kann und vermieden werden muß,
+        daß der Versuch unternommen wird, solche zu generieren.
+     d) In Fällen, wo auf den verfügbaren Plattenplatz geprüft wird, um
+        festzustellen, ob eine Datei *kopiert* werden kann, entfällt die
+        künstliche Beschränkung auf 2 GB. Die einzige Stelle, an der
+        dies derzeit wirksam ist, ist der Dupekill, der unter Windows
+        NT/2000/XP jetzt auch mit einer 2 GB großen Nachrichtendatenbank
+        MSGS.DB1 durchführbar wäre (unter allen anderen Betriebssystemen
+        &quot;nur&quot; mit einer max. 1 GB großen MSGS.DB1).
+  ----------------------------------------------------------------------
+  3. Alle Betriebssysteme:
+     a) Bei der Anzeige des von XP belegten Plattenplatzes unter X/S/S
+        wird jetzt immer der tatsächlich belegte Plattenplatz bis zu
+        8192 PB ausgegeben (bisher kam es bei mehr als 2 GB zu einem
+        Integer-Überlauf, dadurch konnten negative Werte entstehen). In
+        der Praxis dürfte XP derzeit aber nicht wesentlich mehr als max.
+        rund 40 GB belegen, da die Ablagedateien MPUFFER.* eine Maximal-
+        größe von 2 GB annehmen können. Zukünftige XP-Versionen könnten
+        bei Erweiterung der Anzahl der MPUFFER (bis 256 sind möglich)
+        bis zu ca. 512 GB belegen.
+     b) Um den Platzbedarf von XP-Installationen größer 2 GB korrekt
+        anzeigen zu können, wird für die Berechnung der Datentyp COMP
+        verwendet (unter Windows NT/2000/XP immer, bei allen anderen
+        Systemen nur bei Festplatten größer 2 GB), der einen numerischen
+        Co-Prozessor (8087) benötigt. Für Rechner mit 386/486-Prozes-
+        soren ohne Co-Prozessor wird daher jetzt die CoPro-Emulation von
+        Pascal aktiviert und verwendet.
+     c) Das Dateiauswahl-Fenster verwendet für die Anzeige der freien
+        Rsstkapazität auf dem jeweiligen Laufwerk jetzt dieselbe Routine
+        wie die Anzeige unter XPoint/Statistik/Speicher (neue gemeinsam
+        genutzte Funktion 'diskfree_string'), statt eigene Brötchen zu
+        backen und dadurch zu anderen (und falschen) Ergebnissen zu
+        kommen.
+     d) Meldung beim XP-Start auf Rechnern mit 8088/80286-Prozessor, daß
+        XP einen 386-Prozessor mit numerischem Co-Prozessor benötige,
+        korrigiert (Co-Prozessor wird *nicht* benötigt).
+  XP1.PAS, XP2.PAS, XP2DB.PAS, XP3O.PAS, XP3O.INC, XP4O.PAS, XP4O.INC,
+  XP5.PAS, XP7O.PAS, XP_NTVDM.PAS, XPDEFINE.INC, XPFIDO.PAS,
+  XPFIDONL.PAS, XPGLOBAL.PAS, XPIMPEXP.PAS, XPOVL.PAS, XPX.PAS,
+  CLIP.PAS, DATABASO.PAS, FILEIO.PAS, WIN2.PAS, MAGGI.PAS, UUCICO.PAS
+
+
+
+&#9632;  18.-25.08.2003
+-----------------
+
+MW [+MY]:
+- Absicherung gegen möglichen Datenverlust durch harten Crash beim
+  Überschreiten der Grenze von 2 GB bei Ablagedateien MPUFFER.*
+  implementiert:
+  ----------------------------------------------------------------------
+  1. Beim Programmstart gibt XP jetzt für jede der Ablagedateien
+     MPUFFER.* eine Warnung aus, deren Dateigröße zzgl. des unter C/O/A
+     eingestellten minimalen freien Platzes auf der XP-Partition größer
+     als 2 GB ist.
+  2. Nach einem Netcall gibt XP jetzt eine Hinweismeldung aus, wenn
+     keine Ablagedatei MPUFFER.* mehr gefunden werden konnte, die klein
+     genug ist, um den aktuellen Pollpuffer aufzunehmen, ohne dadurch
+     eine Dateigröße von mehr als 2 GB anzunehmen. Danach verschiebt XP
+     den Pollpuffer ins BAD und beendet sich.
+  XP.PAS, XP2.PAS, [+XP2M.PAS], XP3O.INC, XP-D.RQ, XP-E.RQ,
+  XP.IHQ, XP-E.IHQ
+
+
+
+&#9632;  25.08.2003
+-------------
+
+MY:
+- Bei der Erzeugung von Temporärdateien wird als Dateierweiterung jetzt
+  &quot;.TMP&quot; (statt bisher &quot;.tmp&quot;) verwendet. Dies dient wie alle übrigen
+  Änderungen in dieser Richtung dazu, die Erzeugung von LFNs unter
+  Windows und damit das anschließend mögliche Entstehen von &quot;LFN-
+  Leichen&quot; unter DOS zu verhindern.
+  Hinweis: Das Tool &quot;XPTag v1.4b&quot; von Uwe Hoffmann erwartet aufgrund
+  -------- einer kleinen Nachlässigkeit zwingend kleingeschriebene
+           Dateierweiterungen &quot;.tmp&quot; bei der Parameterübergabe, anson-
+           sten beendet es sich kommentarlos. Eine von FreeXP gefixte
+           XPTag-Version v1.4c, die sowohl klein- als auch großgeschrie-
+           bene Erweiterungen verarbeitet (und bei der gleichzeitig der
+           RTE200-Bug von Pascal beseitigt ist), ist auf dem FreeXP-FTP-
+           Server unter <A HREF="ftp://ftp.freexp.de/freexp/tools/xptag14c.zip">ftp://ftp.freexp.de/freexp/tools/xptag14c.zip</A>
+           erhältlich.
+  FIELIO.PAS
+
+
+
+&#9632;  25./26.08.2003
+-----------------
+
+MW:
+- Einträge für &quot;zip&quot; und &quot;unzip&quot; unter C/X/Entpacker und D/B/&lt;Box&gt;/E/P
+  ergänzt und Download/Upload-Einträge einheitlich sortiert.
+  XP9.INC, XP9SEL.PAS
+
+
+
+&#9632;  26.08.2003
+-------------
+
+MW+MY:
+- Möglichen Arithmetik-Überlauf beim Import von großen Yuppie- und
+  MauTau-Datenbanken abgefangen (max. zulässige Datenbankgröße ist
+  jetzt 858.993.459 Bytes (also rund 838 MB), weil der Rest bis zu
+  2 GB als Reserve benötigt wird).
+  XPIMPEXP.PAS
+
+
+
+&#9632;  27.08.2003
+-------------
+
+MY:
+- Fix: Beim Multiserver-Netcall einer RFC/Client-Box wird die Datei
+  NEUES.DAT jetzt nur noch beim Einlesen des Nachrichtenpuffers der
+  Pollbox geschrieben, nicht aber mehr beim Einlesen der Nachrichten der
+  zusätzlichen Serverboxen. Dadurch funktioniert der Lesemodus &quot;Neues&quot;
+  jetzt auch nach Multiserver-Netcalls korrekt.
+  XP3O.PAS, XP3O.INC, XP7.PAS, XP7.INC, XP7F.PAS, XP7U.INC, XPAUTO.PAS,
+  XPIMPEXP.PAS, XPF2.PAS
+
+MY:
+- Zusätzliche Schnittstellenfunktion für den Betrieb von externen
+  Clients in einer RFC/Client-Box implementiert:
+  ----------------------------------------------------------------------
+  Die zwar prinzipiell richtige, mitunter aber auch lästige Meldung &quot;Es
+  konnten nicht alle Nachrichten versandt werden!&quot; wird jetzt unter-
+  drückt, wenn sich die Datei NO_UVS.ERR im XP-Verzeichnis befindet.
+  Externe Clients oder Client-Kits, die z.B. Auswahlmenüs beim Netcall
+  anbieten (&quot;Nur Mail holen&quot;, &quot;Nur News holen/senden&quot; etc.), können
+  durch Prüfung der nach dem Client-Aufruf im Spool-Verzeichnis der Box
+  liegenden Dateien M*.OUT (Mail) und N*.OUT (News) jetzt selbst gezielt
+  darauf prüfen, ob alle zu versendenden Nachrichten übermittelt werden
+  konnten oder nicht. Je nach Ergebnis der Prüfung können sie dann die
+  Datei NO_UVS.ERR erzeugen, um so eine unerwünschte und je nach Kontext
+  auch unzutreffende Fehlermeldung zu verhindern.
+  XP selbst legt wie bisher immer *alle* zu versendenen Mails und News
+  im Spool-Verzeichnis der Box ab, restauriert nach dem Client-Aufruf
+  wieder *alle* unversandten Nachrichten aus den Nachrichtenpuffern und
+  schreibt sie in einen neuen Pollpuffer &lt;Box&gt;.PP.
+  Eine evtl. noch vom letzten Netcall vorhandene Datei NO_UVS.ERR wird
+  beim nächsten Netcall einer RFC/Client-Box unmittelbar vor dem Client-
+  Aufruf gelöscht, so daß der Client bzw. das Client-Kit sich nicht
+  darum kümmern müssen, den aktuellen Zustand zu prüfen und einen defi-
+  nierten Ausgangszustand herzustellen.
+  XP7U.INC
+
+UM:
+- Mail- und Newsserver-Liste in SERVERS.DAT aktualisiert
+  (news.cis.dfn.de =&gt; news.individual.de, news.individual.net)
+
+
+
+&#9632;  28.08.2003
+-------------
+
+MY+JG:
+- Interne Änderung (Fix): Wenn der Kommandozeilenparameter /w2 (konser-
+  vative Rechenzeitfreigabe) beim XP-Start angegeben wurde, dann funk-
+  tionierten die &quot;Spezial-Tasten&quot; &lt;AltGr-N&gt; (Hotkey zum Durchsuchen der
+  Nodeliste) und &lt;AltGr-E&gt; (Euro-Taste) nicht. Abfrage auf &quot;UseMulti2&quot;
+  entfernt, die Tastaturabfrage verhält sich jetzt bei Angabe von /w2
+  identisch wie bei allen anderen Rechenzeitfreigabe-Modi.
+  INOUT.PAS
+
+MY:
+- Beim XP-Start wird unter Windows NT/2000/XP jetzt auf Existenz und
+  korrekte Revision der NT-Schnittstelle XP_NTVDM.DLL geprüft und ggf.
+  ein Warnhinweis ausgegeben sowie die Auswahl angeboten, XP zu beenden
+  oder fortzufahren. Die Prüfung läßt sich mit dem Kommandozeilen-
+  Parameter &quot;/novdmchk&quot; abschalten.
+  [Vorläufige Fassung, ausführlicherer Hinweis und Hilfetexte mit
+  Erläuterungen müssen noch implementiert werden.]
+  XP.PAS, XP0.PAS, XP2.PAS, XP2M.PAS, XP-D.RQ, XP-E.RQ, XP.IHQ, XP-E.IHQ
+
+
+
+&#9632;  29./30.08.2003
+-----------------
+
+MY:
+- Fixes beim Einbinden von Node-/Pointdiffs (Fido):
+  ----------------------------------------------------------------------
+  1. Bei Dateinamen von Update-Archiven oder -Diffs, die nicht aus-
+     schließlich großgeschrieben waren, ergab der Stringvergleich
+     'false' und der Versuch des Einbindens wurde mit der Fehlermeldung
+     &quot;Datei konnte nicht als Node-/Pointlist-Update eingebunden werden&quot;
+     abgewiesen.
+  2. Unter bestimmten Umständen (z.B. wenn der Nodelist-Processor
+     NDIFF.EXE nicht existierte) führte der fehlgeschlagene Versuch der
+     Einbindung mitunter zu der irreführenden Fehlermeldung &quot;Diese
+     Node-/Pointliste ist bereits eingebunden!&quot; (Variable 'TmpDoDiff'
+     war nicht initialisiert und hatte daher einen zufälligen Wert).
+  XPFIDONL.PAS
+
+
+%Snapshot vom xx.xx.2003, xx:xx Uhr
+G.   Snapshot vom xx.xx.2003, xx:xx Uhr
+---------------------------------------
+&#9632;  03.09.2003
+-------------
+
+MW:
+%! Fehlermeldung für fehlende Filehandles unter Window Me
+- Anpassung an Windows Me: Die Fehlermeldung über zu wenig zur Verfügung
+  stehende Filehandles verweist dort jetzt auf die SYSTEM.INI im
+  Windows-Verzeichnis und erläutert den vorzunehmenden Eintrag.
+  XP2.PAS, XP-D.RQ, XP-E.RQ, XP.IHQ, XP-E.IHQ
+
+
+&#9632;  04.09.2003
+-------------
+
+MW:
+%* Ausbau von X/S/S zur allgemeinen Supporthilfe
+- Ausbau von X/S/S zur allgemeinen Supporthilfe: Es wird jetzt auch dort
+  die genaue FreeXP-Version angezeigt (bei der Verwendung von Snapshots
+  auch Datum/Uhrzeit des Snapshots).
+  XP5.PAS
+
+
+&#9632;  08.10.-13.10.2003
+--------------------
+
+MY:
+%! Decodierung von quoted-printable-, base64-, und/oder UTF-7/8-codierten
+%  Textteilen in Multipart-Nachrichten korrigiert und deutlich robuster
+%  gestaltet, speziell im Zusammenhang mit langen Zeilen &gt; 255 Zeichen.
+- Decodierung von quoted-printable-, base64-, und/oder UTF-7/8-codierten
+  Textteilen in Multipart-Nachrichten korrigiert und deutlich robuster
+  gestaltet, speziell im Zusammenhang mit langen Zeilen &gt; 255 Zeichen:
+  ----------------------------------------------------------------------
+  1. Bei quoted-printable-codierten Zeilen mit mehr als 255 Zeichen
+     wurde im Lister nur der Teil bis zu der Stelle angezeigt, die sich
+     *vor* der qp-Decodierung an Pos. 255 der Zeile befand. Die bisheri-
+     ge Behandlung langer Zeilen ging offenbar davon aus, daß sich alle
+     Mail- und Newsreader an das RFC-Limit von max. 76 Zeichen bei qp-
+     codierten Zeilen halten, was in der Praxis ganz offenbar nicht der
+     Fall ist.
+     Die neue Routine decodiert jetzt beliebig lange qp-Zeilen korrekt
+     und beachtet dabei auch alle theoretisch vorkommenden Sonderfälle
+     (Pos. 255 bzw. ein beliebiges Vielfaches davon oder ein &quot;Softbreak&quot;
+     befinden sich mitten in einem codierten Zeichen, Zeichen &quot;=&quot; befin-
+     det sich an Pos. 255, darf aber nicht als Softbreak fehlinterpre-
+     tiert werden usw.).
+  2. Die UTF-8-Decodierung besaß grundsätzlich bereits eine Vorkehrung
+     gegen solche Sonderfälle von &quot;zerrissenen&quot; codierten Zeichen (wie
+     sie gerne bei zusätzlich base64-codierten Texten entstehen), sie
+     funktionierte im Falle langer Zeilen mit mehr als 255 Zeichen
+     jedoch nur dann zuverlässig, wenn die Gesamtlänge der Zeile nicht
+     mehr als 504 Zeichen betrug (ansonsten entstand Zeichenverlust).
+     Auch hier werden jetzt beliebig lange Zeilen korrekt unterstützt.
+  3. UTF-8-codierte Texte, die zusätzlich qp-codiert waren und bei denen
+     sich ein Softbreak &quot;=&quot; mitten in einem UTF-8-codierten Zeichen
+     befand (was zulässig ist), wurden nicht korrekt decodiert, weil das
+     Softbreak-Zeichen nach der qp-Decodierung und vor der Übergabe des
+     Strings an die UTF-8-Decodierroutine nicht entfernt wurde.
+  4. Die Decodierung von base64-codierten Textteilen erfolgt jetzt immer
+     &quot;zeilenweise&quot;, d.h. anders als bisher können nie CRLFs (oder andere
+     Zeilenabschlüsse) mitten im zu decodierenden String enthalten sein.
+     Dadurch werden jetzt auch UTF-8- und base64-codierte Texte, die
+     durch CRLF zerrissene UTF-8-Zeichen enthalten, korrekt decodiert.
+  5. Die UTF-7-Decodierung kann jetzt auch mit langen Zeilen &gt; 255
+     Zeichen sowie mit durch Softbreaks oder CRLFs zerrissenen codierten
+     Zeichen umgehen; es gilt sinngemäß dasselbe wie bereits oben für
+     die UTF-8-Decodierung ausgeführt.
+  XPMIME.PAS, MIMEDEC.PAS
+
+MY:
+- Multipart-Variablen &quot;Charset&quot; und &quot;aCharset&quot; von 25 auf 30 Zeichen
+  vergrößert, um alle zulässigen Zeichensatzbezeichnungen unterstützen
+  zu können.
+  XPMIME.PAS
+
+
+
+&#9632;  02.11.2003
+-------------
+
+CL:
+%! Einfrieren von XP bei Nachrichten größer als 2 GB behoben
+- Fix (Uralt-Bug): Wenn in einer (defekten) Datenbank die Summe aus
+  den Werten für Puffer-Offset und Größe der Nachricht größer als 2GB
+  war, hing XP wegen eines Arithmetik-Überlaufs bei der Reorganisation
+  in einer Endlosschleife fest.
+  XP4O.INC
+
+
+&#9632;  11.11.2003
+-------------
+
+MY:
+%! nur noch in der Datenbank als &quot;echte&quot; Multiparts erfasste Nachrichten
+%  werden per MIME-Auswahldialog angezeigt und konvertiert
+- Fix: Beim Beantworten einer Nachricht wurde die Multipart-Routine
+  ('SelectMultiPart') auch dann durchlaufen, wenn es sich gar nicht um
+  eine Multipart-Nachricht (mit dem Flag &quot;M&quot;) handelte. Wenn die Nach-
+  richt zufällig Boundary-Header enthielt (z.B. wenn eine komplette RFC-
+  Nachricht in den Body kopiert wurde), wurde diese fälschlicherweise
+  als Multipart-Nachricht erkannt, der MIME-Auswahldialog angezeigt und
+  eine ISO=&gt;IBM-Konvertierung vorgenommen (&quot;ß&quot; =&gt; &quot;á&quot;), obwohl die
+  Singlepart-Nachricht per Definition bereits im IBM-Zeichensatz vorlag.
+  'SelectMultiPart' wird jetzt nur noch bei echten Multipart-Nachrich-
+  ten, die das entsprechende Datenbank-Flag besitzen, durchlaufen.
+  XP4.PAS
+
+
+&#9632;  03.12.2003
+-------------
+
+MK:
+- Theoretisch möglichen Datenbankfehler beim Ersetzen von Rückläufern
+  verhindert (kein konkreter Bug in FreeXP hierzu bekannt).
+  XP3O.INC
+
+

</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Vorherige Nachricht: <A HREF="000122.html">CVS update: freexp/build/DOS16
</A></li>
	<LI>Nächste Nachricht: <A HREF="000124.html">CVS update: freexp/doc
</A></li>
         <LI> <B>Nachrichten sortiert nach:</B>
              <a href="date.html#123">[ Datum ]</a>
              <a href="thread.html#123">[ Diskussionsfaden ]</a>
              <a href="subject.html#123">[ Betreff (Subject)]</a>
              <a href="author.html#123">[ Autor ]</a>
         </LI>
       </UL>
<hr>
<a href="http://www.freexp.de/cgi-bin/mailman/listinfo/cvs-list">Mehr Informationen &uuml;ber die CVS-List Mailingliste</a><br>
</body></html>
